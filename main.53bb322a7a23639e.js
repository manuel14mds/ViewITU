"use strict";(self.webpackChunkITU=self.webpackChunkITU||[]).push([[179],{9058:(ye,re,O)=>{O.d(re,{BH:()=>Ee,L:()=>ue,LL:()=>at,P0:()=>pt,Pz:()=>Oe,Sg:()=>et,ZR:()=>lt,aH:()=>se,b$:()=>Ge,eu:()=>$e,hl:()=>Ve,m9:()=>Ur,ne:()=>An,pd:()=>Qt,q4:()=>vt,ru:()=>Yt,tV:()=>J,uI:()=>ct,vZ:()=>Pr,w1:()=>an,xO:()=>Nt,xb:()=>Rr,z$:()=>ot,zd:()=>st});const ee=function(me){const W=[];let Y=0;for(let G=0;G<me.length;G++){let K=me.charCodeAt(G);K<128?W[Y++]=K:K<2048?(W[Y++]=K>>6|192,W[Y++]=63&K|128):55296==(64512&K)&&G+1<me.length&&56320==(64512&me.charCodeAt(G+1))?(K=65536+((1023&K)<<10)+(1023&me.charCodeAt(++G)),W[Y++]=K>>18|240,W[Y++]=K>>12&63|128,W[Y++]=K>>6&63|128,W[Y++]=63&K|128):(W[Y++]=K>>12|224,W[Y++]=K>>6&63|128,W[Y++]=63&K|128)}return W},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,W){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let K=0;K<me.length;K+=3){const we=me[K],Ye=K+1<me.length,It=Ye?me[K+1]:0,Lt=K+2<me.length,cn=Lt?me[K+2]:0;let Kn=(15&It)<<2|cn>>6,nr=63&cn;Lt||(nr=64,Ye||(Kn=64)),G.push(Y[we>>2],Y[(3&we)<<4|It>>4],Y[Kn],Y[nr])}return G.join("")},encodeString(me,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(me):this.encodeByteArray(ee(me),W)},decodeString(me,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(me):function(me){const W=[];let Y=0,G=0;for(;Y<me.length;){const K=me[Y++];if(K<128)W[G++]=String.fromCharCode(K);else if(K>191&&K<224){const we=me[Y++];W[G++]=String.fromCharCode((31&K)<<6|63&we)}else if(K>239&&K<365){const Lt=((7&K)<<18|(63&me[Y++])<<12|(63&me[Y++])<<6|63&me[Y++])-65536;W[G++]=String.fromCharCode(55296+(Lt>>10)),W[G++]=String.fromCharCode(56320+(1023&Lt))}else{const we=me[Y++],Ye=me[Y++];W[G++]=String.fromCharCode((15&K)<<12|(63&we)<<6|63&Ye)}}return W.join("")}(this.decodeStringToByteArray(me,W))},decodeStringToByteArray(me,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let K=0;K<me.length;){const we=Y[me.charAt(K++)],It=K<me.length?Y[me.charAt(K)]:0;++K;const cn=K<me.length?Y[me.charAt(K)]:64;++K;const tn=K<me.length?Y[me.charAt(K)]:64;if(++K,null==we||null==It||null==cn||null==tn)throw new de;G.push(we<<2|It>>4),64!==cn&&(G.push(It<<4&240|cn>>2),64!==tn&&G.push(cn<<6&192|tn))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(me){return function(me){const W=ee(me);return Q.encodeByteArray(W,!0)}(me).replace(/\./g,"")},J=function(me){try{return Q.decodeString(me,!0)}catch(W){console.error("base64Decode failed: ",W)}return null},Ze=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=me&&J(me[1]);return W&&JSON.parse(W)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},vt=me=>{var W,Y;return null===(Y=null===(W=Ze())||void 0===W?void 0:W.emulatorHosts)||void 0===Y?void 0:Y[me]},pt=me=>{const W=vt(me);if(!W)return;const Y=W.lastIndexOf(":");if(Y<=0||Y+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const G=parseInt(W.substring(Y+1),10);return"["===W[0]?[W.substring(1,Y-1),G]:[W.substring(0,Y),G]},se=()=>{var me;return null===(me=Ze())||void 0===me?void 0:me.config},Oe=me=>{var W;return null===(W=Ze())||void 0===W?void 0:W[`_${me}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,G)=>{Y?this.reject(Y):this.resolve(G),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,G))}}}function et(me,W){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=W||"demo-project",K=me.iat||0,we=me.sub||me.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:K,exp:K+3600,auth_time:K,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},me);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ye)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Yt(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function an(){const me=ot();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((me,W)=>{try{let Y=!0;const G="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(G);K.onsuccess=()=>{K.result.close(),Y||self.indexedDB.deleteDatabase(G),me(!0)},K.onupgradeneeded=()=>{Y=!1},K.onerror=()=>{var we;W((null===(we=K.error)||void 0===we?void 0:we.message)||"")}}catch(Y){W(Y)}})}class lt extends Error{constructor(W,Y,G){super(Y),this.code=W,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(W,Y,G){this.service=W,this.serviceName=Y,this.errors=G}create(W,...Y){const G=Y[0]||{},K=`${this.service}/${W}`,we=this.errors[W],Ye=we?function Gt(me,W){return me.replace(ke,(Y,G)=>{const K=W[G];return null!=K?String(K):`<${G}?>`})}(we,G):"Error";return new lt(K,`${this.serviceName}: ${Ye} (${K}).`,G)}}const ke=/\{\$([^}]+)}/g;function Rr(me){for(const W in me)if(Object.prototype.hasOwnProperty.call(me,W))return!1;return!0}function Pr(me,W){if(me===W)return!0;const Y=Object.keys(me),G=Object.keys(W);for(const K of Y){if(!G.includes(K))return!1;const we=me[K],Ye=W[K];if(Re(we)&&Re(Ye)){if(!Pr(we,Ye))return!1}else if(we!==Ye)return!1}for(const K of G)if(!Y.includes(K))return!1;return!0}function Re(me){return null!==me&&"object"==typeof me}function Nt(me){const W=[];for(const[Y,G]of Object.entries(me))Array.isArray(G)?G.forEach(K=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent(K))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(G));return W.length?"&"+W.join("&"):""}function st(me){const W={};return me.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[K,we]=G.split("=");W[decodeURIComponent(K)]=decodeURIComponent(we)}}),W}function Qt(me){const W=me.indexOf("?");if(!W)return"";const Y=me.indexOf("#",W);return me.substring(W,Y>0?Y:void 0)}function An(me,W){const Y=new yn(me,W);return Y.subscribe.bind(Y)}class yn{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(G=>{this.error(G)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,G){let K;if(void 0===W&&void 0===Y&&void 0===G)throw new Error("Missing Observer.");K=function Fn(me,W){if("object"!=typeof me||null===me)return!1;for(const Y of W)if(Y in me&&"function"==typeof me[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:G},void 0===K.next&&(K.next=Zn),void 0===K.error&&(K.error=Zn),void 0===K.complete&&(K.complete=Zn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),we}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function Ur(me){return me&&me._delegate?me._delegate:me}},4213:(ye,re,O)=>{O.d(re,{e:()=>fe});var y=O(5861),$=O(1210),he=O(5349);const ee=ce=>{switch(ce){case"auth/invalid-login-credentials":return"Invalid credentials.";case"auth/email-already-in-use":return"The email address is already in use by another user.";case"auth/invalid-email":return"The email address is not valid.";case"auth/user-not-found":return"There is no user record corresponding to this email.";case"auth/wrong-password":return"The password is invalid or the user does not have a password.";case"auth/weak-password":return"The password must be at least 6 characters long.";case"auth/network-request-failed":return"A network error has occurred,look at your internet connection.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. The user is temporarily blocked.";default:return"Something wrong. Try again."}};var j=O(5226),Q=O(6680),de=O(4221),ge=O(9420);const ue=(0,de.ZF)(ge.o),J=(0,de.P1)(ue,ce=>ce.authUser);var ne=O(5879);let fe=(()=>{class ce{constructor(De,Ne,it){this.store=De,this.storeNgRx=Ne,this.auth=it,this.docRef=(0,he.hJ)(this.store,"users"),this.usersCollection=(0,he.hJ)(this.store,"users"),this.authUser$=this.storeNgRx.select(J)}signUp(De){var Ne=this;return(0,y.Z)(function*(){try{yield(0,$.Xb)(Ne.auth,De.email,De.password).then(()=>{delete De.password,Ne.addUser(De)});const it=yield Ne.getUserByEmail(De.email);return it?(Ne.storeNgRx.dispatch(Q.E.setUser({data:it})),(0,j.JR)(it),{status:!0,message:"success"}):{status:!1,message:"Something wrong, try again"}}catch(it){return it.code?{status:!1,message:ee(it.code)}:{status:!1,message:"Something wrong, try again"}}})()}logIn(De){var Ne=this;return(0,y.Z)(function*(){try{const it=yield(0,$.e5)(Ne.auth,De.email,De.password),Ze=yield Ne.getUserByEmail(it.user.email);return Ze?(Ne.storeNgRx.dispatch(Q.E.setUser({data:Ze})),(0,j.JR)(Ze),{status:!0,message:"success"}):{status:!1,message:"400: Wrong credentials"}}catch(it){return it.code?{status:!1,message:ee(it.code)}:{status:!1,message:"400: Wrong credentials"}}})()}logOut(){(0,j.h8)(),this.auth.signOut(),this.storeNgRx.dispatch(Q.E.resetUserState())}addUser(De){(0,he.ET)(this.docRef,De)}getUserByEmail(De){var Ne=this;return(0,y.Z)(function*(){try{const it=yield(0,he.PL)((0,he.IO)(Ne.usersCollection,(0,he.ar)("email","==",De)));return it.size>0?{...it.docs[0].data(),id:it.docs[0].id}:null}catch(it){return console.error("Error fetching user by email:",it),null}})()}static#e=this.\u0275fac=function(Ne){return new(Ne||ce)(ne.LFG(he.gg),ne.LFG(de.yh),ne.LFG($.gx))};static#t=this.\u0275prov=ne.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},5226:(ye,re,O)=>{O.d(re,{JR:()=>ee,PR:()=>$,h8:()=>Q});const $=()=>{let de=JSON.parse(localStorage.getItem("user")||"{}");return 0===Object.keys(de).length?null:de},ee=de=>{const{id:ge,email:ue,name:J,thumbnail:ne,role:fe}=de;localStorage.setItem("user",JSON.stringify({id:ge,email:ue,name:J,thumbnail:ne,role:fe}))},Q=()=>{localStorage.removeItem("user")}},6680:(ye,re,O)=>{O.d(re,{E:()=>$});var y=O(4221);const $=(0,y.R7)({source:"user",events:{"Set User":(0,y.Ky)(),"Register User":(0,y.Ky)(),"Reset User state":(0,y.uZ)()}})},9420:(ye,re,O)=>{O.d(re,{d:()=>j,o:()=>he});var y=O(4221),$=O(6680);const he="userReducer",ee={authUser:null},j=(0,y.Lq)(ee,(0,y.on)($.E.setUser,(Q,{data:de})=>({...Q,authUser:de})),(0,y.on)($.E.resetUserState,()=>ee))},7968:(ye,re,O)=>{var y=O(6593),$=O(5879),he=O(721),ee=O(1210),j=O(5349),Q=O(6825);function ge(V){return new $.vHH(3e3,!1)}function Kt(V){switch(V.length){case 0:return new Q.ZN;case 1:return V[0];default:return new Q.ZE(V)}}function gn(V,m,T=new Map,M=new Map){const B=[],X=[];let _e=-1,pe=null;if(m.forEach(xe=>{const Qe=xe.get("offset"),wt=Qe==_e,Rt=wt&&pe||new Map;xe.forEach((On,In)=>{let en=In,mn=On;if("offset"!==In)switch(en=V.normalizePropertyName(en,B),mn){case Q.k1:mn=T.get(In);break;case Q.l3:mn=M.get(In);break;default:mn=V.normalizeStyleValue(In,en,mn,B)}Rt.set(en,mn)}),wt||X.push(Rt),pe=Rt,_e=Qe}),B.length)throw function an(V){return new $.vHH(3502,!1)}();return X}function Xt(V,m,T,M){switch(m){case"start":V.onStart(()=>M(T&&En(T,"start",V)));break;case"done":V.onDone(()=>M(T&&En(T,"done",V)));break;case"destroy":V.onDestroy(()=>M(T&&En(T,"destroy",V)))}}function En(V,m,T){const X=Sn(V.element,V.triggerName,V.fromState,V.toState,m||V.phaseName,T.totalTime??V.totalTime,!!T.disabled),_e=V._data;return null!=_e&&(X._data=_e),X}function Sn(V,m,T,M,B="",X=0,_e){return{element:V,triggerName:m,fromState:T,toState:M,phaseName:B,totalTime:X,disabled:!!_e}}function Pn(V,m,T){let M=V.get(m);return M||V.set(m,M=T),M}function Wn(V){const m=V.indexOf(":");return[V.substring(1,m),V.slice(m+1)]}const er=(()=>typeof document>"u"?null:document.documentElement)();function Rr(V){const m=V.parentNode||V.host||null;return m===er?null:m}let Pr=null,Re=!1;function Qt(V,m){for(;m;){if(m===V)return!0;m=Rr(m)}return!1}function jt(V,m,T){if(T)return Array.from(V.querySelectorAll(m));const M=V.querySelector(m);return M?[M]:[]}let yn=(()=>{class V{validateStyleProperty(T){return function ht(V){Pr||(Pr=function st(){return typeof document<"u"?document.body:null}()||{},Re=!!Pr.style&&"WebkitAppearance"in Pr.style);let m=!0;return Pr.style&&!function oi(V){return"ebkit"==V.substring(1,6)}(V)&&(m=V in Pr.style,!m&&Re&&(m="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in Pr.style)),m}(T)}matchesElement(T,M){return!1}containsElement(T,M){return Qt(T,M)}getParentElement(T){return Rr(T)}query(T,M,B){return jt(T,M,B)}computeStyle(T,M,B){return B||""}animate(T,M,B,X,_e,pe=[],xe){return new Q.ZN(B,X)}static#e=this.\u0275fac=function(M){return new(M||V)};static#t=this.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac})}return V})(),Mr=(()=>{class V{static#e=this.NOOP=new yn}return V})();const Fn=1e3,zt="ng-enter",xi="ng-leave",ln="ng-trigger",ai=".ng-trigger",Vr="ng-animating",Ii=".ng-animating";function Gn(V){if("number"==typeof V)return V;const m=V.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:Qi(parseFloat(m[1]),m[2])}function Qi(V,m){return"s"===m?V*Fn:V}function Ti(V,m,T){return V.hasOwnProperty("duration")?V:function pi(V,m,T){let B,X=0,_e="";if("string"==typeof V){const pe=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return m.push(ge()),{duration:0,delay:0,easing:""};B=Qi(parseFloat(pe[1]),pe[2]);const xe=pe[3];null!=xe&&(X=Qi(parseFloat(xe),pe[4]));const Qe=pe[5];Qe&&(_e=Qe)}else B=V;if(!T){let pe=!1,xe=m.length;B<0&&(m.push(function ue(){return new $.vHH(3100,!1)}()),pe=!0),X<0&&(m.push(function J(){return new $.vHH(3101,!1)}()),pe=!0),pe&&m.splice(xe,0,ge())}return{duration:B,delay:X,easing:_e}}(V,m,T)}function Hr(V,m={}){return Object.keys(V).forEach(T=>{m[T]=V[T]}),m}function tr(V){const m=new Map;return Object.keys(V).forEach(T=>{m.set(T,V[T])}),m}function Ur(V,m=new Map,T){if(T)for(let[M,B]of T)m.set(M,B);for(let[M,B]of V)m.set(M,B);return m}function me(V,m,T){m.forEach((M,B)=>{const X=cn(B);T&&!T.has(B)&&T.set(B,V.style[X]),V.style[X]=M})}function W(V,m){m.forEach((T,M)=>{const B=cn(M);V.style[B]=""})}function Y(V){return Array.isArray(V)?1==V.length?V[0]:(0,Q.vP)(V):V}const K=new RegExp("{{\\s*(.+?)\\s*}}","g");function we(V){let m=[];if("string"==typeof V){let T;for(;T=K.exec(V);)m.push(T[1]);K.lastIndex=0}return m}function Ye(V,m,T){const M=V.toString(),B=M.replace(K,(X,_e)=>{let pe=m[_e];return null==pe&&(T.push(function fe(V){return new $.vHH(3003,!1)}()),pe=""),pe.toString()});return B==M?V:B}function It(V){const m=[];let T=V.next();for(;!T.done;)m.push(T.value),T=V.next();return m}const Lt=/-+([a-z0-9])/g;function cn(V){return V.replace(Lt,(...m)=>m[1].toUpperCase())}function nr(V,m,T){switch(m.type){case 7:return V.visitTrigger(m,T);case 0:return V.visitState(m,T);case 1:return V.visitTransition(m,T);case 2:return V.visitSequence(m,T);case 3:return V.visitGroup(m,T);case 4:return V.visitAnimate(m,T);case 5:return V.visitKeyframes(m,T);case 6:return V.visitStyle(m,T);case 8:return V.visitReference(m,T);case 9:return V.visitAnimateChild(m,T);case 10:return V.visitAnimateRef(m,T);case 11:return V.visitQuery(m,T);case 12:return V.visitStagger(m,T);default:throw function ce(V){return new $.vHH(3004,!1)}()}}function Yi(V,m){return window.getComputedStyle(V)[m]}const Dt="*";function jn(V,m){const T=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(M=>function xr(V,m,T){if(":"==V[0]){const xe=function yr(V,m){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,M)=>parseFloat(M)>parseFloat(T);case":decrement":return(T,M)=>parseFloat(M)<parseFloat(T);default:return m.push(function Et(V){return new $.vHH(3016,!1)}()),"* => *"}}(V,T);if("function"==typeof xe)return void m.push(xe);V=xe}const M=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return T.push(function _n(V){return new $.vHH(3015,!1)}()),m;const B=M[1],X=M[2],_e=M[3];m.push(mi(B,_e));"<"==X[0]&&!(B==Dt&&_e==Dt)&&m.push(mi(_e,B))}(M,T,m)):T.push(V),T}const gi=new Set(["true","1"]),Nr=new Set(["false","0"]);function mi(V,m){const T=gi.has(V)||Nr.has(V),M=gi.has(m)||Nr.has(m);return(B,X)=>{let _e=V==Dt||V==B,pe=m==Dt||m==X;return!_e&&T&&"boolean"==typeof B&&(_e=B?gi.has(V):Nr.has(V)),!pe&&M&&"boolean"==typeof X&&(pe=X?gi.has(m):Nr.has(m)),_e&&pe}}const js=new RegExp("s*:selfs*,?","g");function ps(V,m,T,M){return new ks(V).build(m,T,M)}class ks{constructor(m){this._driver=m}build(m,T,M){const B=new ki(T);return this._resetContextStyleTimingState(B),nr(this,Y(m),B)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,T){let M=T.queryCount=0,B=T.depCount=0;const X=[],_e=[];return"@"==m.name.charAt(0)&&T.errors.push(function De(){return new $.vHH(3006,!1)}()),m.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(T),0==pe.type){const xe=pe,Qe=xe.name;Qe.toString().split(/\s*,\s*/).forEach(wt=>{xe.name=wt,X.push(this.visitState(xe,T))}),xe.name=Qe}else if(1==pe.type){const xe=this.visitTransition(pe,T);M+=xe.queryCount,B+=xe.depCount,_e.push(xe)}else T.errors.push(function Ne(){return new $.vHH(3007,!1)}())}),{type:7,name:m.name,states:X,transitions:_e,queryCount:M,depCount:B,options:null}}visitState(m,T){const M=this.visitStyle(m.styles,T),B=m.options&&m.options.params||null;if(M.containsDynamicStyles){const X=new Set,_e=B||{};M.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(xe=>{we(xe).forEach(Qe=>{_e.hasOwnProperty(Qe)||X.add(Qe)})})}),X.size&&(It(X.values()),T.errors.push(function it(V,m){return new $.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:B?{params:B}:null}}visitTransition(m,T){T.queryCount=0,T.depCount=0;const M=nr(this,Y(m.animation),T);return{type:1,matchers:jn(m.expr,T.errors),animation:M,queryCount:T.queryCount,depCount:T.depCount,options:_i(m.options)}}visitSequence(m,T){return{type:2,steps:m.steps.map(M=>nr(this,M,T)),options:_i(m.options)}}visitGroup(m,T){const M=T.currentTime;let B=0;const X=m.steps.map(_e=>{T.currentTime=M;const pe=nr(this,_e,T);return B=Math.max(B,T.currentTime),pe});return T.currentTime=B,{type:3,steps:X,options:_i(m.options)}}visitAnimate(m,T){const M=function ms(V,m){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return Ls(Ti(V,m).duration,0,"");const T=V;if(T.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=Ls(0,0,"");return X.dynamic=!0,X.strValue=T,X}const B=Ti(T,m);return Ls(B.duration,B.delay,B.easing)}(m.timings,T.errors);T.currentAnimateTimings=M;let B,X=m.styles?m.styles:(0,Q.oB)({});if(5==X.type)B=this.visitKeyframes(X,T);else{let _e=m.styles,pe=!1;if(!_e){pe=!0;const Qe={};M.easing&&(Qe.easing=M.easing),_e=(0,Q.oB)(Qe)}T.currentTime+=M.duration+M.delay;const xe=this.visitStyle(_e,T);xe.isEmptyStep=pe,B=xe}return T.currentAnimateTimings=null,{type:4,timings:M,style:B,options:null}}visitStyle(m,T){const M=this._makeStyleAst(m,T);return this._validateStyleAst(M,T),M}_makeStyleAst(m,T){const M=[],B=Array.isArray(m.styles)?m.styles:[m.styles];for(let pe of B)"string"==typeof pe?pe===Q.l3?M.push(pe):T.errors.push(new $.vHH(3002,!1)):M.push(tr(pe));let X=!1,_e=null;return M.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(_e=pe.get("easing"),pe.delete("easing")),!X))for(let xe of pe.values())if(xe.toString().indexOf("{{")>=0){X=!0;break}}),{type:6,styles:M,easing:_e,offset:m.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(m,T){const M=T.currentAnimateTimings;let B=T.currentTime,X=T.currentTime;M&&X>0&&(X-=M.duration+M.delay),m.styles.forEach(_e=>{"string"!=typeof _e&&_e.forEach((pe,xe)=>{const Qe=T.collectedStyles.get(T.currentQuerySelector),wt=Qe.get(xe);let Rt=!0;wt&&(X!=B&&X>=wt.startTime&&B<=wt.endTime&&(T.errors.push(function pt(V,m,T,M,B){return new $.vHH(3010,!1)}()),Rt=!1),X=wt.startTime),Rt&&Qe.set(xe,{startTime:X,endTime:B}),T.options&&function G(V,m,T){const M=m.params||{},B=we(V);B.length&&B.forEach(X=>{M.hasOwnProperty(X)||T.push(function ne(V){return new $.vHH(3001,!1)}())})}(pe,T.options,T.errors)})})}visitKeyframes(m,T){const M={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function se(){return new $.vHH(3011,!1)}()),M;let X=0;const _e=[];let pe=!1,xe=!1,Qe=0;const wt=m.steps.map(ur=>{const Vn=this._makeStyleAst(ur,T);let qr=null!=Vn.offset?Vn.offset:function gs(V){if("string"==typeof V)return null;let m=null;if(Array.isArray(V))V.forEach(T=>{if(T instanceof Map&&T.has("offset")){const M=T;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const T=V;m=parseFloat(T.get("offset")),T.delete("offset")}return m}(Vn.styles),Lr=0;return null!=qr&&(X++,Lr=Vn.offset=qr),xe=xe||Lr<0||Lr>1,pe=pe||Lr<Qe,Qe=Lr,_e.push(Lr),Vn});xe&&T.errors.push(function Oe(){return new $.vHH(3012,!1)}()),pe&&T.errors.push(function Ee(){return new $.vHH(3200,!1)}());const Rt=m.steps.length;let On=0;X>0&&X<Rt?T.errors.push(function et(){return new $.vHH(3202,!1)}()):0==X&&(On=1/(Rt-1));const In=Rt-1,en=T.currentTime,mn=T.currentAnimateTimings,qn=mn.duration;return wt.forEach((ur,Vn)=>{const qr=On>0?Vn==In?1:On*Vn:_e[Vn],Lr=qr*qn;T.currentTime=en+mn.delay+Lr,mn.duration=Lr,this._validateStyleAst(ur,T),ur.offset=qr,M.styles.push(ur)}),M}visitReference(m,T){return{type:8,animation:nr(this,Y(m.animation),T),options:_i(m.options)}}visitAnimateChild(m,T){return T.depCount++,{type:9,options:_i(m.options)}}visitAnimateRef(m,T){return{type:10,animation:this.visitReference(m.animation,T),options:_i(m.options)}}visitQuery(m,T){const M=T.currentQuerySelector,B=m.options||{};T.queryCount++,T.currentQuery=m;const[X,_e]=function rr(V){const m=!!V.split(/\s*,\s*/).find(T=>":self"==T);return m&&(V=V.replace(js,"")),V=V.replace(/@\*/g,ai).replace(/@\w+/g,T=>ai+"-"+T.slice(1)).replace(/:animating/g,Ii),[V,m]}(m.selector);T.currentQuerySelector=M.length?M+" "+X:X,Pn(T.collectedStyles,T.currentQuerySelector,new Map);const pe=nr(this,Y(m.animation),T);return T.currentQuery=null,T.currentQuerySelector=M,{type:11,selector:X,limit:B.limit||0,optional:!!B.optional,includeSelf:_e,animation:pe,originalSelector:m.selector,options:_i(m.options)}}visitStagger(m,T){T.currentQuery||T.errors.push(function ot(){return new $.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:Ti(m.timings,T.errors,!0);return{type:12,animation:nr(this,Y(m.animation),T),timings:M,options:null}}}class ki{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _i(V){return V?(V=Hr(V)).params&&(V.params=function hr(V){return V?Hr(V):null}(V.params)):V={},V}function Ls(V,m,T){return{duration:V,delay:m,easing:T}}function Jr(V,m,T,M,B,X,_e=null,pe=!1){return{type:1,element:V,keyframes:m,preStyleProps:T,postStyleProps:M,duration:B,delay:X,totalTime:B+X,easing:_e,subTimeline:pe}}class Ts{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,T){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...T)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Fs=new RegExp(":enter","g"),ws=new RegExp(":leave","g");function zs(V,m,T,M,B,X=new Map,_e=new Map,pe,xe,Qe=[]){return(new No).buildKeyframes(V,m,T,M,B,X,_e,pe,xe,Qe)}class No{buildKeyframes(m,T,M,B,X,_e,pe,xe,Qe,wt=[]){Qe=Qe||new Ts;const Rt=new ae(m,T,Qe,B,X,wt,[]);Rt.options=xe;const On=xe.delay?Gn(xe.delay):0;Rt.currentTimeline.delayNextStep(On),Rt.currentTimeline.setStyles([_e],null,Rt.errors,xe),nr(this,M,Rt);const In=Rt.timelines.filter(en=>en.containsAnimation());if(In.length&&pe.size){let en;for(let mn=In.length-1;mn>=0;mn--){const qn=In[mn];if(qn.element===T){en=qn;break}}en&&!en.allowOnlyTimelineStyles()&&en.setStyles([pe],null,Rt.errors,xe)}return In.length?In.map(en=>en.buildKeyframes()):[Jr(T,[],[],[],0,On,"",!1)]}visitTrigger(m,T){}visitState(m,T){}visitTransition(m,T){}visitAnimateChild(m,T){const M=T.subInstructions.get(T.element);if(M){const B=T.createSubContext(m.options),X=T.currentTimeline.currentTime,_e=this._visitSubInstructions(M,B,B.options);X!=_e&&T.transformIntoNewTimeline(_e)}T.previousNode=m}visitAnimateRef(m,T){const M=T.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],T,M),this.visitReference(m.animation,M),T.transformIntoNewTimeline(M.currentTimeline.currentTime),T.previousNode=m}_applyAnimationRefDelays(m,T,M){for(const B of m){const X=B?.delay;if(X){const _e="number"==typeof X?X:Gn(Ye(X,B?.params??{},T.errors));M.delayNextStep(_e)}}}_visitSubInstructions(m,T,M){let X=T.currentTimeline.currentTime;const _e=null!=M.duration?Gn(M.duration):null,pe=null!=M.delay?Gn(M.delay):null;return 0!==_e&&m.forEach(xe=>{const Qe=T.appendInstructionToTimeline(xe,_e,pe);X=Math.max(X,Qe.duration+Qe.delay)}),X}visitReference(m,T){T.updateOptions(m.options,!0),nr(this,m.animation,T),T.previousNode=m}visitSequence(m,T){const M=T.subContextCount;let B=T;const X=m.options;if(X&&(X.params||X.delay)&&(B=T.createSubContext(X),B.transformIntoNewTimeline(),null!=X.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=ui);const _e=Gn(X.delay);B.delayNextStep(_e)}m.steps.length&&(m.steps.forEach(_e=>nr(this,_e,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>M&&B.transformIntoNewTimeline()),T.previousNode=m}visitGroup(m,T){const M=[];let B=T.currentTimeline.currentTime;const X=m.options&&m.options.delay?Gn(m.options.delay):0;m.steps.forEach(_e=>{const pe=T.createSubContext(m.options);X&&pe.delayNextStep(X),nr(this,_e,pe),B=Math.max(B,pe.currentTimeline.currentTime),M.push(pe.currentTimeline)}),M.forEach(_e=>T.currentTimeline.mergeTimelineCollectedStyles(_e)),T.transformIntoNewTimeline(B),T.previousNode=m}_visitTiming(m,T){if(m.dynamic){const M=m.strValue;return Ti(T.params?Ye(M,T.params,T.errors):M,T.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,T){const M=T.currentAnimateTimings=this._visitTiming(m.timings,T),B=T.currentTimeline;M.delay&&(T.incrementTime(M.delay),B.snapshotCurrentStyles());const X=m.style;5==X.type?this.visitKeyframes(X,T):(T.incrementTime(M.duration),this.visitStyle(X,T),B.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=m}visitStyle(m,T){const M=T.currentTimeline,B=T.currentAnimateTimings;!B&&M.hasCurrentStyleProperties()&&M.forwardFrame();const X=B&&B.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(X):M.setStyles(m.styles,X,T.errors,T.options),T.previousNode=m}visitKeyframes(m,T){const M=T.currentAnimateTimings,B=T.currentTimeline.duration,X=M.duration,pe=T.createSubContext().currentTimeline;pe.easing=M.easing,m.styles.forEach(xe=>{pe.forwardTime((xe.offset||0)*X),pe.setStyles(xe.styles,xe.easing,T.errors,T.options),pe.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(pe),T.transformIntoNewTimeline(B+X),T.previousNode=m}visitQuery(m,T){const M=T.currentTimeline.currentTime,B=m.options||{},X=B.delay?Gn(B.delay):0;X&&(6===T.previousNode.type||0==M&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=ui);let _e=M;const pe=T.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!B.optional,T.errors);T.currentQueryTotal=pe.length;let xe=null;pe.forEach((Qe,wt)=>{T.currentQueryIndex=wt;const Rt=T.createSubContext(m.options,Qe);X&&Rt.delayNextStep(X),Qe===T.element&&(xe=Rt.currentTimeline),nr(this,m.animation,Rt),Rt.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,Rt.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(_e),xe&&(T.currentTimeline.mergeTimelineCollectedStyles(xe),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=m}visitStagger(m,T){const M=T.parentContext,B=T.currentTimeline,X=m.timings,_e=Math.abs(X.duration),pe=_e*(T.currentQueryTotal-1);let xe=_e*T.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":xe=pe-xe;break;case"full":xe=M.currentStaggerTime}const wt=T.currentTimeline;xe&&wt.delayNextStep(xe);const Rt=wt.currentTime;nr(this,m.animation,T),T.previousNode=m,M.currentStaggerTime=B.currentTime-Rt+(B.startTime-M.currentTimeline.startTime)}}const ui={};class ae{constructor(m,T,M,B,X,_e,pe,xe){this._driver=m,this.element=T,this.subInstructions=M,this._enterClassName=B,this._leaveClassName=X,this.errors=_e,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ui,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new Ke(this._driver,T,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,T){if(!m)return;const M=m;let B=this.options;null!=M.duration&&(B.duration=Gn(M.duration)),null!=M.delay&&(B.delay=Gn(M.delay));const X=M.params;if(X){let _e=B.params;_e||(_e=this.options.params={}),Object.keys(X).forEach(pe=>{(!T||!_e.hasOwnProperty(pe))&&(_e[pe]=Ye(X[pe],_e,this.errors))})}}_copyOptions(){const m={};if(this.options){const T=this.options.params;if(T){const M=m.params={};Object.keys(T).forEach(B=>{M[B]=T[B]})}}return m}createSubContext(m=null,T,M){const B=T||this.element,X=new ae(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,M||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(m),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(m){return this.previousNode=ui,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,T,M){const B={duration:T??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},X=new Ae(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,B,m.stretchStartingKeyframe);return this.timelines.push(X),B}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,T,M,B,X,_e){let pe=[];if(B&&pe.push(this.element),m.length>0){m=(m=m.replace(Fs,"."+this._enterClassName)).replace(ws,"."+this._leaveClassName);let Qe=this._driver.query(this.element,m,1!=M);0!==M&&(Qe=M<0?Qe.slice(Qe.length+M,Qe.length):Qe.slice(0,M)),pe.push(...Qe)}return!X&&0==pe.length&&_e.push(function ct(V){return new $.vHH(3014,!1)}()),pe}}class Ke{constructor(m,T,M,B){this._driver=m,this.element=T,this.startTime=M,this._elementTimelineStylesLookup=B,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+m),T&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,T){return this.applyStylesToKeyframe(),new Ke(this._driver,m,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,T){this._localTimelineStyles.set(m,T),this._globalTimelineStyles.set(m,T),this._styleSummary.set(m,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[T,M]of this._globalTimelineStyles)this._backFill.set(T,M||Q.l3),this._currentKeyframe.set(T,Q.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,T,M,B){T&&this._previousKeyframe.set("easing",T);const X=B&&B.params||{},_e=function mt(V,m){const T=new Map;let M;return V.forEach(B=>{if("*"===B){M=M||m.keys();for(let X of M)T.set(X,Q.l3)}else Ur(B,T)}),T}(m,this._globalTimelineStyles);for(let[pe,xe]of _e){const Qe=Ye(xe,X,M);this._pendingStyles.set(pe,Qe),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??Q.l3),this._updateStyle(pe,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,T)=>{this._currentKeyframe.set(T,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,m)}))}snapshotCurrentStyles(){for(let[m,T]of this._localTimelineStyles)this._pendingStyles.set(m,T),this._updateStyle(m,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let T in this._currentKeyframe)m.push(T);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((T,M)=>{const B=this._styleSummary.get(M);(!B||T.time>B.time)&&this._updateStyle(M,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,T=new Set,M=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((pe,xe)=>{const Qe=Ur(pe,new Map,this._backFill);Qe.forEach((wt,Rt)=>{wt===Q.k1?m.add(Rt):wt===Q.l3&&T.add(Rt)}),M||Qe.set("offset",xe/this.duration),B.push(Qe)});const X=m.size?It(m.values()):[],_e=T.size?It(T.values()):[];if(M){const pe=B[0],xe=new Map(pe);pe.set("offset",0),xe.set("offset",1),B=[pe,xe]}return Jr(this.element,B,X,_e,this.duration,this.startTime,this.easing,!1)}}class Ae extends Ke{constructor(m,T,M,B,X,_e,pe=!1){super(m,T,_e.delay),this.keyframes=M,this.preStyleProps=B,this.postStyleProps=X,this._stretchStartingKeyframe=pe,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:T,duration:M,easing:B}=this.timings;if(this._stretchStartingKeyframe&&T){const X=[],_e=M+T,pe=T/_e,xe=Ur(m[0]);xe.set("offset",0),X.push(xe);const Qe=Ur(m[0]);Qe.set("offset",Le(pe)),X.push(Qe);const wt=m.length-1;for(let Rt=1;Rt<=wt;Rt++){let On=Ur(m[Rt]);const In=On.get("offset");On.set("offset",Le((T+In*M)/_e)),X.push(On)}M=_e,T=0,B="",m=X}return Jr(this.element,m,this.preStyleProps,this.postStyleProps,M,T,B,!0)}}function Le(V,m=3){const T=Math.pow(10,m-1);return Math.round(V*T)/T}class vn{}const ir=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vr extends vn{normalizePropertyName(m,T){return cn(m)}normalizeStyleValue(m,T,M,B){let X="";const _e=M.toString().trim();if(ir.has(T)&&0!==M&&"0"!==M)if("number"==typeof M)X="px";else{const pe=M.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&B.push(function Se(V,m){return new $.vHH(3005,!1)}())}return _e+X}}function Ot(V,m,T,M,B,X,_e,pe,xe,Qe,wt,Rt,On){return{type:0,element:V,triggerName:m,isRemovalTransition:B,fromState:T,fromStyles:X,toState:M,toStyles:_e,timelines:pe,queriedElements:xe,preStyleProps:Qe,postStyleProps:wt,totalTime:Rt,errors:On}}const $n={};class Wr{constructor(m,T,M){this._triggerName=m,this.ast=T,this._stateStyles=M}match(m,T,M,B){return function Sr(V,m,T,M,B){return V.some(X=>X(m,T,M,B))}(this.ast.matchers,m,T,M,B)}buildStyles(m,T,M){let B=this._stateStyles.get("*");return void 0!==m&&(B=this._stateStyles.get(m?.toString())||B),B?B.buildStyles(T,M):new Map}build(m,T,M,B,X,_e,pe,xe,Qe,wt){const Rt=[],On=this.ast.options&&this.ast.options.params||$n,en=this.buildStyles(M,pe&&pe.params||$n,Rt),mn=xe&&xe.params||$n,qn=this.buildStyles(B,mn,Rt),ur=new Set,Vn=new Map,qr=new Map,Lr="void"===B,D={params:Qs(mn,On),delay:this.ast.options?.delay},U=wt?[]:zs(m,T,this.ast.animation,X,_e,en,qn,D,Qe,Rt);let P=0;if(U.forEach(oe=>{P=Math.max(oe.duration+oe.delay,P)}),Rt.length)return Ot(T,this._triggerName,M,B,Lr,en,qn,[],[],Vn,qr,P,Rt);U.forEach(oe=>{const Me=oe.element,tt=Pn(Vn,Me,new Set);oe.preStyleProps.forEach(Hn=>tt.add(Hn));const Ht=Pn(qr,Me,new Set);oe.postStyleProps.forEach(Hn=>Ht.add(Hn)),Me!==T&&ur.add(Me)});const L=It(ur.values());return Ot(T,this._triggerName,M,B,Lr,en,qn,U,L,Vn,qr,P)}}function Qs(V,m){const T=Hr(m);for(const M in V)V.hasOwnProperty(M)&&null!=V[M]&&(T[M]=V[M]);return T}class ko{constructor(m,T,M){this.styles=m,this.defaultParams=T,this.normalizer=M}buildStyles(m,T){const M=new Map,B=Hr(this.defaultParams);return Object.keys(m).forEach(X=>{const _e=m[X];null!==_e&&(B[X]=_e)}),this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((_e,pe)=>{_e&&(_e=Ye(_e,B,T));const xe=this.normalizer.normalizePropertyName(pe,T);_e=this.normalizer.normalizeStyleValue(pe,xe,_e,T),M.set(pe,_e)})}),M}}class ss{constructor(m,T,M){this.name=m,this.ast=T,this._normalizer=M,this.transitionFactories=[],this.states=new Map,T.states.forEach(B=>{this.states.set(B.name,new ko(B.style,B.options&&B.options.params||{},M))}),pr(this.states,"true","1"),pr(this.states,"false","0"),T.transitions.forEach(B=>{this.transitionFactories.push(new Wr(m,B,this.states))}),this.fallbackTransition=function Ys(V,m,T){return new Wr(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_e,pe)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,T,M,B){return this.transitionFactories.find(_e=>_e.match(m,T,M,B))||null}matchStyles(m,T,M){return this.fallbackTransition.buildStyles(m,T,M)}}function pr(V,m,T){V.has(m)?V.has(T)||V.set(T,V.get(m)):V.has(T)&&V.set(m,V.get(T))}const St=new Ts;class Ft{constructor(m,T,M){this.bodyNode=m,this._driver=T,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,T){const M=[],X=ps(this._driver,T,M,[]);if(M.length)throw function sn(V){return new $.vHH(3503,!1)}();this._animations.set(m,X)}_buildPlayer(m,T,M){const B=m.element,X=gn(this._normalizer,m.keyframes,T,M);return this._driver.animate(B,X,m.duration,m.delay,m.easing,[],!0)}create(m,T,M={}){const B=[],X=this._animations.get(m);let _e;const pe=new Map;if(X?(_e=zs(this._driver,T,X,zt,xi,new Map,new Map,M,St,B),_e.forEach(wt=>{const Rt=Pn(pe,wt.element,new Map);wt.postStyleProps.forEach(On=>Rt.set(On,null))})):(B.push(function Dr(){return new $.vHH(3300,!1)}()),_e=[]),B.length)throw function Tr(V){return new $.vHH(3504,!1)}();pe.forEach((wt,Rt)=>{wt.forEach((On,In)=>{wt.set(In,this._driver.computeStyle(Rt,In,Q.l3))})});const Qe=Kt(_e.map(wt=>{const Rt=pe.get(wt.element);return this._buildPlayer(wt,new Map,Rt)}));return this._playersById.set(m,Qe),Qe.onDestroy(()=>this.destroy(m)),this.players.push(Qe),Qe}destroy(m){const T=this._getPlayer(m);T.destroy(),this._playersById.delete(m);const M=this.players.indexOf(T);M>=0&&this.players.splice(M,1)}_getPlayer(m){const T=this._playersById.get(m);if(!T)throw function Ve(V){return new $.vHH(3301,!1)}();return T}listen(m,T,M,B){const X=Sn(T,"","","");return Xt(this._getPlayer(m),M,X,B),()=>{}}command(m,T,M,B){if("register"==M)return void this.register(m,B[0]);if("create"==M)return void this.create(m,T,B[0]||{});const X=this._getPlayer(m);switch(M){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(m)}}}const Jn="ng-animate-queued",Xi="ng-animate-disabled",os=[],Li={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kr="__ng_removed";class Di{get params(){return this.options.params}constructor(m,T=""){this.namespaceId=T;const M=m&&m.hasOwnProperty("value");if(this.value=function $a(V){return V??null}(M?m.value:m),M){const X=Hr(m);delete X.value,this.options=X}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const T=m.params;if(T){const M=this.options.params;Object.keys(T).forEach(B=>{null==M[B]&&(M[B]=T[B])})}}}const As="void",wr=new Di(As);class no{constructor(m,T,M){this.id=m,this.hostElement=T,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,li(T,this._hostClassName)}listen(m,T,M,B){if(!this._triggers.has(T))throw function $e(V,m){return new $.vHH(3302,!1)}();if(null==M||0==M.length)throw function qe(V){return new $.vHH(3303,!1)}();if(!function ys(V){return"start"==V||"done"==V}(M))throw function He(V,m){return new $.vHH(3400,!1)}();const X=Pn(this._elementListeners,m,[]),_e={name:T,phase:M,callback:B};X.push(_e);const pe=Pn(this._engine.statesByElement,m,new Map);return pe.has(T)||(li(m,ln),li(m,ln+"-"+T),pe.set(T,wr)),()=>{this._engine.afterFlush(()=>{const xe=X.indexOf(_e);xe>=0&&X.splice(xe,1),this._triggers.has(T)||pe.delete(T)})}}register(m,T){return!this._triggers.has(m)&&(this._triggers.set(m,T),!0)}_getTrigger(m){const T=this._triggers.get(m);if(!T)throw function lt(V){return new $.vHH(3401,!1)}();return T}trigger(m,T,M,B=!0){const X=this._getTrigger(T),_e=new _s(this.id,T,m);let pe=this._engine.statesByElement.get(m);pe||(li(m,ln),li(m,ln+"-"+T),this._engine.statesByElement.set(m,pe=new Map));let xe=pe.get(T);const Qe=new Di(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&xe&&Qe.absorbOptions(xe.options),pe.set(T,Qe),xe||(xe=wr),Qe.value!==As&&xe.value===Qe.value){if(!function Vs(V,m){const T=Object.keys(V),M=Object.keys(m);if(T.length!=M.length)return!1;for(let B=0;B<T.length;B++){const X=T[B];if(!m.hasOwnProperty(X)||V[X]!==m[X])return!1}return!0}(xe.params,Qe.params)){const mn=[],qn=X.matchStyles(xe.value,xe.params,mn),ur=X.matchStyles(Qe.value,Qe.params,mn);mn.length?this._engine.reportError(mn):this._engine.afterFlush(()=>{W(m,qn),me(m,ur)})}return}const On=Pn(this._engine.playersByElement,m,[]);On.forEach(mn=>{mn.namespaceId==this.id&&mn.triggerName==T&&mn.queued&&mn.destroy()});let In=X.matchTransition(xe.value,Qe.value,m,Qe.params),en=!1;if(!In){if(!B)return;In=X.fallbackTransition,en=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:T,transition:In,fromState:xe,toState:Qe,player:_e,isFallbackTransition:en}),en||(li(m,Jn),_e.onStart(()=>{di(m,Jn)})),_e.onDone(()=>{let mn=this.players.indexOf(_e);mn>=0&&this.players.splice(mn,1);const qn=this._engine.playersByElement.get(m);if(qn){let ur=qn.indexOf(_e);ur>=0&&qn.splice(ur,1)}}),this.players.push(_e),On.push(_e),_e}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(T=>T.delete(m)),this._elementListeners.forEach((T,M)=>{this._elementListeners.set(M,T.filter(B=>B.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const T=this._engine.playersByElement.get(m);T&&(T.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,T){const M=this._engine.driver.query(m,ai,!0);M.forEach(B=>{if(B[Kr])return;const X=this._engine.fetchNamespacesByElement(B);X.size?X.forEach(_e=>_e.triggerLeaveAnimation(B,T,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(m,T,M,B){const X=this._engine.statesByElement.get(m),_e=new Map;if(X){const pe=[];if(X.forEach((xe,Qe)=>{if(_e.set(Qe,xe.value),this._triggers.has(Qe)){const wt=this.trigger(m,Qe,As,B);wt&&pe.push(wt)}}),pe.length)return this._engine.markElementAsRemoved(this.id,m,!0,T,_e),M&&Kt(pe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const T=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(T&&M){const B=new Set;T.forEach(X=>{const _e=X.name;if(B.has(_e))return;B.add(_e);const xe=this._triggers.get(_e).fallbackTransition,Qe=M.get(_e)||wr,wt=new Di(As),Rt=new _s(this.id,_e,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:_e,transition:xe,fromState:Qe,toState:wt,player:Rt,isFallbackTransition:!0})})}}removeNode(m,T){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,T),this.triggerLeaveAnimation(m,T,!0))return;let B=!1;if(M.totalAnimations){const X=M.players.length?M.playersByQueriedElement.get(m):[];if(X&&X.length)B=!0;else{let _e=m;for(;_e=_e.parentNode;)if(M.statesByElement.get(_e)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(m),B)M.markElementAsRemoved(this.id,m,!1,T);else{const X=m[Kr];(!X||X===Li)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,T))}}insertNode(m,T){li(m,this._hostClassName)}drainQueuedTransitions(m){const T=[];return this._queue.forEach(M=>{const B=M.player;if(B.destroyed)return;const X=M.element,_e=this._elementListeners.get(X);_e&&_e.forEach(pe=>{if(pe.name==M.triggerName){const xe=Sn(X,M.triggerName,M.fromState.value,M.toState.value);xe._data=m,Xt(M.player,pe.phase,xe,pe.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):T.push(M)}),this._queue=[],T.sort((M,B)=>{const X=M.transition.ast.depCount,_e=B.transition.ast.depCount;return 0==X||0==_e?X-_e:this._engine.driver.containsElement(M.element,B.element)?1:-1})}destroy(m){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}}class es{_onRemovalComplete(m,T){this.onRemovalComplete(m,T)}constructor(m,T,M){this.bodyNode=m,this.driver=T,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,X)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(T=>{T.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,T){const M=new no(m,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(M,T):(this.newHostElements.set(T,M),this.collectEnterElement(T)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,T){const M=this._namespaceList,B=this.namespacesByHostElement;if(M.length-1>=0){let _e=!1,pe=this.driver.getParentElement(T);for(;pe;){const xe=B.get(pe);if(xe){const Qe=M.indexOf(xe);M.splice(Qe+1,0,m),_e=!0;break}pe=this.driver.getParentElement(pe)}_e||M.unshift(m)}else M.push(m);return B.set(T,m),m}register(m,T){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,T)),M}registerTrigger(m,T,M){let B=this._namespaceLookup[m];B&&B.register(T,M)&&this.totalAnimations++}destroy(m,T){m&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const M=this._fetchNamespace(m);this.namespacesByHostElement.delete(M.hostElement);const B=this._namespaceList.indexOf(M);B>=0&&this._namespaceList.splice(B,1),M.destroy(T),delete this._namespaceLookup[m]}))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const T=new Set,M=this.statesByElement.get(m);if(M)for(let B of M.values())if(B.namespaceId){const X=this._fetchNamespace(B.namespaceId);X&&T.add(X)}return T}trigger(m,T,M,B){if(Cs(T)){const X=this._fetchNamespace(m);if(X)return X.trigger(T,M,B),!0}return!1}insertNode(m,T,M,B){if(!Cs(T))return;const X=T[Kr];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(T);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(m){const _e=this._fetchNamespace(m);_e&&_e.insertNode(T,M)}B&&this.collectEnterElement(T)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,T){T?this.disabledNodes.has(m)||(this.disabledNodes.add(m),li(m,Xi)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),di(m,Xi))}removeNode(m,T,M){if(Cs(T)){const B=m?this._fetchNamespace(m):null;B?B.removeNode(T,M):this.markElementAsRemoved(m,T,!1,M);const X=this.namespacesByHostElement.get(T);X&&X.id!==m&&X.removeNode(T,M)}else this._onRemovalComplete(T,M)}markElementAsRemoved(m,T,M,B,X){this.collectedLeaveElements.push(T),T[Kr]={namespaceId:m,setForRemoval:B,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:X}}listen(m,T,M,B,X){return Cs(T)?this._fetchNamespace(m).listen(T,M,B,X):()=>{}}_buildInstruction(m,T,M,B,X){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,B,m.fromState.options,m.toState.options,T,X)}destroyInnerAnimations(m){let T=this.driver.query(m,ai,!0);T.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(m,Ii,!0),T.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const T=this.playersByElement.get(m);T&&T.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const T=this.playersByQueriedElement.get(m);T&&T.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Kt(this.players).onDone(()=>m());m()})}processLeaveNode(m){const T=m[Kr];if(T&&T.setForRemoval){if(m[Kr]=Li,T.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(T.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,T.setForRemoval)}m.classList?.contains(Xi)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,B)=>this._balanceNamespaceList(M,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)li(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{T=this._flushAnimations(M,m)}finally{for(let B=0;B<M.length;B++)M[B]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],T.length?Kt(T).onDone(()=>{M.forEach(B=>B())}):M.forEach(B=>B())}}reportError(m){throw function at(V){return new $.vHH(3402,!1)}()}_flushAnimations(m,T){const M=new Ts,B=[],X=new Map,_e=[],pe=new Map,xe=new Map,Qe=new Map,wt=new Set;this.disabledNodes.forEach(ut=>{wt.add(ut);const bt=this.driver.query(ut,".ng-animate-queued",!0);for(let xt=0;xt<bt.length;xt++)wt.add(bt[xt])});const Rt=this.bodyNode,On=Array.from(this.statesByElement.keys()),In=Rn(On,this.collectedEnterElements),en=new Map;let mn=0;In.forEach((ut,bt)=>{const xt=zt+mn++;en.set(bt,xt),ut.forEach(on=>li(on,xt))});const qn=[],ur=new Set,Vn=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const bt=this.collectedLeaveElements[ut],xt=bt[Kr];xt&&xt.setForRemoval&&(qn.push(bt),ur.add(bt),xt.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(on=>ur.add(on)):Vn.add(bt))}const qr=new Map,Lr=Rn(On,Array.from(ur));Lr.forEach((ut,bt)=>{const xt=xi+mn++;qr.set(bt,xt),ut.forEach(on=>li(on,xt))}),m.push(()=>{In.forEach((ut,bt)=>{const xt=en.get(bt);ut.forEach(on=>di(on,xt))}),Lr.forEach((ut,bt)=>{const xt=qr.get(bt);ut.forEach(on=>di(on,xt))}),qn.forEach(ut=>{this.processLeaveNode(ut)})});const D=[],U=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(T).forEach(xt=>{const on=xt.player,or=xt.element;if(D.push(on),this.collectedEnterElements.length){const Un=or[Kr];if(Un&&Un.setForMove){if(Un.previousTriggersValues&&Un.previousTriggersValues.has(xt.triggerName)){const Cn=Un.previousTriggersValues.get(xt.triggerName),Si=this.statesByElement.get(xt.element);if(Si&&Si.has(xt.triggerName)){const Bt=Si.get(xt.triggerName);Bt.value=Cn,Si.set(xt.triggerName,Bt)}}return void on.destroy()}}const xn=!Rt||!this.driver.containsElement(Rt,or),jr=qr.get(or),Ar=en.get(or),Qn=this._buildInstruction(xt,M,Ar,jr,xn);if(Qn.errors&&Qn.errors.length)return void U.push(Qn);if(xn)return on.onStart(()=>W(or,Qn.fromStyles)),on.onDestroy(()=>me(or,Qn.toStyles)),void B.push(on);if(xt.isFallbackTransition)return on.onStart(()=>W(or,Qn.fromStyles)),on.onDestroy(()=>me(or,Qn.toStyles)),void B.push(on);const Vi=[];Qn.timelines.forEach(Un=>{Un.stretchStartingKeyframe=!0,this.disabledNodes.has(Un.element)||Vi.push(Un)}),Qn.timelines=Vi,M.append(or,Qn.timelines),_e.push({instruction:Qn,player:on,element:or}),Qn.queriedElements.forEach(Un=>Pn(pe,Un,[]).push(on)),Qn.preStyleProps.forEach((Un,Cn)=>{if(Un.size){let Si=xe.get(Cn);Si||xe.set(Cn,Si=new Set),Un.forEach((Bt,kt)=>Si.add(kt))}}),Qn.postStyleProps.forEach((Un,Cn)=>{let Si=Qe.get(Cn);Si||Qe.set(Cn,Si=new Set),Un.forEach((Bt,kt)=>Si.add(kt))})});if(U.length){const ut=[];U.forEach(bt=>{ut.push(function ke(V,m){return new $.vHH(3505,!1)}())}),D.forEach(bt=>bt.destroy()),this.reportError(ut)}const P=new Map,L=new Map;_e.forEach(ut=>{const bt=ut.element;M.has(bt)&&(L.set(bt,bt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,P))}),B.forEach(ut=>{const bt=ut.element;this._getPreviousPlayers(bt,!1,ut.namespaceId,ut.triggerName,null).forEach(on=>{Pn(P,bt,[]).push(on),on.destroy()})});const oe=qn.filter(ut=>Ws(ut,xe,Qe)),Me=new Map;Js(Me,this.driver,Vn,Qe,Q.l3).forEach(ut=>{Ws(ut,xe,Qe)&&oe.push(ut)});const Ht=new Map;In.forEach((ut,bt)=>{Js(Ht,this.driver,new Set(ut),xe,Q.k1)}),oe.forEach(ut=>{const bt=Me.get(ut),xt=Ht.get(ut);Me.set(ut,new Map([...bt?.entries()??[],...xt?.entries()??[]]))});const Hn=[],cr=[],sr={};_e.forEach(ut=>{const{element:bt,player:xt,instruction:on}=ut;if(M.has(bt)){if(wt.has(bt))return xt.onDestroy(()=>me(bt,on.toStyles)),xt.disabled=!0,xt.overrideTotalTime(on.totalTime),void B.push(xt);let or=sr;if(L.size>1){let jr=bt;const Ar=[];for(;jr=jr.parentNode;){const Qn=L.get(jr);if(Qn){or=Qn;break}Ar.push(jr)}Ar.forEach(Qn=>L.set(Qn,or))}const xn=this._buildAnimation(xt.namespaceId,on,P,X,Ht,Me);if(xt.setRealPlayer(xn),or===sr)Hn.push(xt);else{const jr=this.playersByElement.get(or);jr&&jr.length&&(xt.parentPlayer=Kt(jr)),B.push(xt)}}else W(bt,on.fromStyles),xt.onDestroy(()=>me(bt,on.toStyles)),cr.push(xt),wt.has(bt)&&B.push(xt)}),cr.forEach(ut=>{const bt=X.get(ut.element);if(bt&&bt.length){const xt=Kt(bt);ut.setRealPlayer(xt)}}),B.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<qn.length;ut++){const bt=qn[ut],xt=bt[Kr];if(di(bt,xi),xt&&xt.hasAnimation)continue;let on=[];if(pe.size){let xn=pe.get(bt);xn&&xn.length&&on.push(...xn);let jr=this.driver.query(bt,Ii,!0);for(let Ar=0;Ar<jr.length;Ar++){let Qn=pe.get(jr[Ar]);Qn&&Qn.length&&on.push(...Qn)}}const or=on.filter(xn=>!xn.destroyed);or.length?io(this,bt,or):this.processLeaveNode(bt)}return qn.length=0,Hn.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const bt=this.players.indexOf(ut);this.players.splice(bt,1)}),ut.play()}),Hn}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,T,M,B,X){let _e=[];if(T){const pe=this.playersByQueriedElement.get(m);pe&&(_e=pe)}else{const pe=this.playersByElement.get(m);if(pe){const xe=!X||X==As;pe.forEach(Qe=>{Qe.queued||!xe&&Qe.triggerName!=B||_e.push(Qe)})}}return(M||B)&&(_e=_e.filter(pe=>!(M&&M!=pe.namespaceId||B&&B!=pe.triggerName))),_e}_beforeAnimationBuild(m,T,M){const X=T.element,_e=T.isRemovalTransition?void 0:m,pe=T.isRemovalTransition?void 0:T.triggerName;for(const xe of T.timelines){const Qe=xe.element,wt=Qe!==X,Rt=Pn(M,Qe,[]);this._getPreviousPlayers(Qe,wt,_e,pe,T.toState).forEach(In=>{const en=In.getRealPlayer();en.beforeDestroy&&en.beforeDestroy(),In.destroy(),Rt.push(In)})}W(X,T.fromStyles)}_buildAnimation(m,T,M,B,X,_e){const pe=T.triggerName,xe=T.element,Qe=[],wt=new Set,Rt=new Set,On=T.timelines.map(en=>{const mn=en.element;wt.add(mn);const qn=mn[Kr];if(qn&&qn.removedBeforeQueried)return new Q.ZN(en.duration,en.delay);const ur=mn!==xe,Vn=function Gr(V){const m=[];return Jo(V,m),m}((M.get(mn)||os).map(P=>P.getRealPlayer())).filter(P=>!!P.element&&P.element===mn),qr=X.get(mn),Lr=_e.get(mn),D=gn(this._normalizer,en.keyframes,qr,Lr),U=this._buildPlayer(en,D,Vn);if(en.subTimeline&&B&&Rt.add(mn),ur){const P=new _s(m,pe,mn);P.setRealPlayer(U),Qe.push(P)}return U});Qe.forEach(en=>{Pn(this.playersByQueriedElement,en.element,[]).push(en),en.onDone(()=>function ro(V,m,T){let M=V.get(m);if(M){if(M.length){const B=M.indexOf(T);M.splice(B,1)}0==M.length&&V.delete(m)}return M}(this.playersByQueriedElement,en.element,en))}),wt.forEach(en=>li(en,Vr));const In=Kt(On);return In.onDestroy(()=>{wt.forEach(en=>di(en,Vr)),me(xe,T.toStyles)}),Rt.forEach(en=>{Pn(B,en,[]).push(In)}),In}_buildPlayer(m,T,M){return T.length>0?this.driver.animate(m.element,T,m.duration,m.delay,m.easing,M):new Q.ZN(m.duration,m.delay)}}class _s{constructor(m,T,M){this.namespaceId=m,this.triggerName=T,this.element=M,this._player=new Q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((T,M)=>{T.forEach(B=>Xt(m,M,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const T=this._player;T.triggerCallback&&m.onStart(()=>T.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,T){Pn(this._queuedCallbacks,m,[]).push(T)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const T=this._player;T.triggerCallback&&T.triggerCallback(m)}}function Cs(V){return V&&1===V.nodeType}function as(V,m){const T=V.style.display;return V.style.display=m??"none",T}function Js(V,m,T,M,B){const X=[];T.forEach(xe=>X.push(as(xe)));const _e=[];M.forEach((xe,Qe)=>{const wt=new Map;xe.forEach(Rt=>{const On=m.computeStyle(Qe,Rt,B);wt.set(Rt,On),(!On||0==On.length)&&(Qe[Kr]=dn,_e.push(Qe))}),V.set(Qe,wt)});let pe=0;return T.forEach(xe=>as(xe,X[pe++])),_e}function Rn(V,m){const T=new Map;if(V.forEach(pe=>T.set(pe,[])),0==m.length)return T;const B=new Set(m),X=new Map;function _e(pe){if(!pe)return 1;let xe=X.get(pe);if(xe)return xe;const Qe=pe.parentNode;return xe=T.has(Qe)?Qe:B.has(Qe)?1:_e(Qe),X.set(pe,xe),xe}return m.forEach(pe=>{const xe=_e(pe);1!==xe&&T.get(xe).push(pe)}),T}function li(V,m){V.classList?.add(m)}function di(V,m){V.classList?.remove(m)}function io(V,m,T){Kt(T).onDone(()=>V.processLeaveNode(m))}function Jo(V,m){for(let T=0;T<V.length;T++){const M=V[T];M instanceof Q.ZE?Jo(M.players,m):m.push(M)}}function Ws(V,m,T){const M=T.get(V);if(!M)return!1;let B=m.get(V);return B?M.forEach(X=>B.add(X)):m.set(V,M),T.delete(V),!0}class kr{constructor(m,T,M){this.bodyNode=m,this._driver=T,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(B,X)=>{},this._transitionEngine=new es(m,T,M),this._timelineEngine=new Ft(m,T,M),this._transitionEngine.onRemovalComplete=(B,X)=>this.onRemovalComplete(B,X)}registerTrigger(m,T,M,B,X){const _e=m+"-"+B;let pe=this._triggerCache[_e];if(!pe){const xe=[],wt=ps(this._driver,X,xe,[]);if(xe.length)throw function Wt(V,m){return new $.vHH(3404,!1)}();pe=function Ji(V,m,T){return new ss(V,m,T)}(B,wt,this._normalizer),this._triggerCache[_e]=pe}this._transitionEngine.registerTrigger(T,B,pe)}register(m,T){this._transitionEngine.register(m,T)}destroy(m,T){this._transitionEngine.destroy(m,T)}onInsert(m,T,M,B){this._transitionEngine.insertNode(m,T,M,B)}onRemove(m,T,M){this._transitionEngine.removeNode(m,T,M)}disableAnimations(m,T){this._transitionEngine.markElementAsDisabled(m,T)}process(m,T,M,B){if("@"==M.charAt(0)){const[X,_e]=Wn(M);this._timelineEngine.command(X,T,_e,B)}else this._transitionEngine.trigger(m,T,M,B)}listen(m,T,M,B,X){if("@"==M.charAt(0)){const[_e,pe]=Wn(M);return this._timelineEngine.listen(_e,T,pe,X)}return this._transitionEngine.listen(m,T,M,B,X)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let wi=(()=>{class V{static#e=this.initialStylesByElement=new WeakMap;constructor(T,M,B){this._element=T,this._startStyles=M,this._endStyles=B,this._state=0;let X=V.initialStylesByElement.get(T);X||V.initialStylesByElement.set(T,X=new Map),this._initialStyles=X}start(){this._state<1&&(this._startStyles&&me(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(me(this._element,this._initialStyles),this._endStyles&&(me(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(W(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(W(this._element,this._endStyles),this._endStyles=null),me(this._element,this._initialStyles),this._state=3)}}return V})();function Br(V){let m=null;return V.forEach((T,M)=>{(function us(V){return"display"===V||"position"===V})(M)&&(m=m||new Map,m.set(M,T))}),m}class yi{constructor(m,T,M,B){this.element=m,this.keyframes=T,this.options=M,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const T=[];return m.forEach(M=>{T.push(Object.fromEntries(M))}),T}_triggerWebAnimation(m,T,M){return m.animate(this._convertKeyframesToObject(T),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,B)=>{"offset"!==B&&m.set(B,this._finished?M:Yi(this.element,B))}),this.currentSnapshot=m}triggerCallback(m){const T="start"===m?this._onStartFns:this._onDoneFns;T.forEach(M=>M()),T.length=0}}class va{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,T){return!1}containsElement(m,T){return Qt(m,T)}getParentElement(m){return Rr(m)}query(m,T,M){return jt(m,T,M)}computeStyle(m,T,M){return window.getComputedStyle(m)[T]}animate(m,T,M,B,X,_e=[]){const xe={duration:M,delay:B,fill:0==B?"both":"forwards"};X&&(xe.easing=X);const Qe=new Map,wt=_e.filter(In=>In instanceof yi);(function tn(V,m){return 0===V||0===m})(M,B)&&wt.forEach(In=>{In.currentSnapshot.forEach((en,mn)=>Qe.set(mn,en))});let Rt=function ar(V){return V.length?V[0]instanceof Map?V:V.map(m=>tr(m)):[]}(T).map(In=>Ur(In));Rt=function Kn(V,m,T){if(T.size&&m.length){let M=m[0],B=[];if(T.forEach((X,_e)=>{M.has(_e)||B.push(_e),M.set(_e,X)}),B.length)for(let X=1;X<m.length;X++){let _e=m[X];B.forEach(pe=>_e.set(pe,Yi(V,pe)))}}return m}(m,Rt,Qe);const On=function Lo(V,m){let T=null,M=null;return Array.isArray(m)&&m.length?(T=Br(m[0]),m.length>1&&(M=Br(m[m.length-1]))):m instanceof Map&&(T=Br(m)),T||M?new wi(V,T,M):null}(m,Rt);return new yi(m,Rt,xe,On)}}var zn=O(6814);let Ss=(()=>{class V extends Q._j{constructor(T,M){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(M.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(T){const M=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(T)?(0,Q.vP)(T):T;return oc(this._renderer,null,M,"register",[B]),new Ai(M,this._renderer)}static#e=this.\u0275fac=function(M){return new(M||V)($.LFG($.FYo),$.LFG(zn.K0))};static#t=this.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac})}return V})();class Ai extends Q.LC{constructor(m,T){super(),this._id=m,this._renderer=T}create(m,T){return new za(this._id,m,T||{},this._renderer)}}class za{constructor(m,T,M,B){this.id=m,this.element=T,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,T){return this._renderer.listen(this.element,`@@${this.id}:${m}`,T)}_command(m,...T){return oc(this._renderer,this.element,this.id,m,T)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oc(V,m,T,M,B){return V.setProperty(m,`@@${T}:${M}`,B)}const so="@.disabled";let Ea=(()=>{class V{constructor(T,M,B){this.delegate=T,this.engine=M,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,M.onRemovalComplete=(X,_e)=>{const pe=_e?.parentNode(X);pe&&_e.removeChild(pe,X)}}createRenderer(T,M){const X=this.delegate.createRenderer(T,M);if(!(T&&M&&M.data&&M.data.animation)){let wt=this._rendererCache.get(X);return wt||(wt=new Fo("",X,this.engine,()=>this._rendererCache.delete(X)),this._rendererCache.set(X,wt)),wt}const _e=M.id,pe=M.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,T);const xe=wt=>{Array.isArray(wt)?wt.forEach(xe):this.engine.registerTrigger(_e,pe,T,wt.name,wt)};return M.data.animation.forEach(xe),new Zc(this,pe,X,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,M,B){T>=0&&T<this._microtaskId?this._zone.run(()=>M(B)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(X=>{const[_e,pe]=X;_e(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(M){return new(M||V)($.LFG($.FYo),$.LFG(kr),$.LFG($.R0b))};static#t=this.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac})}return V})();class Fo{constructor(m,T,M,B){this.namespaceId=m,this.delegate=T,this.engine=M,this._onDestroy=B}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,T){return this.delegate.createElement(m,T)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,T){this.delegate.appendChild(m,T),this.engine.onInsert(this.namespaceId,T,m,!1)}insertBefore(m,T,M,B=!0){this.delegate.insertBefore(m,T,M),this.engine.onInsert(this.namespaceId,T,m,B)}removeChild(m,T,M){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(m,T){return this.delegate.selectRootElement(m,T)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,T,M,B){this.delegate.setAttribute(m,T,M,B)}removeAttribute(m,T,M){this.delegate.removeAttribute(m,T,M)}addClass(m,T){this.delegate.addClass(m,T)}removeClass(m,T){this.delegate.removeClass(m,T)}setStyle(m,T,M,B){this.delegate.setStyle(m,T,M,B)}removeStyle(m,T,M){this.delegate.removeStyle(m,T,M)}setProperty(m,T,M){"@"==T.charAt(0)&&T==so?this.disableAnimations(m,!!M):this.delegate.setProperty(m,T,M)}setValue(m,T){this.delegate.setValue(m,T)}listen(m,T,M){return this.delegate.listen(m,T,M)}disableAnimations(m,T){this.engine.disableAnimations(m,T)}}class Zc extends Fo{constructor(m,T,M,B,X){super(T,M,B,X),this.factory=m,this.namespaceId=T}setProperty(m,T,M){"@"==T.charAt(0)?"."==T.charAt(1)&&T==so?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,T.slice(1),M):this.delegate.setProperty(m,T,M)}listen(m,T,M){if("@"==T.charAt(0)){const B=function Xn(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(m);let X=T.slice(1),_e="";return"@"!=X.charAt(0)&&([X,_e]=function Xo(V){const m=V.indexOf(".");return[V.substring(0,m),V.slice(m+1)]}(X)),this.engine.listen(this.namespaceId,B,X,_e,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,M,pe)})}return this.delegate.listen(m,T,M)}}const po=[{provide:Q._j,useClass:Ss},{provide:vn,useFactory:function Gs(){return new vr}},{provide:kr,useClass:(()=>{class V extends kr{constructor(T,M,B,X){super(T.body,M,B)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(M){return new(M||V)($.LFG(zn.K0),$.LFG(Mr),$.LFG(vn),$.LFG($.z2F))};static#t=this.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac})}return V})()},{provide:$.FYo,useFactory:function ea(V,m,T){return new Ea(V,m,T)},deps:[y.se,kr,$.R0b]}],Uo=[{provide:Mr,useFactory:()=>new va},{provide:$.QbO,useValue:"BrowserAnimations"},...po],ta=[{provide:Mr,useClass:yn},{provide:$.QbO,useValue:"NoopAnimations"},...po];let go=(()=>{class V{static withConfig(T){return{ngModule:V,providers:T.disableAnimations?ta:Uo}}static#e=this.\u0275fac=function(M){return new(M||V)};static#t=this.\u0275mod=$.oAB({type:V});static#n=this.\u0275inj=$.cJS({providers:Uo,imports:[y.b2]})}return V})();var _o=O(4221),yo=O(7632),$i=O(1303),Fi=O(7398),vs=O(4213);const bs=[{path:"ViewITU/dashboard",canActivate:[(V,m)=>{const T=(0,$.f3M)($i.F0);return(0,$.f3M)(vs.e).authUser$.pipe((0,Fi.U)(B=>!!B||T.createUrlTree(["/ViewITU/auth"])))}],loadChildren:()=>Promise.all([O.e(36),O.e(252)]).then(O.bind(O,2252)).then(V=>V.DashboardModule)},{path:"ViewITU/auth",canActivate:[(V,m)=>{const T=(0,$.f3M)($i.F0);return(0,$.f3M)(vs.e).authUser$.pipe((0,Fi.U)(B=>!B||T.createUrlTree(["/ViewITU/dashboard"])))}],loadChildren:()=>Promise.all([O.e(36),O.e(466)]).then(O.bind(O,5466)).then(V=>V.AuthModule)},{path:"**",redirectTo:"dashboard"}];let Ci=(()=>{class V{static#e=this.\u0275fac=function(M){return new(M||V)};static#t=this.\u0275mod=$.oAB({type:V});static#n=this.\u0275inj=$.cJS({imports:[$i.Bz.forRoot(bs),$i.Bz]})}return V})();var ao=O(5226),ts=O(6680);let uo=(()=>{class V{constructor(T,M){this.storeNgRx=T,this.authService=M}verifyLocalStorage(){const T=(0,ao.PR)();this.storeNgRx.dispatch(T?ts.E.setUser({data:T}):ts.E.resetUserState())}static#e=this.\u0275fac=function(M){return new(M||V)($.LFG(_o.yh),$.LFG(vs.e))};static#t=this.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac})}return V})(),Ks=(()=>{class V{constructor(T){this.appService=T,this.title="ITU"}ngOnInit(){this.appService.verifyLocalStorage()}static#e=this.\u0275fac=function(M){return new(M||V)($.Y36(uo))};static#t=this.\u0275cmp=$.Xpm({type:V,selectors:[["app-root"]],decls:1,vars:0,template:function(M,B){1&M&&$._UZ(0,"router-outlet")},dependencies:[$i.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Meera+Inimai&display=swap";']})}return V})();var Bo=O(9420);const jo={[Bo.o]:Bo.d};let vo=(()=>{class V{static#e=this.\u0275fac=function(M){return new(M||V)};static#t=this.\u0275mod=$.oAB({type:V,bootstrap:[Ks]});static#n=this.\u0275inj=$.cJS({providers:[uo],imports:[y.b2,Ci,go,(0,he.hX)(()=>(0,he.ZF)({projectId:"angular-itu",appId:"1:658611626559:web:ee5c3d05bc1ddd784b4e8a",storageBucket:"angular-itu.appspot.com",apiKey:"AIzaSyDDHO8HDvpEsSB92yz7g0fnH11mtzCdjyc",authDomain:"angular-itu.firebaseapp.com",messagingSenderId:"658611626559"})),(0,j.Cm)(()=>(0,j.ad)()),(0,ee.AR)(()=>(0,ee.v0)()),_o.Aw.forRoot(jo,{}),yo.FT.instrument({maxAge:25,logOnly:!(0,$.X6Q)()})]})}return V})();y.q6().bootstrapModule(vo).catch(V=>console.error(V))},5619:(ye,re,O)=>{O.d(re,{X:()=>$});var y=O(8645);class $ extends y.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const j=super._subscribe(ee);return!j.closed&&ee.next(this._value),j}getValue(){const{hasError:ee,thrownError:j,_value:Q}=this;if(ee)throw j;return this._throwIfClosed(),Q}next(ee){super.next(this._value=ee)}}},5592:(ye,re,O)=>{O.d(re,{y:()=>ge});var y=O(305),$=O(7394),he=O(4850),ee=O(8407),j=O(2653),Q=O(4674),de=O(1441);let ge=(()=>{class fe{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const De=new fe;return De.source=this,De.operator=Se,De}subscribe(Se,De,Ne){const it=function ne(fe){return fe&&fe instanceof y.Lv||function J(fe){return fe&&(0,Q.m)(fe.next)&&(0,Q.m)(fe.error)&&(0,Q.m)(fe.complete)}(fe)&&(0,$.Nn)(fe)}(Se)?Se:new y.Hp(Se,De,Ne);return(0,de.x)(()=>{const{operator:Ze,source:vt}=this;it.add(Ze?Ze.call(it,vt):vt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Se){try{return this._subscribe(Se)}catch(De){Se.error(De)}}forEach(Se,De){return new(De=ue(De))((Ne,it)=>{const Ze=new y.Hp({next:vt=>{try{Se(vt)}catch(pt){it(pt),Ze.unsubscribe()}},error:it,complete:Ne});this.subscribe(Ze)})}_subscribe(Se){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Se)}[he.L](){return this}pipe(...Se){return(0,ee.U)(Se)(this)}toPromise(Se){return new(Se=ue(Se))((De,Ne)=>{let it;this.subscribe(Ze=>it=Ze,Ze=>Ne(Ze),()=>De(it))})}}return fe.create=ce=>new fe(ce),fe})();function ue(fe){var ce;return null!==(ce=fe??j.config.Promise)&&void 0!==ce?ce:Promise}},7328:(ye,re,O)=>{O.d(re,{t:()=>he});var y=O(8645),$=O(4552);class he extends y.x{constructor(j=1/0,Q=1/0,de=$.l){super(),this._bufferSize=j,this._windowTime=Q,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Q===1/0,this._bufferSize=Math.max(1,j),this._windowTime=Math.max(1,Q)}next(j){const{isStopped:Q,_buffer:de,_infiniteTimeWindow:ge,_timestampProvider:ue,_windowTime:J}=this;Q||(de.push(j),!ge&&de.push(ue.now()+J)),this._trimBuffer(),super.next(j)}_subscribe(j){this._throwIfClosed(),this._trimBuffer();const Q=this._innerSubscribe(j),{_infiniteTimeWindow:de,_buffer:ge}=this,ue=ge.slice();for(let J=0;J<ue.length&&!j.closed;J+=de?1:2)j.next(ue[J]);return this._checkFinalizedStatuses(j),Q}_trimBuffer(){const{_bufferSize:j,_timestampProvider:Q,_buffer:de,_infiniteTimeWindow:ge}=this,ue=(ge?1:2)*j;if(j<1/0&&ue<de.length&&de.splice(0,de.length-ue),!ge){const J=Q.now();let ne=0;for(let fe=1;fe<de.length&&de[fe]<=J;fe+=2)ne=fe;ne&&de.splice(0,ne+1)}}}},8645:(ye,re,O)=>{O.d(re,{x:()=>de});var y=O(5592),$=O(7394);const ee=(0,O(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=O(9039),Q=O(1441);let de=(()=>{class ue extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const fe=new ge(this,this);return fe.operator=ne,fe}_throwIfClosed(){if(this.closed)throw new ee}next(ne){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ne)}})}error(ne){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ne)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:fe,isStopped:ce,observers:Se}=this;return fe||ce?$.Lc:(this.currentObservers=null,Se.push(ne),new $.w0(()=>{this.currentObservers=null,(0,j.P)(Se,ne)}))}_checkFinalizedStatuses(ne){const{hasError:fe,thrownError:ce,isStopped:Se}=this;fe?ne.error(ce):Se&&ne.complete()}asObservable(){const ne=new y.y;return ne.source=this,ne}}return ue.create=(J,ne)=>new ge(J,ne),ue})();class ge extends de{constructor(J,ne){super(),this.destination=J,this.source=ne}next(J){var ne,fe;null===(fe=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===fe||fe.call(ne,J)}error(J){var ne,fe;null===(fe=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===fe||fe.call(ne,J)}complete(){var J,ne;null===(ne=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ne||ne.call(J)}_subscribe(J){var ne,fe;return null!==(fe=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(J))&&void 0!==fe?fe:$.Lc}}},305:(ye,re,O)=>{O.d(re,{Hp:()=>Ne,Lv:()=>fe});var y=O(4674),$=O(7394),he=O(2653),ee=O(3894),j=O(2420);const Q=ue("C",void 0,void 0);function ue(se,Oe,Ee){return{kind:se,value:Oe,error:Ee}}var J=O(7599),ne=O(1441);class fe extends $.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,$.Nn)(Oe)&&Oe.add(this)):this.destination=pt}static create(Oe,Ee,et){return new Ne(Oe,Ee,et)}next(Oe){this.isStopped?vt(function ge(se){return ue("N",se,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?vt(function de(se){return ue("E",void 0,se)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?vt(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ce=Function.prototype.bind;function Se(se,Oe){return ce.call(se,Oe)}class De{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Oe)}catch(et){it(et)}}error(Oe){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Oe)}catch(et){it(et)}else it(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ee){it(Ee)}}}class Ne extends fe{constructor(Oe,Ee,et){let ot;if(super(),(0,y.m)(Oe)||!Oe)ot={next:Oe??void 0,error:Ee??void 0,complete:et??void 0};else{let ct;this&&he.config.useDeprecatedNextContext?(ct=Object.create(Oe),ct.unsubscribe=()=>this.unsubscribe(),ot={next:Oe.next&&Se(Oe.next,ct),error:Oe.error&&Se(Oe.error,ct),complete:Oe.complete&&Se(Oe.complete,ct)}):ot=Oe}this.destination=new De(ot)}}function it(se){he.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)(se):(0,ee.h)(se)}function vt(se,Oe){const{onStoppedNotification:Ee}=he.config;Ee&&J.z.setTimeout(()=>Ee(se,Oe))}const pt={closed:!0,next:j.Z,error:function Ze(se){throw se},complete:j.Z}},7394:(ye,re,O)=>{O.d(re,{Lc:()=>Q,w0:()=>j,Nn:()=>de});var y=O(4674);const he=(0,O(2306).d)(ue=>function(ne){ue(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((fe,ce)=>`${ce+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ee=O(9039);class j{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Se of ne)Se.remove(this);else ne.remove(this);const{initialTeardown:fe}=this;if((0,y.m)(fe))try{fe()}catch(Se){J=Se instanceof he?Se.errors:[Se]}const{_finalizers:ce}=this;if(ce){this._finalizers=null;for(const Se of ce)try{ge(Se)}catch(De){J=J??[],De instanceof he?J=[...J,...De.errors]:J.push(De)}}if(J)throw new he(J)}}add(J){var ne;if(J&&J!==this)if(this.closed)ge(J);else{if(J instanceof j){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(J)}}_hasParent(J){const{_parentage:ne}=this;return ne===J||Array.isArray(ne)&&ne.includes(J)}_addParent(J){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(J),ne):ne?[ne,J]:J}_removeParent(J){const{_parentage:ne}=this;ne===J?this._parentage=null:Array.isArray(ne)&&(0,ee.P)(ne,J)}remove(J){const{_finalizers:ne}=this;ne&&(0,ee.P)(ne,J),J instanceof j&&J._removeParent(this)}}j.EMPTY=(()=>{const ue=new j;return ue.closed=!0,ue})();const Q=j.EMPTY;function de(ue){return ue instanceof j||ue&&"closed"in ue&&(0,y.m)(ue.remove)&&(0,y.m)(ue.add)&&(0,y.m)(ue.unsubscribe)}function ge(ue){(0,y.m)(ue)?ue():ue.unsubscribe()}},2653:(ye,re,O)=>{O.d(re,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(ye,re,O)=>{O.d(re,{c:()=>Q});var y=O(5592),$=O(7394),he=O(6196),ee=O(8251),j=O(9360);class Q extends y.y{constructor(ge,ue){super(),this.source=ge,this.subjectFactory=ue,this._subject=null,this._refCount=0,this._connection=null,(0,j.A)(ge)&&(this.lift=ge.lift)}_subscribe(ge){return this.getSubject().subscribe(ge)}getSubject(){const ge=this._subject;return(!ge||ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ge}=this;this._subject=this._connection=null,ge?.unsubscribe()}connect(){let ge=this._connection;if(!ge){ge=this._connection=new $.w0;const ue=this.getSubject();ge.add(this.source.subscribe((0,ee.x)(ue,void 0,()=>{this._teardown(),ue.complete()},J=>{this._teardown(),ue.error(J)},()=>this._teardown()))),ge.closed&&(this._connection=null,ge=$.w0.EMPTY)}return ge}refCount(){return(0,he.x)()(this)}}},2572:(ye,re,O)=>{O.d(re,{a:()=>J});var y=O(5592),$=O(7453),he=O(2459),ee=O(2737),j=O(7400),Q=O(9940),de=O(2714),ge=O(8251),ue=O(7103);function J(...ce){const Se=(0,Q.yG)(ce),De=(0,Q.jO)(ce),{args:Ne,keys:it}=(0,$.D)(ce);if(0===Ne.length)return(0,he.D)([],Se);const Ze=new y.y(function ne(ce,Se,De=ee.y){return Ne=>{fe(Se,()=>{const{length:it}=ce,Ze=new Array(it);let vt=it,pt=it;for(let se=0;se<it;se++)fe(Se,()=>{const Oe=(0,he.D)(ce[se],Se);let Ee=!1;Oe.subscribe((0,ge.x)(Ne,et=>{Ze[se]=et,Ee||(Ee=!0,pt--),pt||Ne.next(De(Ze.slice()))},()=>{--vt||Ne.complete()}))},Ne)},Ne)}}(Ne,Se,it?vt=>(0,de.n)(it,vt):ee.y));return De?Ze.pipe((0,j.Z)(De)):Ze}function fe(ce,Se,De){ce?(0,ue.f)(De,ce,Se):Se()}},5211:(ye,re,O)=>{O.d(re,{z:()=>j});var y=O(7537),he=O(9940),ee=O(2459);function j(...Q){return function $(){return(0,y.J)(1)}()((0,ee.D)(Q,(0,he.yG)(Q)))}},4911:(ye,re,O)=>{O.d(re,{P:()=>he});var y=O(5592),$=O(4829);function he(ee){return new y.y(j=>{(0,$.Xf)(ee()).subscribe(j)})}},6232:(ye,re,O)=>{O.d(re,{E:()=>$});const $=new(O(5592).y)(j=>j.complete())},2459:(ye,re,O)=>{O.d(re,{D:()=>Oe});var y=O(4829),$=O(3093),he=O(5137),Q=O(5592),ge=O(4971),ue=O(4674),J=O(7103);function fe(Ee,et){if(!Ee)throw new Error("Iterable cannot be null");return new Q.y(ot=>{(0,J.f)(ot,et,()=>{const ct=Ee[Symbol.asyncIterator]();(0,J.f)(ot,et,()=>{ct.next().then(_n=>{_n.done?ot.complete():ot.next(_n.value)})},0,!0)})})}var ce=O(8382),Se=O(4026),De=O(4266),Ne=O(3664),it=O(5726),Ze=O(9853),vt=O(541);function Oe(Ee,et){return et?function se(Ee,et){if(null!=Ee){if((0,ce.c)(Ee))return function ee(Ee,et){return(0,y.Xf)(Ee).pipe((0,he.R)(et),(0,$.Q)(et))}(Ee,et);if((0,De.z)(Ee))return function de(Ee,et){return new Q.y(ot=>{let ct=0;return et.schedule(function(){ct===Ee.length?ot.complete():(ot.next(Ee[ct++]),ot.closed||this.schedule())})})}(Ee,et);if((0,Se.t)(Ee))return function j(Ee,et){return(0,y.Xf)(Ee).pipe((0,he.R)(et),(0,$.Q)(et))}(Ee,et);if((0,it.D)(Ee))return fe(Ee,et);if((0,Ne.T)(Ee))return function ne(Ee,et){return new Q.y(ot=>{let ct;return(0,J.f)(ot,et,()=>{ct=Ee[ge.h](),(0,J.f)(ot,et,()=>{let _n,Et;try{({value:_n,done:Et}=ct.next())}catch(Yt){return void ot.error(Yt)}Et?ot.complete():ot.next(_n)},0,!0)}),()=>(0,ue.m)(ct?.return)&&ct.return()})}(Ee,et);if((0,vt.L)(Ee))return function pt(Ee,et){return fe((0,vt.Q)(Ee),et)}(Ee,et)}throw(0,Ze.z)(Ee)}(Ee,et):(0,y.Xf)(Ee)}},4829:(ye,re,O)=>{O.d(re,{Xf:()=>ce});var y=O(7582),$=O(4266),he=O(4026),ee=O(5592),j=O(8382),Q=O(5726),de=O(9853),ge=O(3664),ue=O(541),J=O(4674),ne=O(3894),fe=O(4850);function ce(se){if(se instanceof ee.y)return se;if(null!=se){if((0,j.c)(se))return function Se(se){return new ee.y(Oe=>{const Ee=se[fe.L]();if((0,J.m)(Ee.subscribe))return Ee.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,$.z)(se))return function De(se){return new ee.y(Oe=>{for(let Ee=0;Ee<se.length&&!Oe.closed;Ee++)Oe.next(se[Ee]);Oe.complete()})}(se);if((0,he.t)(se))return function Ne(se){return new ee.y(Oe=>{se.then(Ee=>{Oe.closed||(Oe.next(Ee),Oe.complete())},Ee=>Oe.error(Ee)).then(null,ne.h)})}(se);if((0,Q.D)(se))return Ze(se);if((0,ge.T)(se))return function it(se){return new ee.y(Oe=>{for(const Ee of se)if(Oe.next(Ee),Oe.closed)return;Oe.complete()})}(se);if((0,ue.L)(se))return function vt(se){return Ze((0,ue.Q)(se))}(se)}throw(0,de.z)(se)}function Ze(se){return new ee.y(Oe=>{(function pt(se,Oe){var Ee,et,ot,ct;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,y.KL)(se);!(et=yield Ee.next()).done;)if(Oe.next(et.value),Oe.closed)return}catch(_n){ot={error:_n}}finally{try{et&&!et.done&&(ct=Ee.return)&&(yield ct.call(Ee))}finally{if(ot)throw ot.error}}Oe.complete()})})(se,Oe).catch(Ee=>Oe.error(Ee))})}},3019:(ye,re,O)=>{O.d(re,{T:()=>Q});var y=O(7537),$=O(4829),he=O(6232),ee=O(9940),j=O(2459);function Q(...de){const ge=(0,ee.yG)(de),ue=(0,ee._6)(de,1/0),J=de;return J.length?1===J.length?(0,$.Xf)(J[0]):(0,y.J)(ue)((0,j.D)(J,ge)):he.E}},2096:(ye,re,O)=>{O.d(re,{of:()=>he});var y=O(9940),$=O(2459);function he(...ee){const j=(0,y.yG)(ee);return(0,$.D)(ee,j)}},8504:(ye,re,O)=>{O.d(re,{_:()=>he});var y=O(5592),$=O(4674);function he(ee,j){const Q=(0,$.m)(ee)?ee:()=>ee,de=ge=>ge.error(Q());return new y.y(j?ge=>j.schedule(de,0,ge):de)}},8251:(ye,re,O)=>{O.d(re,{x:()=>$});var y=O(305);function $(ee,j,Q,de,ge){return new he(ee,j,Q,de,ge)}class he extends y.Lv{constructor(j,Q,de,ge,ue,J){super(j),this.onFinalize=ue,this.shouldUnsubscribe=J,this._next=Q?function(ne){try{Q(ne)}catch(fe){j.error(fe)}}:super._next,this._error=ge?function(ne){try{ge(ne)}catch(fe){j.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(ne){j.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},6306:(ye,re,O)=>{O.d(re,{K:()=>ee});var y=O(4829),$=O(8251),he=O(9360);function ee(j){return(0,he.e)((Q,de)=>{let J,ge=null,ue=!1;ge=Q.subscribe((0,$.x)(de,void 0,void 0,ne=>{J=(0,y.Xf)(j(ne,ee(j)(Q))),ge?(ge.unsubscribe(),ge=null,J.subscribe(de)):ue=!0})),ue&&(ge.unsubscribe(),ge=null,J.subscribe(de))})}},6328:(ye,re,O)=>{O.d(re,{b:()=>he});var y=O(1631),$=O(4674);function he(ee,j){return(0,$.m)(j)?(0,y.z)(ee,j,1):(0,y.z)(ee,1)}},3620:(ye,re,O)=>{O.d(re,{b:()=>ee});var y=O(6321),$=O(9360),he=O(8251);function ee(j,Q=y.z){return(0,$.e)((de,ge)=>{let ue=null,J=null,ne=null;const fe=()=>{if(ue){ue.unsubscribe(),ue=null;const Se=J;J=null,ge.next(Se)}};function ce(){const Se=ne+j,De=Q.now();if(De<Se)return ue=this.schedule(void 0,Se-De),void ge.add(ue);fe()}de.subscribe((0,he.x)(ge,Se=>{J=Se,ne=Q.now(),ue||(ue=Q.schedule(ce,j),ge.add(ue))},()=>{fe(),ge.complete()},void 0,()=>{J=ue=null}))})}},3997:(ye,re,O)=>{O.d(re,{x:()=>ee});var y=O(2737),$=O(9360),he=O(8251);function ee(Q,de=y.y){return Q=Q??j,(0,$.e)((ge,ue)=>{let J,ne=!0;ge.subscribe((0,he.x)(ue,fe=>{const ce=de(fe);(ne||!Q(J,ce))&&(ne=!1,J=ce,ue.next(fe))}))})}function j(Q,de){return Q===de}},2181:(ye,re,O)=>{O.d(re,{h:()=>he});var y=O(9360),$=O(8251);function he(ee,j){return(0,y.e)((Q,de)=>{let ge=0;Q.subscribe((0,$.x)(de,ue=>ee.call(j,ue,ge++)&&de.next(ue)))})}},4716:(ye,re,O)=>{O.d(re,{x:()=>$});var y=O(9360);function $(he){return(0,y.e)((ee,j)=>{try{ee.subscribe(j)}finally{j.add(he)}})}},7398:(ye,re,O)=>{O.d(re,{U:()=>he});var y=O(9360),$=O(8251);function he(ee,j){return(0,y.e)((Q,de)=>{let ge=0;Q.subscribe((0,$.x)(de,ue=>{de.next(ee.call(j,ue,ge++))}))})}},975:(ye,re,O)=>{O.d(re,{h:()=>$});var y=O(7398);function $(he){return(0,y.U)(()=>he)}},7537:(ye,re,O)=>{O.d(re,{J:()=>he});var y=O(1631),$=O(2737);function he(ee=1/0){return(0,y.z)($.y,ee)}},1631:(ye,re,O)=>{O.d(re,{z:()=>ge});var y=O(7398),$=O(4829),he=O(9360),ee=O(7103),j=O(8251),de=O(4674);function ge(ue,J,ne=1/0){return(0,de.m)(J)?ge((fe,ce)=>(0,y.U)((Se,De)=>J(fe,Se,ce,De))((0,$.Xf)(ue(fe,ce))),ne):("number"==typeof J&&(ne=J),(0,he.e)((fe,ce)=>function Q(ue,J,ne,fe,ce,Se,De,Ne){const it=[];let Ze=0,vt=0,pt=!1;const se=()=>{pt&&!it.length&&!Ze&&J.complete()},Oe=et=>Ze<fe?Ee(et):it.push(et),Ee=et=>{Se&&J.next(et),Ze++;let ot=!1;(0,$.Xf)(ne(et,vt++)).subscribe((0,j.x)(J,ct=>{ce?.(ct),Se?Oe(ct):J.next(ct)},()=>{ot=!0},void 0,()=>{if(ot)try{for(Ze--;it.length&&Ze<fe;){const ct=it.shift();De?(0,ee.f)(J,De,()=>Ee(ct)):Ee(ct)}se()}catch(ct){J.error(ct)}}))};return ue.subscribe((0,j.x)(J,Oe,()=>{pt=!0,se()})),()=>{Ne?.()}}(fe,ce,ue,ne)))}},3093:(ye,re,O)=>{O.d(re,{Q:()=>ee});var y=O(7103),$=O(9360),he=O(8251);function ee(j,Q=0){return(0,$.e)((de,ge)=>{de.subscribe((0,he.x)(ge,ue=>(0,y.f)(ge,j,()=>ge.next(ue),Q),()=>(0,y.f)(ge,j,()=>ge.complete(),Q),ue=>(0,y.f)(ge,j,()=>ge.error(ue),Q)))})}},6196:(ye,re,O)=>{O.d(re,{x:()=>he});var y=O(9360),$=O(8251);function he(){return(0,y.e)((ee,j)=>{let Q=null;ee._refCount++;const de=(0,$.x)(j,void 0,void 0,void 0,()=>{if(!ee||ee._refCount<=0||0<--ee._refCount)return void(Q=null);const ge=ee._connection,ue=Q;Q=null,ge&&(!ue||ge===ue)&&ge.unsubscribe(),j.unsubscribe()});ee.subscribe(de),de.closed||(Q=ee.connect())})}},6699:(ye,re,O)=>{O.d(re,{R:()=>ee});var y=O(9360),$=O(8251);function ee(j,Q){return(0,y.e)(function he(j,Q,de,ge,ue){return(J,ne)=>{let fe=de,ce=Q,Se=0;J.subscribe((0,$.x)(ne,De=>{const Ne=Se++;ce=fe?j(ce,De,Ne):(fe=!0,De),ge&&ne.next(ce)},ue&&(()=>{fe&&ne.next(ce),ne.complete()})))}}(j,Q,arguments.length>=2,!0))}},3020:(ye,re,O)=>{O.d(re,{B:()=>j});var y=O(4829),$=O(8645),he=O(305),ee=O(9360);function j(de={}){const{connector:ge=(()=>new $.x),resetOnError:ue=!0,resetOnComplete:J=!0,resetOnRefCountZero:ne=!0}=de;return fe=>{let ce,Se,De,Ne=0,it=!1,Ze=!1;const vt=()=>{Se?.unsubscribe(),Se=void 0},pt=()=>{vt(),ce=De=void 0,it=Ze=!1},se=()=>{const Oe=ce;pt(),Oe?.unsubscribe()};return(0,ee.e)((Oe,Ee)=>{Ne++,!Ze&&!it&&vt();const et=De=De??ge();Ee.add(()=>{Ne--,0===Ne&&!Ze&&!it&&(Se=Q(se,ne))}),et.subscribe(Ee),!ce&&Ne>0&&(ce=new he.Hp({next:ot=>et.next(ot),error:ot=>{Ze=!0,vt(),Se=Q(pt,ue,ot),et.error(ot)},complete:()=>{it=!0,vt(),Se=Q(pt,J),et.complete()}}),(0,y.Xf)(Oe).subscribe(ce))})(fe)}}function Q(de,ge,...ue){if(!0===ge)return void de();if(!1===ge)return;const J=new he.Hp({next:()=>{J.unsubscribe(),de()}});return(0,y.Xf)(ge(...ue)).subscribe(J)}},836:(ye,re,O)=>{O.d(re,{T:()=>$});var y=O(2181);function $(he){return(0,y.h)((ee,j)=>he<=j)}},7921:(ye,re,O)=>{O.d(re,{O:()=>ee});var y=O(5211),$=O(9940),he=O(9360);function ee(...j){const Q=(0,$.yG)(j);return(0,he.e)((de,ge)=>{(Q?(0,y.z)(j,de,Q):(0,y.z)(j,de)).subscribe(ge)})}},5137:(ye,re,O)=>{O.d(re,{R:()=>$});var y=O(9360);function $(he,ee=0){return(0,y.e)((j,Q)=>{Q.add(he.schedule(()=>j.subscribe(Q),ee))})}},4664:(ye,re,O)=>{O.d(re,{w:()=>ee});var y=O(4829),$=O(9360),he=O(8251);function ee(j,Q){return(0,$.e)((de,ge)=>{let ue=null,J=0,ne=!1;const fe=()=>ne&&!ue&&ge.complete();de.subscribe((0,he.x)(ge,ce=>{ue?.unsubscribe();let Se=0;const De=J++;(0,y.Xf)(j(ce,De)).subscribe(ue=(0,he.x)(ge,Ne=>ge.next(Q?Q(ce,Ne,De,Se++):Ne),()=>{ue=null,fe()}))},()=>{ne=!0,fe()}))})}},8180:(ye,re,O)=>{O.d(re,{q:()=>ee});var y=O(6232),$=O(9360),he=O(8251);function ee(j){return j<=0?()=>y.E:(0,$.e)((Q,de)=>{let ge=0;Q.subscribe((0,he.x)(de,ue=>{++ge<=j&&(de.next(ue),j<=ge&&de.complete())}))})}},9773:(ye,re,O)=>{O.d(re,{R:()=>j});var y=O(9360),$=O(8251),he=O(4829),ee=O(2420);function j(Q){return(0,y.e)((de,ge)=>{(0,he.Xf)(Q).subscribe((0,$.x)(ge,()=>ge.complete(),ee.Z)),!ge.closed&&de.subscribe(ge)})}},9397:(ye,re,O)=>{O.d(re,{b:()=>j});var y=O(4674),$=O(9360),he=O(8251),ee=O(2737);function j(Q,de,ge){const ue=(0,y.m)(Q)||de||ge?{next:Q,error:de,complete:ge}:Q;return ue?(0,$.e)((J,ne)=>{var fe;null===(fe=ue.subscribe)||void 0===fe||fe.call(ue);let ce=!0;J.subscribe((0,he.x)(ne,Se=>{var De;null===(De=ue.next)||void 0===De||De.call(ue,Se),ne.next(Se)},()=>{var Se;ce=!1,null===(Se=ue.complete)||void 0===Se||Se.call(ue),ne.complete()},Se=>{var De;ce=!1,null===(De=ue.error)||void 0===De||De.call(ue,Se),ne.error(Se)},()=>{var Se,De;ce&&(null===(Se=ue.unsubscribe)||void 0===Se||Se.call(ue)),null===(De=ue.finalize)||void 0===De||De.call(ue)}))}):ee.y}},5178:(ye,re,O)=>{O.d(re,{V:()=>ue});var y=O(6321),$=O(93),he=O(9360),ee=O(4829),j=O(2306),Q=O(8251),de=O(7103);const ge=(0,j.d)(ne=>function(ce=null){ne(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ce});function ue(ne,fe){const{first:ce,each:Se,with:De=J,scheduler:Ne=fe??y.z,meta:it=null}=(0,$.q)(ne)?{first:ne}:"number"==typeof ne?{each:ne}:ne;if(null==ce&&null==Se)throw new TypeError("No timeout provided.");return(0,he.e)((Ze,vt)=>{let pt,se,Oe=null,Ee=0;const et=ot=>{se=(0,de.f)(vt,Ne,()=>{try{pt.unsubscribe(),(0,ee.Xf)(De({meta:it,lastValue:Oe,seen:Ee})).subscribe(vt)}catch(ct){vt.error(ct)}},ot)};pt=Ze.subscribe((0,Q.x)(vt,ot=>{se?.unsubscribe(),Ee++,vt.next(Oe=ot),Se>0&&et(Se)},void 0,void 0,()=>{se?.closed||se?.unsubscribe(),Oe=null})),!Ee&&et(null!=ce?"number"==typeof ce?ce:+ce-Ne.now():Se)})}function J(ne){throw new ge(ne)}},2460:(ye,re,O)=>{O.d(re,{M:()=>de});var y=O(9360),$=O(8251),he=O(4829),ee=O(2737),j=O(2420),Q=O(9940);function de(...ge){const ue=(0,Q.jO)(ge);return(0,y.e)((J,ne)=>{const fe=ge.length,ce=new Array(fe);let Se=ge.map(()=>!1),De=!1;for(let Ne=0;Ne<fe;Ne++)(0,he.Xf)(ge[Ne]).subscribe((0,$.x)(ne,it=>{ce[Ne]=it,!De&&!Se[Ne]&&(Se[Ne]=!0,(De=Se.every(ee.y))&&(Se=null))},j.Z));J.subscribe((0,$.x)(ne,Ne=>{if(De){const it=[Ne,...ce];ne.next(ue?ue(...it):it)}}))})}},1954:(ye,re,O)=>{O.d(re,{o:()=>j});var y=O(7394);class $ extends y.w0{constructor(de,ge){super()}schedule(de,ge=0){return this}}const he={setInterval(Q,de,...ge){const{delegate:ue}=he;return ue?.setInterval?ue.setInterval(Q,de,...ge):setInterval(Q,de,...ge)},clearInterval(Q){const{delegate:de}=he;return(de?.clearInterval||clearInterval)(Q)},delegate:void 0};var ee=O(9039);class j extends ${constructor(de,ge){super(de,ge),this.scheduler=de,this.work=ge,this.pending=!1}schedule(de,ge=0){var ue;if(this.closed)return this;this.state=de;const J=this.id,ne=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ne,J,ge)),this.pending=!0,this.delay=ge,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(ne,this.id,ge),this}requestAsyncId(de,ge,ue=0){return he.setInterval(de.flush.bind(de,this),ue)}recycleAsyncId(de,ge,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ge;null!=ge&&he.clearInterval(ge)}execute(de,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(de,ge);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ge){let J,ue=!1;try{this.work(de)}catch(ne){ue=!0,J=ne||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:de,scheduler:ge}=this,{actions:ue}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ue,this),null!=de&&(this.id=this.recycleAsyncId(ge,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(ye,re,O)=>{O.d(re,{v:()=>he});var y=O(4552);class ${constructor(j,Q=$.now){this.schedulerActionCtor=j,this.now=Q}schedule(j,Q=0,de){return new this.schedulerActionCtor(this,j).schedule(de,Q)}}$.now=y.l.now;class he extends ${constructor(j,Q=$.now){super(j,Q),this.actions=[],this._active=!1}flush(j){const{actions:Q}=this;if(this._active)return void Q.push(j);let de;this._active=!0;do{if(de=j.execute(j.state,j.delay))break}while(j=Q.shift());if(this._active=!1,de){for(;j=Q.shift();)j.unsubscribe();throw de}}}},6321:(ye,re,O)=>{O.d(re,{P:()=>ee,z:()=>he});var y=O(1954);const he=new(O(2631).v)(y.o),ee=he},4552:(ye,re,O)=>{O.d(re,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},2381:(ye,re,O)=>{O.d(re,{N:()=>j});var y=O(1954),he=O(2631);const j=new class ee extends he.v{}(class $ extends y.o{constructor(ge,ue){super(ge,ue),this.scheduler=ge,this.work=ue}schedule(ge,ue=0){return ue>0?super.schedule(ge,ue):(this.delay=ue,this.state=ge,this.scheduler.flush(this),this)}execute(ge,ue){return ue>0||this.closed?super.execute(ge,ue):this._execute(ge,ue)}requestAsyncId(ge,ue,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(ge,ue,J):(ge.flush(this),0)}})},7599:(ye,re,O)=>{O.d(re,{z:()=>y});const y={setTimeout($,he,...ee){const{delegate:j}=y;return j?.setTimeout?j.setTimeout($,he,...ee):setTimeout($,he,...ee)},clearTimeout($){const{delegate:he}=y;return(he?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(ye,re,O)=>{O.d(re,{h:()=>$});const $=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ye,re,O)=>{O.d(re,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ye,re,O)=>{O.d(re,{_6:()=>Q,jO:()=>ee,yG:()=>j});var y=O(4674),$=O(671);function he(de){return de[de.length-1]}function ee(de){return(0,y.m)(he(de))?de.pop():void 0}function j(de){return(0,$.K)(he(de))?de.pop():void 0}function Q(de,ge){return"number"==typeof he(de)?de.pop():ge}},7453:(ye,re,O)=>{O.d(re,{D:()=>j});const{isArray:y}=Array,{getPrototypeOf:$,prototype:he,keys:ee}=Object;function j(de){if(1===de.length){const ge=de[0];if(y(ge))return{args:ge,keys:null};if(function Q(de){return de&&"object"==typeof de&&$(de)===he}(ge)){const ue=ee(ge);return{args:ue.map(J=>ge[J]),keys:ue}}}return{args:de,keys:null}}},9039:(ye,re,O)=>{function y($,he){if($){const ee=$.indexOf(he);0<=ee&&$.splice(ee,1)}}O.d(re,{P:()=>y})},2306:(ye,re,O)=>{function y($){const ee=$(j=>{Error.call(j),j.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}O.d(re,{d:()=>y})},2714:(ye,re,O)=>{function y($,he){return $.reduce((ee,j,Q)=>(ee[j]=he[Q],ee),{})}O.d(re,{n:()=>y})},1441:(ye,re,O)=>{O.d(re,{O:()=>ee,x:()=>he});var y=O(2653);let $=null;function he(j){if(y.config.useDeprecatedSynchronousErrorHandling){const Q=!$;if(Q&&($={errorThrown:!1,error:null}),j(),Q){const{errorThrown:de,error:ge}=$;if($=null,de)throw ge}}else j()}function ee(j){y.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=j)}},7103:(ye,re,O)=>{function y($,he,ee,j=0,Q=!1){const de=he.schedule(function(){ee(),Q?$.add(this.schedule(null,j)):this.unsubscribe()},j);if($.add(de),!Q)return de}O.d(re,{f:()=>y})},2737:(ye,re,O)=>{function y($){return $}O.d(re,{y:()=>y})},4266:(ye,re,O)=>{O.d(re,{z:()=>y});const y=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(ye,re,O)=>{O.d(re,{D:()=>$});var y=O(4674);function $(he){return Symbol.asyncIterator&&(0,y.m)(he?.[Symbol.asyncIterator])}},93:(ye,re,O)=>{function y($){return $ instanceof Date&&!isNaN($)}O.d(re,{q:()=>y})},4674:(ye,re,O)=>{function y($){return"function"==typeof $}O.d(re,{m:()=>y})},8382:(ye,re,O)=>{O.d(re,{c:()=>he});var y=O(4850),$=O(4674);function he(ee){return(0,$.m)(ee[y.L])}},3664:(ye,re,O)=>{O.d(re,{T:()=>he});var y=O(4971),$=O(4674);function he(ee){return(0,$.m)(ee?.[y.h])}},2664:(ye,re,O)=>{O.d(re,{b:()=>he});var y=O(5592),$=O(4674);function he(ee){return!!ee&&(ee instanceof y.y||(0,$.m)(ee.lift)&&(0,$.m)(ee.subscribe))}},4026:(ye,re,O)=>{O.d(re,{t:()=>$});var y=O(4674);function $(he){return(0,y.m)(he?.then)}},541:(ye,re,O)=>{O.d(re,{L:()=>ee,Q:()=>he});var y=O(7582),$=O(4674);function he(j){return(0,y.FC)(this,arguments,function*(){const de=j.getReader();try{for(;;){const{value:ge,done:ue}=yield(0,y.qq)(de.read());if(ue)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ge)}}finally{de.releaseLock()}})}function ee(j){return(0,$.m)(j?.getReader)}},671:(ye,re,O)=>{O.d(re,{K:()=>$});var y=O(4674);function $(he){return he&&(0,y.m)(he.schedule)}},9360:(ye,re,O)=>{O.d(re,{A:()=>$,e:()=>he});var y=O(4674);function $(ee){return(0,y.m)(ee?.lift)}function he(ee){return j=>{if($(j))return j.lift(function(Q){try{return ee(Q,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ye,re,O)=>{O.d(re,{Z:()=>ee});var y=O(7398);const{isArray:$}=Array;function ee(j){return(0,y.U)(Q=>function he(j,Q){return $(Q)?j(...Q):j(Q)}(j,Q))}},2420:(ye,re,O)=>{function y(){}O.d(re,{Z:()=>y})},8407:(ye,re,O)=>{O.d(re,{U:()=>he,z:()=>$});var y=O(2737);function $(...ee){return he(ee)}function he(ee){return 0===ee.length?y.y:1===ee.length?ee[0]:function(Q){return ee.reduce((de,ge)=>ge(de),Q)}}},3894:(ye,re,O)=>{O.d(re,{h:()=>he});var y=O(2653),$=O(7599);function he(ee){$.z.setTimeout(()=>{const{onUnhandledError:j}=y.config;if(!j)throw ee;j(ee)})}},9853:(ye,re,O)=>{function y($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(re,{z:()=>y})},6825:(ye,re,O)=>{O.d(re,{F4:()=>J,IO:()=>De,LC:()=>$,SB:()=>ue,X$:()=>ee,ZE:()=>Ze,ZN:()=>it,_j:()=>y,eR:()=>ne,jt:()=>j,k1:()=>vt,l3:()=>he,oB:()=>ge,pV:()=>ce,ru:()=>Q,vP:()=>de});class y{}class ${}const he="*";function ee(pt,se){return{type:7,name:pt,definitions:se,options:{}}}function j(pt,se=null){return{type:4,styles:se,timings:pt}}function Q(pt,se=null){return{type:3,steps:pt,options:se}}function de(pt,se=null){return{type:2,steps:pt,options:se}}function ge(pt){return{type:6,styles:pt,offset:null}}function ue(pt,se,Oe){return{type:0,name:pt,styles:se,options:Oe}}function J(pt){return{type:5,steps:pt}}function ne(pt,se,Oe=null){return{type:1,expr:pt,animation:se,options:Oe}}function ce(pt=null){return{type:9,options:pt}}function De(pt,se,Oe=null){return{type:11,selector:pt,animation:se,options:Oe}}class it{constructor(se=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=se+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}onStart(se){this._originalOnStartFns.push(se),this._onStartFns.push(se)}onDone(se){this._originalOnDoneFns.push(se),this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(se=>se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(se){this._position=this.totalTime?se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(se){const Oe="start"==se?this._onStartFns:this._onDoneFns;Oe.forEach(Ee=>Ee()),Oe.length=0}}class Ze{constructor(se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=se;let Oe=0,Ee=0,et=0;const ot=this.players.length;0==ot?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++Oe==ot&&this._onFinish()}),ct.onDestroy(()=>{++Ee==ot&&this._onDestroy()}),ct.onStart(()=>{++et==ot&&this._onStart()})}),this.totalTime=this.players.reduce((ct,_n)=>Math.max(ct,_n.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}init(){this.players.forEach(se=>se.init())}onStart(se){this._onStartFns.push(se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(se=>se()),this._onStartFns=[])}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(se=>se.play())}pause(){this.players.forEach(se=>se.pause())}restart(){this.players.forEach(se=>se.restart())}finish(){this._onFinish(),this.players.forEach(se=>se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(se=>se.destroy()),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this.players.forEach(se=>se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(se){const Oe=se*this.totalTime;this.players.forEach(Ee=>{const et=Ee.totalTime?Math.min(1,Oe/Ee.totalTime):1;Ee.setPosition(et)})}getPosition(){const se=this.players.reduce((Oe,Ee)=>null===Oe||Ee.totalTime>Oe.totalTime?Ee:Oe,null);return null!=se?se.getPosition():0}beforeDestroy(){this.players.forEach(se=>{se.beforeDestroy&&se.beforeDestroy()})}triggerCallback(se){const Oe="start"==se?this._onStartFns:this._onDoneFns;Oe.forEach(Ee=>Ee()),Oe.length=0}}const vt="!"},6814:(ye,re,O)=>{O.d(re,{Do:()=>Ne,ED:()=>$s,EM:()=>es,HT:()=>ee,JF:()=>Cs,K0:()=>Q,Mx:()=>Nr,NF:()=>Kr,O5:()=>gs,Ov:()=>mt,PC:()=>ws,PM:()=>Di,RF:()=>Jr,S$:()=>ce,V_:()=>ge,Ye:()=>it,b0:()=>De,bD:()=>Er,ez:()=>Zs,mk:()=>js,n9:()=>Ts,q:()=>he,sg:()=>rr,tP:()=>zs,w_:()=>j});var y=O(5879);let $=null;function he(){return $}function ee(D){$||($=D)}class j{}const Q=new y.OlP("DocumentToken");let de=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(ue)},providedIn:"platform"})}return D})();const ge=new y.OlP("Location Initialized");let ue=(()=>{class D extends de{constructor(){super(),this._doc=(0,y.f3M)(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(P){const L=he().getGlobalEventTarget(this._doc,"window");return L.addEventListener("popstate",P,!1),()=>L.removeEventListener("popstate",P)}onHashChange(P){const L=he().getGlobalEventTarget(this._doc,"window");return L.addEventListener("hashchange",P,!1),()=>L.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,L,oe){this._history.pushState(P,L,oe)}replaceState(P,L,oe){this._history.replaceState(P,L,oe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(L){return new(L||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function J(D,U){if(0==D.length)return U;if(0==U.length)return D;let P=0;return D.endsWith("/")&&P++,U.startsWith("/")&&P++,2==P?D+U.substring(1):1==P?D+U:D+"/"+U}function ne(D){const U=D.match(/#|\?|$/),P=U&&U.index||D.length;return D.slice(0,P-("/"===D[P-1]?1:0))+D.slice(P)}function fe(D){return D&&"?"!==D[0]?"?"+D:D}let ce=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(De)},providedIn:"root"})}return D})();const Se=new y.OlP("appBaseHref");let De=(()=>{class D extends ce{constructor(P,L){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=L??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return J(this._baseHref,P)}path(P=!1){const L=this._platformLocation.pathname+fe(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&P?`${L}${oe}`:L}pushState(P,L,oe,Me){const tt=this.prepareExternalUrl(oe+fe(Me));this._platformLocation.pushState(P,L,tt)}replaceState(P,L,oe,Me){const tt=this.prepareExternalUrl(oe+fe(Me));this._platformLocation.replaceState(P,L,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(L){return new(L||D)(y.LFG(de),y.LFG(Se,8))};static#t=this.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Ne=(()=>{class D extends ce{constructor(P,L){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=L&&(this._baseHref=L)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let L=this._platformLocation.hash;return null==L&&(L="#"),L.length>0?L.substring(1):L}prepareExternalUrl(P){const L=J(this._baseHref,P);return L.length>0?"#"+L:L}pushState(P,L,oe,Me){let tt=this.prepareExternalUrl(oe+fe(Me));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(P,L,tt)}replaceState(P,L,oe,Me){let tt=this.prepareExternalUrl(oe+fe(Me));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(P,L,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(L){return new(L||D)(y.LFG(de),y.LFG(Se,8))};static#t=this.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac})}return D})(),it=(()=>{class D{constructor(P){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const L=this._locationStrategy.getBaseHref();this._basePath=function se(D){if(new RegExp("^(https?:)?//").test(D)){const[,P]=D.split(/\/\/[^\/]+/);return P}return D}(ne(pt(L))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,L=""){return this.path()==this.normalize(P+fe(L))}normalize(P){return D.stripTrailingSlash(function vt(D,U){if(!D||!U.startsWith(D))return U;const P=U.substring(D.length);return""===P||["/",";","?","#"].includes(P[0])?P:U}(this._basePath,pt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,L="",oe=null){this._locationStrategy.pushState(oe,"",P,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+fe(L)),oe)}replaceState(P,L="",oe=null){this._locationStrategy.replaceState(oe,"",P,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+fe(L)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(L=>{this._notifyUrlChangeListeners(L.url,L.state)})),()=>{const L=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(L,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",L){this._urlChangeListeners.forEach(oe=>oe(P,L))}subscribe(P,L,oe){return this._subject.subscribe({next:P,error:L,complete:oe})}static#e=this.normalizeQueryParams=fe;static#t=this.joinWithSlash=J;static#n=this.stripTrailingSlash=ne;static#r=this.\u0275fac=function(L){return new(L||D)(y.LFG(ce))};static#i=this.\u0275prov=y.Yz7({token:D,factory:function(){return function Ze(){return new it((0,y.LFG)(ce))}()},providedIn:"root"})}return D})();function pt(D){return D.replace(/\/index.html$/,"")}function Nr(D,U){U=encodeURIComponent(U);for(const P of D.split(";")){const L=P.indexOf("="),[oe,Me]=-1==L?[P,""]:[P.slice(0,L),P.slice(L+1)];if(oe.trim()===U)return decodeURIComponent(Me)}return null}const mi=/\s+/,Ns=[];let js=(()=>{class D{constructor(P,L,oe,Me){this._iterableDiffers=P,this._keyValueDiffers=L,this._ngEl=oe,this._renderer=Me,this.initialClasses=Ns,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(mi):Ns}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(mi):P}ngDoCheck(){for(const L of this.initialClasses)this._updateState(L,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const L of P)this._updateState(L,!0);else if(null!=P)for(const L of Object.keys(P))this._updateState(L,!!P[L]);this._applyStateDiff()}_updateState(P,L){const oe=this.stateMap.get(P);void 0!==oe?(oe.enabled!==L&&(oe.changed=!0,oe.enabled=L),oe.touched=!0):this.stateMap.set(P,{enabled:L,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const L=P[0],oe=P[1];oe.changed?(this._toggleClass(L,oe.enabled),oe.changed=!1):oe.touched||(oe.enabled&&this._toggleClass(L,!1),this.stateMap.delete(L)),oe.touched=!1}}_toggleClass(P,L){(P=P.trim()).length>0&&P.split(mi).forEach(oe=>{L?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return D})();class ks{constructor(U,P,L,oe){this.$implicit=U,this.ngForOf=P,this.index=L,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class D{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,L,oe){this._viewContainer=P,this._template=L,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const L=this._viewContainer;P.forEachOperation((oe,Me,tt)=>{if(null==oe.previousIndex)L.createEmbeddedView(this._template,new ks(oe.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)L.remove(null===Me?void 0:Me);else if(null!==Me){const Ht=L.get(Me);L.move(Ht,tt),hr(Ht,oe)}});for(let oe=0,Me=L.length;oe<Me;oe++){const Ht=L.get(oe).context;Ht.index=oe,Ht.count=Me,Ht.ngForOf=this._ngForOf}P.forEachIdentityChange(oe=>{hr(L.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(P,L){return!0}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function hr(D,U){D.context.$implicit=U.item}let gs=(()=>{class D{constructor(P,L){this._viewContainer=P,this._context=new ms,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=L}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){_i("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){_i("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,L){return!0}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.s_b),y.Y36(y.Rgc))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class ms{constructor(){this.$implicit=null,this.ngIf=null}}function _i(D,U){if(U&&!U.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,y.AaK)(U)}'.`)}class Ls{constructor(U,P){this._viewContainerRef=U,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(U){U&&!this._created?this.create():!U&&this._created&&this.destroy()}}let Jr=(()=>{class D{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews.push(P)}_matchCase(P){const L=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||L,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),L}_updateDefaultCases(P){if(this._defaultViews.length>0&&P!==this._defaultUsed){this._defaultUsed=P;for(const L of this._defaultViews)L.enforceState(P)}}static#e=this.\u0275fac=function(L){return new(L||D)};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return D})(),Ts=(()=>{class D{constructor(P,L,oe){this.ngSwitch=oe,oe._addCase(),this._view=new Ls(P,L)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(Jr,9))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return D})(),$s=(()=>{class D{constructor(P,L,oe){oe._addDefault(new Ls(P,L))}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(Jr,9))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return D})(),ws=(()=>{class D{constructor(P,L,oe){this._ngEl=P,this._differs=L,this._renderer=oe,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,L){const[oe,Me]=P.split("."),tt=-1===oe.indexOf("-")?void 0:y.JOm.DashCase;null!=L?this._renderer.setStyle(this._ngEl.nativeElement,oe,Me?`${L}${Me}`:L,tt):this._renderer.removeStyle(this._ngEl.nativeElement,oe,tt)}_applyChanges(P){P.forEachRemovedItem(L=>this._setStyle(L.key,null)),P.forEachAddedItem(L=>this._setStyle(L.key,L.currentValue)),P.forEachChangedItem(L=>this._setStyle(L.key,L.currentValue))}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return D})(),zs=(()=>{class D{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const L=this._viewContainerRef;if(this._viewRef&&L.remove(L.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:oe,ngTemplateOutletContext:Me,ngTemplateOutletInjector:tt}=this;this._viewRef=L.createEmbeddedView(oe,Me,tt?{injector:tt}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.s_b))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]})}return D})();class ae{createSubscription(U,P){return(0,y.rg0)(()=>U.subscribe({next:P,error:L=>{throw L}}))}dispose(U){(0,y.rg0)(()=>U.unsubscribe())}}class Ke{createSubscription(U,P){return U.then(P,L=>{throw L})}dispose(U){}}const Ae=new Ke,Le=new ae;let mt=(()=>{class D{constructor(P){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=P}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,L=>this._updateLatestValue(P,L))}_selectStrategy(P){if((0,y.QGY)(P))return Ae;if((0,y.F4k)(P))return Le;throw function ui(D,U){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,L){P===this._obj&&(this._latestValue=L,this._ref.markForCheck())}static#e=this.\u0275fac=function(L){return new(L||D)(y.Y36(y.sBO,16))};static#t=this.\u0275pipe=y.Yjl({name:"async",type:D,pure:!1,standalone:!0})}return D})(),Zs=(()=>{class D{static#e=this.\u0275fac=function(L){return new(L||D)};static#t=this.\u0275mod=y.oAB({type:D});static#n=this.\u0275inj=y.cJS({})}return D})();const Er="browser",os="server";function Kr(D){return D===Er}function Di(D){return D===os}let es=(()=>{class D{static#e=this.\u0275prov=(0,y.Yz7)({token:D,providedIn:"root",factory:()=>new _s((0,y.LFG)(Q),window)})}return D})();class _s{constructor(U,P){this.document=U,this.window=P,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const P=function ro(D,U){const P=D.getElementById(U)||D.getElementsByName(U)[0];if(P)return P;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const L=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let oe=L.currentNode;for(;oe;){const Me=oe.shadowRoot;if(Me){const tt=Me.getElementById(U)||Me.querySelector(`[name="${U}"]`);if(tt)return tt}oe=L.nextNode()}}return null}(this.document,U);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(U){this.supportsScrolling()&&(this.window.history.scrollRestoration=U)}scrollToElement(U){const P=U.getBoundingClientRect(),L=P.left+this.window.pageXOffset,oe=P.top+this.window.pageYOffset,Me=this.offset();this.window.scrollTo(L-Me[0],oe-Me[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Cs{}},5879:(ye,re,O)=>{O.d(re,{$8M:()=>ul,$WT:()=>Hs,$Z:()=>v_,AFp:()=>qp,ALo:()=>pD,AaK:()=>fe,BQk:()=>em,CHM:()=>Du,CRH:()=>PD,DdM:()=>oD,EJc:()=>FA,EiD:()=>Ud,EpF:()=>X_,F$t:()=>Yv,F4k:()=>gh,FYo:()=>Zd,FiY:()=>Ja,Flj:()=>xe,Gf:()=>bD,GfV:()=>yf,GkF:()=>tm,Gpc:()=>De,Gre:()=>IE,HDt:()=>XD,Hsn:()=>im,Ikx:()=>gy,JOm:()=>Ra,JVY:()=>tf,JZr:()=>pt,KtG:()=>zo,L6k:()=>Ly,LAX:()=>nf,LFG:()=>Lt,LSH:()=>cu,Lbi:()=>Qp,Lck:()=>Aw,MAs:()=>zv,MGl:()=>sm,MMx:()=>JT,MR2:()=>jd,NdJ:()=>rm,O4$:()=>id,Ojb:()=>t_,OlP:()=>zt,Oqu:()=>fy,P3R:()=>Gm,PXZ:()=>hC,Q6J:()=>Qc,QGY:()=>nm,QbO:()=>e_,Qsj:()=>ug,R0b:()=>Os,RDi:()=>Ny,Rgc:()=>Im,SBq:()=>Yd,Sil:()=>BA,Suo:()=>RD,TTD:()=>ut,TgZ:()=>Hf,Udp:()=>hm,VKq:()=>aD,VuI:()=>qC,W1O:()=>ND,WFA:()=>ey,WLB:()=>uD,X6Q:()=>EC,XFs:()=>st,Xpm:()=>Ke,Xq5:()=>zc,Xts:()=>Bd,Y36:()=>Yu,YKP:()=>YT,YNc:()=>Bv,Yjl:()=>vr,Yz7:()=>Xt,Z0I:()=>Wn,ZZ4:()=>gI,_Bn:()=>QT,_UZ:()=>Jg,_Vd:()=>Fc,_c5:()=>LC,_uU:()=>hE,aQg:()=>mI,c2e:()=>JD,cJS:()=>Sn,cg1:()=>my,d8E:()=>mm,dDg:()=>uC,dqk:()=>Fn,eBb:()=>Vp,eFA:()=>l0,eJc:()=>XE,ekj:()=>fm,eoX:()=>o0,f3M:()=>Zt,g9A:()=>ff,gHi:()=>Jd,h0i:()=>Eh,hGG:()=>FC,hij:()=>gm,iGM:()=>SD,ifc:()=>Ut,ip1:()=>ZD,jDz:()=>XT,kL8:()=>NE,kcU:()=>ip,ktI:()=>Oa,lG2:()=>ir,lcZ:()=>gD,lqb:()=>Ma,lri:()=>r0,mCW:()=>Nd,n5z:()=>Mu,n_E:()=>vy,oAB:()=>Tt,oxw:()=>Qv,pB0:()=>Fy,q3G:()=>Hu,q4F:()=>s_,qFp:()=>YC,qLn:()=>Po,qOj:()=>F_,qZA:()=>Wf,qzn:()=>zu,rWj:()=>s0,rg0:()=>Me,sBO:()=>IC,s_b:()=>Ty,soG:()=>wy,tBr:()=>dl,tb:()=>cI,tdS:()=>Vn,tp0:()=>ba,uIk:()=>Vf,vHH:()=>se,vpe:()=>Qo,wAp:()=>vh,xp6:()=>Mf,ynx:()=>Xg,z2F:()=>tp,z3N:()=>ma,zSh:()=>uf,zs3:()=>Ro});var y=O(8645),$=O(7394),he=O(5592),ee=O(3019),j=O(5619),Q=O(2096),de=O(3020),ge=O(4664),ue=O(3997);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function ne(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ce(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Se=J({__forward_ref__:J});function De(t){return t.__forward_ref__=De,t.toString=function(){return fe(this())},t}function Ne(t){return it(t)?t():t}function it(t){return"function"==typeof t&&t.hasOwnProperty(Se)&&t.__forward_ref__===De}function Ze(t){return t&&!!t.\u0275providers}const pt="https://g.co/ng/security#xss";class se extends Error{constructor(r,s){super(function Oe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t,r){throw new se(-201,!1)}function Gt(t,r){null==t&&function ke(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pn(t){return er(t,Pr)||er(t,ht)}function Wn(t){return null!==Pn(t)}function er(t,r){return t.hasOwnProperty(r)?t[r]:null}function oi(t){return t&&(t.hasOwnProperty(Re)||t.hasOwnProperty(Nt))?t[Re]:null}const Pr=J({\u0275prov:J}),Re=J({\u0275inj:J}),ht=J({ngInjectableDef:J}),Nt=J({ngInjectorDef:J});var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(st||{});let Qt;function jt(){return Qt}function An(t){const r=Qt;return Qt=t,r}function yn(t,r,s){const a=Pn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&st.Optional?null:void 0!==r?r:void Et(fe(t))}const Fn=globalThis;class zt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Xt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ar={},Ni="__NG_DI_FLAG__",Ur="ngTempTokenPath",W=/\n/gm,G="__source";let K;function Ye(t){const r=K;return K=t,r}function It(t,r=st.Default){if(void 0===K)throw new se(-203,!1);return null===K?yn(t,void 0,r):K.get(t,r&st.Optional?null:void 0,r)}function Lt(t,r=st.Default){return(jt()||It)(Ne(t),r)}function Zt(t,r=st.Default){return Lt(t,tn(r))}function tn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kn(t){const r=[];for(let s=0;s<t.length;s++){const a=Ne(t[s]);if(Array.isArray(a)){if(0===a.length)throw new se(900,!1);let c,d=st.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Yi(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(Lt(c,d))}else r.push(Lt(a))}return r}function nr(t,r){return t[Ni]=r,t.prototype[Ni]=r,t}function Yi(t){return t[Ni]}function Ce(t){return{toString:t}.toString()}var dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dt||{}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{});const nn={},Dt=[],jn=J({\u0275cmp:J}),xr=J({\u0275dir:J}),yr=J({\u0275pipe:J}),gi=J({\u0275mod:J}),Nr=J({\u0275fac:J}),mi=J({__NG_ELEMENT_ID__:J}),Ns=J({__NG_ENV_ID__:J});function js(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function ps(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ks(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Zi(t){return 3===t||4===t||6===t}function ks(t){return 64===t.charCodeAt(0)}function rr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||hr(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function hr(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const ki="ng-template";function gs(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==js(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function ms(t){return 4===t.type&&t.value!==ki}function _i(t,r,s){return r===(4!==t.type||s?t.value:ki)}function Ls(t,r,s){let a=4;const c=t.attrs||[],d=function Fs(t){for(let r=0;r<t.length;r++)if(Zi(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!_i(t,C,s)||""===C&&1===r.length){if(Jr(a))return!1;g=!0}}else{const x=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!gs(t.attrs,x,s)){if(Jr(a))return!1;g=!0}continue}const ie=Ts(8&a?"class":C,c,ms(t),s);if(-1===ie){if(Jr(a))return!1;g=!0;continue}if(""!==x){let Ie;Ie=ie>d?"":c[ie+1].toLowerCase();const Pe=8&a?Ie:null;if(Pe&&-1!==js(Pe,x,0)||2&a&&x!==Ie){if(Jr(a))return!1;g=!0}}}}else{if(!g&&!Jr(a)&&!Jr(C))return!1;if(g&&Jr(C))continue;g=!1,a=C|1&a}}return Jr(a)||g}function Jr(t){return 0==(1&t)}function Ts(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Ds(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function $s(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ls(t,r[a],s))return!0;return!1}function ws(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function zs(t,r){return t?":not("+r.trim()+")":r}function No(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Jr(g)&&(r+=zs(d,c),c=""),a=g,d=d||!Jr(a);s++}return""!==c&&(r+=zs(d,c)),r}function Ke(t){return Ce(()=>{const r=Qs(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""};ko(s);const a=t.dependencies;return s.directiveDefs=Ji(a,!1),s.pipeDefs=Ji(a,!0),s.id=function Ys(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Le(t){return Ot(t)||$n(t)}function mt(t){return null!==t}function Tt(t){return Ce(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fr(t,r){if(null==t)return nn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ir(t){return Ce(()=>{const r=Qs(t);return ko(r),r})}function vr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ot(t){return t[jn]||null}function $n(t){return t[xr]||null}function Wr(t){return t[yr]||null}function Hs(t){const r=Ot(t)||$n(t)||Wr(t);return null!==r&&r.standalone}function Sr(t,r){const s=t[gi]||null;if(!s&&!0===r)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return s}function Qs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||nn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fr(t.inputs,r),outputs:fr(t.outputs)}}function ko(t){t.features?.forEach(r=>r(t))}function Ji(t,r){if(!t)return null;const s=r?Wr:Le;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(mt)}const pr=0,St=1,Ft=2,Jn=3,Xr=4,Xi=5,ci=6,Zs=7,Er=8,os=9,Li=10,dn=11,Kr=12,Di=13,As=14,wr=15,no=16,es=17,_s=18,ro=19,$a=20,Cs=21,ys=22,as=23,Js=24,Rn=25,di=1,io=2,Gr=7,Vs=9,kr=11;function wi(t){return Array.isArray(t)&&"object"==typeof t[di]}function Br(t){return Array.isArray(t)&&!0===t[di]}function us(t){return 0!=(4&t.flags)}function yi(t){return t.componentOffset>-1}function va(t){return 1==(1&t.flags)}function zn(t){return!!t.template}function Ss(t){return 0!=(512&t[Ft])}function $i(t,r){return t.hasOwnProperty(Nr)?t[Nr]:null}const Fi=Symbol("SIGNAL");function oo(t,r){return(null===t||"object"!=typeof t)&&Object.is(t,r)}let ei=null,bs=!1;function Ci(t){const r=ei;return ei=t,r}const ao={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ts(t){if(bs)throw new Error("");if(null===ei)return;const r=ei.nextProducerIndex++;_e(ei),r<ei.producerNode.length&&ei.producerNode[r]!==t&&X(ei)&&B(ei.producerNode[r],ei.producerIndexOfThis[r]),ei.producerNode[r]!==t&&(ei.producerNode[r]=t,ei.producerIndexOfThis[r]=X(ei)?M(t,ei,r):0),ei.producerLastReadVersion[r]=t.version}function uo(t){if(!X(t)||t.dirty){if(!t.producerMustRecompute(t)&&!m(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ks(t){if(void 0===t.liveConsumerNode)return;const r=bs;bs=!0;try{for(const s of t.liveConsumerNode)s.dirty||jo(s)}finally{bs=r}}function Bo(){return!1!==ei?.consumerAllowSignalWrites}function jo(t){t.dirty=!0,Ks(t),t.consumerMarkedDirty?.(t)}function vo(t){return t&&(t.nextProducerIndex=0),Ci(t)}function V(t,r){if(Ci(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(X(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)B(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function m(t){_e(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(uo(s),a!==s.version))return!0}return!1}function T(t){if(_e(t),X(t))for(let r=0;r<t.producerNode.length;r++)B(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function M(t,r,s){if(pe(t),_e(t),0===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)t.producerIndexOfThis[a]=M(t.producerNode[a],t,a);return t.liveConsumerIndexOfThis.push(s),t.liveConsumerNode.push(r)-1}function B(t,r){if(pe(t),_e(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)B(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];_e(c),c.producerIndexOfThis[a]=r}}function X(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _e(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pe(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xe(t,r){const s=Object.create(On);s.computation=t,r?.equal&&(s.equal=r.equal);const a=()=>{if(uo(s),ts(s),s.value===Rt)throw s.error;return s.value};return a[Fi]=s,a}const Qe=Symbol("UNSET"),wt=Symbol("COMPUTING"),Rt=Symbol("ERRORED"),On=(()=>({...ao,value:Qe,dirty:!0,error:null,equal:oo,producerMustRecompute:t=>t.value===Qe||t.value===wt,producerRecomputeValue(t){if(t.value===wt)throw new Error("Detected cycle in computations.");const r=t.value;t.value=wt;const s=vo(t);let a;try{a=t.computation()}catch(c){a=Rt,t.error=c}finally{V(t,s)}r!==Qe&&r!==Rt&&a!==Rt&&t.equal(r,a)?t.value=r:(t.value=a,t.version++)}}))();let en=function In(){throw new Error};function mn(){en()}let ur=null;function Vn(t,r){const s=Object.create(Lr);function a(){return ts(s),s.value}return s.value=t,r?.equal&&(s.equal=r.equal),a.set=U,a.update=P,a.mutate=L,a.asReadonly=oe,a[Fi]=s,a}const Lr=(()=>({...ao,equal:oo,readonlyFn:void 0}))();function D(t){t.version++,Ks(t),ur?.()}function U(t){const r=this[Fi];Bo()||mn(),r.equal(r.value,t)||(r.value=t,D(r))}function P(t){Bo()||mn(),U.call(this,t(this[Fi].value))}function L(t){const r=this[Fi];Bo()||mn(),t(r.value),D(r)}function oe(){const t=this[Fi];if(void 0===t.readonlyFn){const r=()=>this();r[Fi]=t,t.readonlyFn=r}return t.readonlyFn}function Me(t){const r=Ci(null);try{return t()}finally{Ci(r)}}const Ht=()=>{},Hn=(()=>({...ao,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ht}))();class sr{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ut(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=on),xt}function xt(){const t=xn(this),r=t?.current;if(r){const s=t.previous;if(s===nn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function on(t,r,s,a){const c=this.declaredInputs[s],d=xn(t)||function jr(t,r){return t[or]=r}(t,{previous:nn,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new sr(C&&C.currentValue,r,v===nn),t[a]=r}ut.ngInherit=!0;const or="__ngSimpleChanges__";function xn(t){return t[or]||null}const Vi=function(t,r,s){},Xe="svg";function Cn(t){for(;Array.isArray(t);)t=t[pr];return t}function Bt(t,r){return Cn(r[t])}function kt(t,r){return Cn(r[t.index])}function Pt(t,r){return t.data[r]}function Be(t,r){return t[r]}function nt(t,r){const s=r[t];return wi(s)?s:s[pr]}function Eo(t,r){return null==r?null:t[r]}function Io(t){t[es]=0}function td(t){1024&t[Ft]||(t[Ft]|=1024,Tu(t,1))}function nd(t){1024&t[Ft]&&(t[Ft]&=-1025,Tu(t,-1))}function Tu(t,r){let s=t[Jn];if(null===s)return;s[Xi]+=r;let a=s;for(s=s[Jn];null!==s&&(1===r&&1===a[Xi]||-1===r&&0===a[Xi]);)s[Xi]+=r,a=s,s=s[Jn]}function ac(t,r){if(256==(256&t[Ft]))throw new se(911,!1);null===t[Cs]&&(t[Cs]=[]),t[Cs].push(r)}const fn={lFrame:vi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rn(){return fn.bindingsEnabled}function $o(){return null!==fn.skipHydrationRootTNode}function Je(){return fn.lFrame.lView}function kn(){return fn.lFrame.tView}function Du(t){return fn.lFrame.contextLView=t,t[Er]}function zo(t){return fn.lFrame.contextLView=null,t}function Ui(){let t=ia();for(;null!==t&&64===t.type;)t=t.parent;return t}function ia(){return fn.lFrame.currentTNode}function qs(t,r){const s=fn.lFrame;s.currentTNode=t,s.isParent=r}function cs(){return fn.lFrame.isParent}function Ho(){fn.lFrame.isParent=!1}function ls(){const t=fn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function E(){return fn.lFrame.bindingIndex++}function b(t){const r=fn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function N(t,r){const s=fn.lFrame;s.bindingIndex=s.bindingRootIndex=t,le(r)}function le(t){fn.lFrame.currentDirectiveIndex=t}function je(t){const r=fn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Ue(){return fn.lFrame.currentQueryIndex}function Vt(t){fn.lFrame.currentQueryIndex=t}function pn(t){const r=t[St];return 2===r.type?r.declTNode:1===r.type?t[ci]:null}function br(t,r,s){if(s&st.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&st.Host||(c=pn(d),null===c||(d=d[As],10&c.type))););if(null===c)return!1;r=c,t=d}const a=fn.lFrame=Rs();return a.currentTNode=r,a.lView=t,!0}function Bn(t){const r=Rs(),s=t[St];fn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Rs(){const t=fn.lFrame,r=null===t?null:t.child;return null===r?vi(t):r}function vi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function wa(){const t=fn.lFrame;return fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Wa=wa;function Bi(){const t=wa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ps(){return fn.lFrame.selectedIndex}function Ga(t){fn.lFrame.selectedIndex=t}function Ei(){const t=fn.lFrame;return Pt(t.tView,t.selectedIndex)}function id(){fn.lFrame.currentNamespace=Xe}function ip(){!function sp(){fn.lFrame.currentNamespace=null}()}let op=!0;function wu(){return op}function Ka(t){op=t}function od(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:H}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),x&&((t.viewHooks??=[]).push(s,x),(t.viewCheckHooks??=[]).push(s,x)),null!=H&&(t.destroyHooks??=[]).push(s,H)}}function Au(t,r,s){Ch(t,r,3,s)}function Cu(t,r,s,a){(3&t[Ft])===s&&Ch(t,r,s,a)}function cc(t,r){let s=t[Ft];(3&s)===r&&(s&=8191,s+=1,t[Ft]=s)}function Ch(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[es]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[es]+=65536),(v<d||-1==d)&&(ap(t,s,r,C),t[es]=(4294901760&t[es])+C+2),C++}function il(t,r){Vi(4,t,r);const s=Ci(null);try{r.call(t)}finally{Ci(s),Vi(5,t,r)}}function ap(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Ft]>>13<t[es]>>16&&(3&t[Ft])===r&&(t[Ft]+=8192,il(v,d)):il(v,d)}const to=-1;class qa{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Fr(t){return t!==to}function Aa(t){return 32767&t}function zi(t,r){let s=function lc(t){return t>>16}(t),a=r;for(;s>0;)a=a[As],s--;return a}let Su=!0;function ud(t){const r=Su;return Su=t,r}const Rh=255,oa=5;let hi=0;const Hi={};function Ru(t,r){const s=cd(t,r);if(-1!==s)return s;const a=r[St];a.firstCreatePass&&(t.injectorIndex=r.length,Qa(a.data,t),Qa(r,null),Qa(a.blueprint,null));const c=To(t,r),d=t.injectorIndex;if(Fr(c)){const g=Aa(c),v=zi(c,r),C=v[St].data;for(let x=0;x<8;x++)r[d+x]=v[g+x]|C[g+x]}return r[d+8]=c,d}function Qa(t,r){t.push(0,0,0,0,0,0,0,0,r)}function cd(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function To(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Mh(c),null===a)return to;if(s++,c=c[As],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return to}function aa(t,r,s){!function bu(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mi)&&(a=s[mi]),null==a&&(a=s[mi]=hi++);const c=a&Rh;r.data[t+(c>>oa)]|=1<<c}(t,r,s)}function Do(t,r,s){if(s&st.Optional||void 0!==t)return t;Et()}function Wo(t,r,s,a){if(s&st.Optional&&void 0===a&&(a=null),!(s&(st.Self|st.Host))){const c=t[os],d=An(void 0);try{return c?c.get(r,a,s&st.Optional):yn(r,a,s&st.Optional)}finally{An(d)}}return Do(a,0,s)}function Pu(t,r,s,a=st.Default,c){if(null!==t){if(2048&r[Ft]&&!(a&st.Self)){const g=function Ph(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Ft]&&!(512&g[Ft]);){const v=wo(d,g,s,a|st.Self,Hi);if(v!==Hi)return v;let C=d.parent;if(!C){const x=g[$a];if(x){const H=x.get(s,Hi,a);if(H!==Hi)return H}C=Mh(g),g=g[As]}d=C}return c}(t,r,s,a,Hi);if(g!==Hi)return g}const d=wo(t,r,s,a,Hi);if(d!==Hi)return d}return Wo(r,s,a,c)}function wo(t,r,s,a,c){const d=function ld(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(mi)?t[mi]:void 0;return"number"==typeof r?r>=0?r&Rh:al:r}(s);if("function"==typeof d){if(!br(r,t,a))return a&st.Host?Do(c,0,a):Wo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&st.Optional)return g;Et()}finally{Wa()}}else if("number"==typeof d){let g=null,v=cd(t,r),C=to,x=a&st.Host?r[wr][ci]:null;for((-1===v||a&st.SkipSelf)&&(C=-1===v?To(t,r):r[v+8],C!==to&&dc(a,!1)?(g=r[St],v=Aa(C),r=zi(C,r)):v=-1);-1!==v;){const H=r[St];if(Go(d,v,H.data)){const ie=up(v,r,s,g,a,x);if(ie!==Hi)return ie}C=r[v+8],C!==to&&dc(a,r[St].data[v+8]===x)&&Go(d,v,r)?(g=H,v=Aa(C),r=zi(C,r)):v=-1}}return c}function up(t,r,s,a,c,d){const g=r[St],v=g.data[t+8],H=ua(v,g,s,null==a?yi(v)&&Su:a!=g&&0!=(3&v.type),c&st.Host&&d===v);return null!==H?Ao(r,g,H,v):Hi}function ua(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,H=d>>20,Ie=c?v+H:t.directiveEnd;for(let Pe=a?v:v+H;Pe<Ie;Pe++){const rt=g[Pe];if(Pe<C&&s===rt||Pe>=C&&rt.type===s)return Pe}if(c){const Pe=g[C];if(Pe&&zn(Pe)&&Pe.type===s)return C}return null}function Ao(t,r,s,a){let c=t[s];const d=r.data;if(function ad(t){return t instanceof qa}(c)){const g=c;g.resolving&&function ot(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new se(-200,`Circular dependency in DI detected for ${t}${s}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(d[s]));const v=ud(g.canSeeViewProviders);g.resolving=!0;const x=g.injectImpl?An(g.injectImpl):null;br(t,a,st.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function sd(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=bt(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==x&&An(x),ud(v),g.resolving=!1,Wa()}}return c}function Go(t,r,s){return!!(s[r+(t>>oa)]&1<<t)}function dc(t,r){return!(t&st.Self||t&st.Host&&r)}class hs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Pu(this._tNode,this._lView,r,tn(a),s)}}function al(){return new hs(Ui(),Je())}function Mu(t){return Ce(()=>{const r=t.prototype.constructor,s=r[Nr]||hc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Nr]||hc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function hc(t){return it(t)?()=>{const r=hc(Ne(t));return r&&r()}:$i(t)}function Mh(t){const r=t[St],s=r.type;return 2===s?r.declTNode:1===s?t[ci]:null}function ul(t){return function ol(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Zi(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Ui(),t)}const Ri="__parameters__";function Za(t,r,s){return Ce(()=>{const a=function co(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,x,H){const ie=C.hasOwnProperty(Ri)?C[Ri]:Object.defineProperty(C,Ri,{value:[]})[Ri];for(;ie.length<=H;)ie.push(null);return(ie[H]=ie[H]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Nu(t,r){t.forEach(s=>Array.isArray(s)?Nu(s,r):r(s))}function fd(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function pc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ku(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Gi(t,r,s){let a=da(t,r);return a>=0?t[1|a]=s:(a=~a,function hp(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function la(t,r){const s=da(t,r);if(s>=0)return t[1|s]}function da(t,r){return function pd(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const dl=nr(Za("Inject",t=>({token:t})),-1),Ja=nr(Za("Optional"),8),ba=nr(Za("SkipSelf"),4);function Id(t){return 128==(128&t.flags)}var Ra=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ra||{});const Pa=/^>|^->|<!--|-->|--!>|<!-$/g,Tp=/(<|>)/g,Dp="\u200b$1\u200b";const tu=new Map;let $h=0;const Dd="__ngContext__";function fs(t,r){wi(r)?(t[Dd]=r[ro],function Hh(t){tu.set(t[ro],t)}(r)):t[Dd]=r}let h;function p(t,r){return h(t,r)}function F(t){const r=t[Jn];return Br(r)?r[Jn]:r}function ze(t){return qt(t[Kr])}function gt(t){return qt(t[Xr])}function qt(t){for(;null!==t&&!Br(t);)t=t[Xr];return t}function Jt(t,r,s,a,c){if(null!=a){let d,g=!1;Br(a)?d=a:wi(a)&&(g=!0,a=a[pr]);const v=Cn(a);0===t&&null!==s?null==c?Kh(r,s,v):Bu(r,s,v,c||null,!0):1===t&&null!==s?Bu(r,s,v,c||null,!0):2===t?function Pd(t,r,s){const a=qh(t,r);a&&function Py(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function km(t,r,s,a,c){const d=s[Gr];d!==Cn(s)&&Jt(r,t,a,d,c);for(let v=kr;v<s.length;v++){const C=s[v];ga(C[St],C,t,r,a,d)}}(r,t,d,s,c)}}function Or(t,r){return t.createComment(function jh(t){return t.replace(Pa,r=>r.replace(Tp,Dp))}(r))}function pa(t,r,s){return t.createElement(r,s)}function Al(t,r){const s=t[Vs],a=s.indexOf(r);nd(r),s.splice(a,1)}function ru(t,r){if(t.length<=kr)return;const s=kr+r,a=t[s];if(a){const c=a[no];null!==c&&c!==t&&Al(c,a),r>0&&(t[s-1][Xr]=a[Xr]);const d=pc(t,kr+r);!function Ad(t,r){ga(t,r,r[dn],2,null,null),r[pr]=null,r[ci]=null}(a[St],a);const g=d[_s];null!==g&&g.detachView(d[St]),a[Jn]=null,a[Xr]=null,a[Ft]&=-129}return a}function wc(t,r){if(!(256&r[Ft])){const s=r[dn];r[as]&&T(r[as]),r[Js]&&T(r[Js]),s.destroyNode&&ga(t,r,s,3,null,null),function Dl(t){let r=t[Kr];if(!r)return Cd(t[St],t);for(;r;){let s=null;if(wi(r))s=r[Kr];else{const a=r[kr];a&&(s=a)}if(!s){for(;r&&!r[Xr]&&r!==t;)wi(r)&&Cd(r[St],r),r=r[Jn];null===r&&(r=t),wi(r)&&Cd(r[St],r),s=r&&r[Xr]}r=s}}(r)}}function Cd(t,r){if(!(256&r[Ft])){r[Ft]&=-129,r[Ft]|=256,function Ac(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof qa)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];Vi(4,v,C);try{C.call(v)}finally{Vi(5,v,C)}}else{Vi(4,c,d);try{d.call(c)}finally{Vi(5,c,d)}}}}}(t,r),function Sd(t,r){const s=t.cleanup,a=r[Zs];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Zs]=null);const c=r[Cs];if(null!==c){r[Cs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[St].type&&r[dn].destroy();const s=r[no];if(null!==s&&Br(r[Jn])){s!==r[Jn]&&Al(s,r);const a=r[_s];null!==a&&a.detachView(t)}!function Mm(t){tu.delete(t[ro])}(r)}}function bd(t,r,s){return function Om(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[pr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ut.None||d===Ut.Emulated)return null}return kt(a,s)}}(t,r.parent,s)}function Bu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Kh(t,r,s){t.appendChild(r,s)}function bp(t,r,s,a,c){null!==a?Bu(t,r,s,a,c):Kh(t,r,s)}function qh(t,r){return t.parentNode(r)}function xm(t,r,s){return Cc(t,r,s)}let Qh,Yh,Xh,ef,Cc=function iu(t,r,s){return 40&t.type?kt(t,s):null};function Rd(t,r,s,a){const c=bd(t,a,r),d=r[dn],v=xm(a.parent||r[ci],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)bp(d,c,s[C],v,!1);else bp(d,c,s,v,!1);void 0!==Qh&&Qh(d,a,r,s,c)}function bo(t,r){if(null!==r){const s=r.type;if(3&s)return kt(r,t);if(4&s)return Pp(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return bo(t,a);{const c=t[r.index];return Br(c)?Pp(-1,c):Cn(c)}}if(32&s)return p(r,t)()||Cn(t[r.index]);{const a=Rp(t,r);return null!==a?Array.isArray(a)?a[0]:bo(F(t[wr]),a):bo(t,r.next)}}return null}function Rp(t,r){return null!==r?t[wr][ci].projection[r.projection]:null}function Pp(t,r){const s=kr+t+1;if(s<r.length){const a=r[s],c=a[St].firstChild;if(null!==c)return bo(a,c)}return r[Gr]}function su(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&fs(Cn(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)su(t,r,s.child,a,c,d,!1),Jt(r,t,c,v,d);else if(32&C){const x=p(s,a);let H;for(;H=x();)Jt(r,t,c,H,d);Jt(r,t,c,v,d)}else 16&C?Cl(t,r,a,s,c,d):Jt(r,t,c,v,d);s=g?s.projectionNext:s.next}}function ga(t,r,s,a,c,d){su(s,a,t.firstChild,r,c,d,!1)}function Cl(t,r,s,a,c,d){const g=s[wr],C=g[ci].projection[a.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)Jt(r,t,c,C[x],d);else{let x=C;const H=g[Jn];Id(a)&&(x.flags|=128),su(t,r,x,H,c,d,!0)}}function xp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Np(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&ps(t,r,a),null!==c&&xp(t,r,c),null!==d&&function Op(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function bc(t){return function Zh(){if(void 0===Yh&&(Yh=null,Fn.trustedTypes))try{Yh=Fn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yh}()?.createHTML(t)||t}function Ny(t){Xh=t}function kp(t){return function Rc(){if(void 0===ef&&(ef=null,Fn.trustedTypes))try{ef=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ef}()?.createScriptURL(t)||t}class $u{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class Lm extends $u{getTypeName(){return"HTML"}}class ky extends $u{getTypeName(){return"Style"}}class Lp extends $u{getTypeName(){return"Script"}}class Fp extends $u{getTypeName(){return"URL"}}class Fm extends $u{getTypeName(){return"ResourceURL"}}function ma(t){return t instanceof $u?t.changingThisBreaksApplicationSecurity:t}function zu(t,r){const s=function Vm(t){return t instanceof $u&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${pt})`)}return s===r}function tf(t){return new Lm(t)}function Ly(t){return new ky(t)}function Vp(t){return new Lp(t)}function nf(t){return new Fp(t)}function Fy(t){return new Fm(t)}class Rl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(bc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class xd{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=bc(r),s}}const Um=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nd(t){return(t=String(t)).match(Um)?t:"unsafe:"+t}function Pi(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Ml(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const kd=Pi("area,br,col,hr,img,wbr"),Ld=Pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bp=Pi("rp,rt"),au=Ml(kd,Ml(Ld,Pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ml(Bp,Pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ml(Bp,Ld)),jp=Pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uu=Ml(jp,Pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bm=Pi("script,style,template");class By{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!au.hasOwnProperty(s))return this.sanitizedSomething=!0,!Bm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!uu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;jp[v]&&(C=Nd(C)),this.buf.push(" ",g,'="',$p(C),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();au.hasOwnProperty(s)&&!kd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push($p(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const jm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jy=/([^\#-~ |!])/g;function $p(t){return t.replace(/&/g,"&amp;").replace(jm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(jy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rf;function Ud(t,r){let s=null;try{rf=rf||function Up(t){const r=new xd(t);return function Pl(){try{return!!(new window.DOMParser).parseFromString(bc(""),"text/html")}catch{return!1}}()?new Rl(r):r}(t);let a=r?String(r):"";s=rf.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=rf.getInertBodyElement(a)}while(a!==d);return bc((new By).sanitizeChildren(zp(s)||s))}finally{if(s){const a=zp(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function zp(t){return"content"in t&&function $y(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hu||{});function cu(t){const r=Ki();return r?r.sanitize(Hu.URL,t)||"":zu(t,"URL")?ma(t):Nd(Ee(t))}function Ol(t){const r=Ki();if(r)return kp(r.sanitize(Hu.RESOURCE_URL,t)||"");if(zu(t,"ResourceURL"))return kp(ma(t));throw new se(904,!1)}function Gm(t,r,s){return function Wm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ol:cu}(r,s)(t)}function Ki(){const t=Je();return t&&t[Li].sanitizer}const Bd=new zt("ENVIRONMENT_INITIALIZER"),qm=new zt("INJECTOR",-1),Qm=new zt("INJECTOR_DEF_TYPES");class Hp{get(r,s=ar){if(s===ar){const a=new Error(`NullInjectorError: No provider for ${fe(r)}!`);throw a.name="NullInjectorError",a}return s}}function jd(t){return{\u0275providers:t}}function Wy(...t){return{\u0275providers:$d(0,t),\u0275fromNgModule:!0}}function $d(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return Nu(r,g=>{const v=g;sf(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&zd(c,d),s}function zd(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Hd(c,d=>{r(d,a)})}}function sf(t,r,s,a){if(!(t=Ne(t)))return!1;let c=null,d=oi(t);const g=!d&&Ot(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=oi(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of C)sf(x,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let x;a.add(c);try{Nu(d.imports,H=>{sf(H,r,s,a)&&(x||=[],x.push(H))})}finally{}void 0!==x&&zd(x,r)}if(!v){const x=$i(c)||(()=>new c);r({provide:c,useFactory:x,deps:Dt},c),r({provide:Qm,useValue:c,multi:!0},c),r({provide:Bd,useValue:()=>Lt(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const x=t;Hd(C,H=>{r(H,x)})}}}return c!==t&&void 0!==t.providers}function Hd(t,r){for(let s of t)Ze(s)&&(s=s.\u0275providers),Array.isArray(s)?Hd(s,r):r(s)}const Wp=J({provide:String,useValue:J});function Mc(t){return null!==t&&"object"==typeof t&&Wp in t}function lu(t){return"function"==typeof t}const uf=new zt("Set Injector scope."),cf={},Ym={};let lf;function xl(){return void 0===lf&&(lf=new Hp),lf}class Ma{}class Oc extends Ma{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hf(r,g=>this.processProvider(g)),this.records.set(qm,_a(void 0,this)),c.has("environment")&&this.records.set(Ma,_a(void 0,this));const d=this.records.get(uf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Qm.multi,Dt,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Ye(this),a=An(void 0);try{return r()}finally{Ye(s),An(a)}}get(r,s=ar,a=st.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ns))return r[Ns](this);a=tn(a);const d=Ye(this),g=An(void 0);try{if(!(a&st.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function Jm(t){return"function"==typeof t||"object"==typeof t&&t instanceof zt}(r)&&Pn(r);C=x&&this.injectableDefInScope(x)?_a(Gp(r),cf):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&st.Self?xl():this.parent).get(r,s=a&st.Optional&&s===ar?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Ur]=v[Ur]||[]).unshift(fe(r)),d)throw v;return function Is(t,r,s,a){const c=t[Ur];throw r[G]&&c.unshift(r[G]),t.message=function We(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=fe(r);if(Array.isArray(r))c=r.map(fe).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):fe(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(W,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Ur]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{An(g),Ye(d)}}resolveInjectorInitializers(){const r=Ye(this),s=An(void 0);try{const c=this.get(Bd.multi,Dt,st.Self);for(const d of c)d()}finally{Ye(r),An(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(fe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(r){let s=lu(r=Ne(r))?r:Ne(r&&r.provide);const a=function qy(t){return Mc(t)?_a(void 0,t.useValue):_a(xc(t),cf)}(r);if(lu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=_a(void 0,cf,!0),c.factory=()=>Kn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===cf&&(s.value=Ym,s.value=s.factory()),"object"==typeof s.value&&s.value&&function df(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ne(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Gp(t){const r=Pn(t),s=null!==r?r.factory:$i(t);if(null!==s)return s;if(t instanceof zt)throw new se(204,!1);if(t instanceof Function)return function Zm(t){const r=t.length;if(r>0)throw ku(r,"?"),new se(204,!1);const s=function Rr(t){return t&&(t[Pr]||t[ht])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new se(204,!1)}function xc(t,r,s){let a;if(lu(t)){const c=Ne(t);return $i(c)||Gp(c)}if(Mc(t))a=()=>Ne(t.useValue);else if(function af(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Kn(t.deps||[]));else if(function Wd(t){return!(!t||!t.useExisting)}(t))a=()=>Lt(Ne(t.useExisting));else{const c=Ne(t&&(t.useClass||t.provide));if(!function Kp(t){return!!t.deps}(t))return $i(c)||Gp(c);a=()=>new c(...Kn(t.deps))}return a}function _a(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function hf(t,r){for(const s of t)Array.isArray(s)?hf(s,r):s&&Ze(s)?hf(s.\u0275providers,r):r(s)}const qp=new zt("AppId",{providedIn:"root",factory:()=>Qy}),Qy="ng",ff=new zt("Platform Initializer"),Qp=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e_=new zt("AnimationModuleType"),t_=new zt("CSP nonce",{providedIn:"root",factory:()=>function bl(){if(void 0!==Xh)return Xh;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ng=(t,r,s)=>null;function rg(t,r,s=!1){return ng(t,r,s)}class r_{}class _f{}class tv{resolveComponentFactory(r){throw function og(t){const r=Error(`No component factory found for ${fe(t)}.`);return r.ngComponent=t,r}(r)}}let Fc=(()=>{class t{static#e=this.NULL=new tv}return t})();function nv(){return Ku(Ui(),Je())}function Ku(t,r){return new Yd(kt(t,r))}let Yd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=nv}return t})();function ag(t){return t instanceof Yd?t.nativeElement:t}class Zd{}let ug=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function i_(){const t=Je(),s=nt(Ui().index,t);return(wi(s)?s:t)[dn]}()}return t})(),Ul=(()=>{class t{static#e=this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>null})}return t})();class yf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const s_=new yf("16.2.11"),cg={};function Jd(t){if(!jt()&&!function we(){return K}())throw new se(-203,!1)}function If(t,r=null,s=null,a){const c=Tf(t,r,s,a);return c.resolveInjectorInitializers(),c}function Tf(t,r=null,s=null,a,c=new Set){const d=[s||Dt,Wy(t)];return a=a||("object"==typeof t?void 0:fe(t)),new Oc(d,r||xl(),a||null,c)}let Ro=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ar;static#t=this.NULL=new Hp;static create(s,a){if(Array.isArray(s))return If({name:""},a,s,"");{const c=s.name??"";return If({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=Xt({token:t,providedIn:"any",factory:()=>Lt(qm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Xd(t){return t.ngOriginalError}class Po{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Xd(r);for(;s&&Xd(s);)s=Xd(s);return s||null}}let Oa=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Bl;static#t=this.__NG_ENV_ID__=s=>s}return t})();class a_ extends Oa{constructor(r){super(),this._lView=r}onDestroy(r){return ac(this._lView,r),()=>function wh(t,r){if(null===t[Cs])return;const s=t[Cs].indexOf(r);-1!==s&&t[Cs].splice(s,1)}(this._lView,r)}}function Bl(){return new a_(Je())}function hg(t){return r=>{setTimeout(t,void 0,r)}}const Qo=class uv extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=hg(d),c&&(c=hg(c)),g&&(g=hg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof $.w0&&r.add(v),v}};function Df(...t){}class Os{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fg(){const t="function"==typeof Fn.requestAnimationFrame;let r=Fn[t?"requestAnimationFrame":"setTimeout"],s=Fn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function lv(t){const r=()=>{!function pg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wf(t),t.isCheckStableRunning=!0,eh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function dv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return c_(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),gg(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return c_(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),gg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,wf(t),eh(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new se(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,cv,Df,Df);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const cv={};function eh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function c_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gg(t){t._nesting--,eh(t)}class l_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const mg=new zt("",{providedIn:"root",factory:_g});function _g(){const t=Zt(Os);let r=!0;const s=new he.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new he.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Os.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ee.T)(s,a.pipe((0,de.B)()))}function ya(t){return t instanceof Function?t():t}let Cf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Bc(t){for(;t;){t[Ft]|=64;const r=F(t);if(Ss(t)&&!r)return t;t=r}return null}const Sf=new zt("",{providedIn:"root",factory:()=>!1});let jl=null;function xa(t,r){return t[r]??__()}function Rf(t,r){const s=__();s.producerNode?.length&&(t[r]=jl,s.lView=t,jl=Pf())}const _v={...ao,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bc(t.lView)},lView:null};function Pf(){return Object.create(_v)}function __(){return jl??=Pf(),jl}const Ln={};function Mf(t){y_(kn(),Je(),Ps()+t,!1)}function y_(t,r,s,a){if(!a)if(3==(3&r[Ft])){const d=t.preOrderCheckHooks;null!==d&&Au(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Cu(r,d,0,s)}Ga(s)}function Yu(t,r=st.Default){const s=Je();return null===s?Lt(t,r):Pu(Ui(),s,Ne(t),r)}function v_(){throw new Error("invalid")}function Of(t,r,s,a,c,d,g,v,C,x,H){const ie=r.blueprint.slice();return ie[pr]=c,ie[Ft]=140|a,(null!==x||t&&2048&t[Ft])&&(ie[Ft]|=2048),Io(ie),ie[Jn]=ie[As]=t,ie[Er]=s,ie[Li]=g||t&&t[Li],ie[dn]=v||t&&t[dn],ie[os]=C||t&&t[os]||null,ie[ci]=d,ie[ro]=function zh(){return $h++}(),ie[ys]=H,ie[$a]=x,ie[wr]=2==r.type?t[wr]:ie,ie}function Zu(t,r,s,a,c){let d=t.data[r];if(null===d)d=function xf(t,r,s,a,c){const d=ia(),g=cs(),C=t.data[r]=function $l(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return $o()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function _(){return fn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Da(){const t=fn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return qs(d,!0),d}function jc(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function wg(t,r,s,a,c){const d=xa(r,as),g=Ps(),v=2&a;try{Ga(-1),v&&r.length>Rn&&y_(t,r,Rn,!1),Vi(v?2:0,c);const x=v?d:null,H=vo(x);try{null!==x&&(x.dirty=!1),s(a,c)}finally{V(x,H)}}finally{v&&null===r[as]&&Rf(r,as),Ga(g),Vi(v?3:1,c)}}function Ag(t,r,s){if(us(r)){const a=Ci(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{Ci(a)}}}function Cg(t,r,s){rn()&&(function Mg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;yi(s)&&function Ng(t,r,s){const a=kt(r,t),c=E_(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Lf(t,Of(t,c,null,g,a,r,null,t[Li].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ru(s,r),fs(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],x=Ao(r,t,v,s);fs(x,r),null!==g&&Dv(0,v-c,x,C,0,g),zn(C)&&(nt(s.index,r)[Er]=Ao(r,t,v,s))}}(t,r,s,kt(s,r)),64==(64&s.flags)&&uh(t,r,s))}function rh(t,r,s=kt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function E_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function ih(t,r,s,a,c,d,g,v,C,x,H){const ie=Rn+a,Ie=ie+c,Pe=function Sg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Ln);return s}(ie,Ie),rt="function"==typeof x?x():x;return Pe[St]={type:t,blueprint:Pe,template:s,queries:null,viewQuery:v,declTNode:r,data:Pe.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:rt,incompleteFirstPass:!1,ssrId:H}}let sh=t=>null;function Rg(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?oh(s,r,c,d):a.hasOwnProperty(c)&&oh(s,r,a[c],d)}return s}function oh(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Mo(t,r,s,a,c,d,g,v){const C=kt(r,s);let H,x=r.inputs;!v&&null!=x&&(H=x[a])?(ch(t,s,H,a,c),yi(r)&&function Tv(t,r){const s=nt(r,t);16&s[Ft]||(s[Ft]|=64)}(s,r.index)):3&r.type&&(a=function Iv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function ah(t,r,s,a){if(rn()){const c=null===a?null:{"":-1},d=function A_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if($s(r,g.selectors,!1))if(a||(a=[]),zn(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),Ju(t,r,v.length)}else a.unshift(g),Ju(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&kf(t,r,s,g,c,v),c&&function C_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new se(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=rr(s.mergedAttrs,s.attrs)}function kf(t,r,s,a,c,d){for(let x=0;x<a.length;x++)aa(Ru(s,r),t,a[x].type);!function S_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let x=0;x<a.length;x++){const H=a[x];H.providersResolver&&H.providersResolver(H)}let g=!1,v=!1,C=jc(t,r,a.length,null);for(let x=0;x<a.length;x++){const H=a[x];s.mergedAttrs=rr(s.mergedAttrs,H.hostAttrs),zl(t,s,r,C,H),xg(C,H,c),null!==H.contentQueries&&(s.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(s.flags|=64);const ie=H.type.prototype;!g&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Ev(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,x=null;for(let H=r.directiveStart;H<c;H++){const ie=d[H],Ie=s?s.get(ie):null,rt=Ie?Ie.outputs:null;C=Rg(ie.inputs,H,C,Ie?Ie.inputs:null),x=Rg(ie.outputs,H,x,rt);const yt=null===C||null===g||ms(r)?null:wv(C,H,g);v.push(yt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=x}(t,s,d)}function uh(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function q(){return fn.lFrame.currentDirectiveIndex}();try{Ga(d);for(let v=a;v<c;v++){const C=t.data[v],x=r[v];le(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Og(C,x)}}finally{Ga(-1),le(g)}}function Og(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ju(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function xg(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;zn(r)&&(s[""]=t)}}function zl(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=$i(c.type)),g=new qa(d,zn(c),Yu);t.blueprint[a]=g,s[a]=g,function w_(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Pg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,jc(t,s,c.hostVars,Ln),c)}function Na(t,r,s,a,c,d){const g=kt(t,r);!function kg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Ee(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[dn],g,d,t.value,s,a,c)}function Dv(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Lg(a,s,g[v++],g[v++],g[v++])}function Lg(t,r,s,a,c){const d=Ci(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Ci(d)}}function wv(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Fg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function b_(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Vt(s[a]),g.contentQueries(2,r[d],d)}}}function Lf(t,r){return t[Kr]?t[Di][Xr]=r:t[Kr]=r,t[Di]=r,r}function Vg(t,r,s){Vt(0);const a=Ci(null);try{r(t,s)}finally{Ci(a)}}function R_(t){return t[Zs]||(t[Zs]=[])}function P_(t){return t.cleanup||(t.cleanup=[])}function Ug(t,r,s){return(null===t||zn(t))&&(s=function Si(t){for(;Array.isArray(t);){if("object"==typeof t[di])return t;t=t[pr]}return null}(s[r.index])),s[dn]}function Bg(t,r){const s=t[os],a=s?s.get(Po,null):null;a&&a.handleError(r)}function ch(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Lg(t.data[g],r[g],a,v,c)}}function M_(t,r){const s=nt(r,t),a=s[St];!function O_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[pr];null!==c&&null===s[ys]&&(s[ys]=rg(c,s[os])),Hl(a,s,s[Er])}function Hl(t,r,s){Bn(r);try{const a=t.viewQuery;null!==a&&Vg(1,a,s);const c=t.template;null!==c&&wg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&b_(t,r),t.staticViewQueries&&Vg(2,t.viewQuery,s);const d=t.components;null!==d&&function Ir(t,r){for(let s=0;s<r.length;s++)M_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Ft]&=-5,Bi()}}let jg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function tt(t,r,s){const a=Object.create(Hn);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>jo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!m(a))return;a.hasRun=!0;const g=vo(a);try{a.cleanupFn(),a.cleanupFn=Ht,a.fn(c)}finally{V(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,x=>{this.all.has(x)&&this.queue.set(x,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xu(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=ce(c,v):2==d&&(a=ce(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function lh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Cn(d)),Br(d)&&xs(d,a);const g=s.type;if(8&g)lh(t,r,s.child,a);else if(32&g){const v=p(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=Rp(r,s);if(Array.isArray(v))a.push(...v);else{const C=F(r[wr]);lh(C[St],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function xs(t,r){for(let s=kr;s<t.length;s++){const a=t[s],c=a[St].firstChild;null!==c&&lh(a[St],a,c,r)}t[Gr]!==t[pr]&&r.push(t[Gr])}function Mi(t,r,s,a=!0){const c=r[Li],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Cv(t,r,t.template,s)}catch(C){throw a&&Bg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Cv(t,r,s,a){const c=r[Ft];if(256!=(256&c)){r[Li].effectManager?.flush(),Bn(r);try{Io(r),function Ha(t){return fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&wg(t,r,s,2,a);const g=3==(3&c);if(g){const x=t.preOrderCheckHooks;null!==x&&Au(r,x,null)}else{const x=t.preOrderHooks;null!==x&&Cu(r,x,0,null),cc(r,0)}if(function DI(t){for(let r=ze(t);null!==r;r=gt(r)){if(!r[io])continue;const s=r[Vs];for(let a=0;a<s.length;a++){td(s[a])}}}(r),$g(r,2),null!==t.contentQueries&&b_(t,r),g){const x=t.contentCheckHooks;null!==x&&Au(r,x)}else{const x=t.contentHooks;null!==x&&Cu(r,x,1),cc(r,1)}!function Dg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=xa(r,Js);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Ga(~d);else{const g=d,v=s[++c],C=s[++c];N(v,g),a.dirty=!1;const x=vo(a);try{C(2,r[g])}finally{V(a,x)}}}}finally{null===r[Js]&&Rf(r,Js),Ga(-1)}}(t,r);const v=t.components;null!==v&&Ff(r,v,0);const C=t.viewQuery;if(null!==C&&Vg(2,C,a),g){const x=t.viewCheckHooks;null!==x&&Au(r,x)}else{const x=t.viewHooks;null!==x&&Cu(r,x,2),cc(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Ft]&=-73,nd(r)}finally{Bi()}}}function $g(t,r){for(let s=ze(t);null!==s;s=gt(s))for(let a=kr;a<s.length;a++)k_(s[a],r)}function N_(t,r,s){k_(nt(r,t),s)}function k_(t,r){if(!function Xc(t){return 128==(128&t[Ft])}(t))return;const s=t[St],a=t[Ft];if(80&a&&0===r||1024&a||2===r)Cv(s,t,s.template,t[Er]);else if(t[Xi]>0){$g(t,1);const c=s.components;null!==c&&Ff(t,c,1)}}function Ff(t,r,s){for(let a=0;a<r.length;a++)N_(t,r[a],s)}class dh{get rootNodes(){const r=this._lView,s=r[St];return lh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(r){this._lView[Er]=r}get destroyed(){return 256==(256&this._lView[Ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Jn];if(Br(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(ru(r,a),pc(s,a))}this._attachedToViewContainer=!1}wc(this._lView[St],this._lView)}onDestroy(r){ac(this._lView,r)}markForCheck(){Bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){this._lView[Ft]|=128}detectChanges(){Mi(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function So(t,r){ga(t,r,r[dn],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=r}}class wI extends dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Mi(r[St],r,r[Er],!1)}checkNoChanges(){}get context(){return null}}class ii extends Fc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ot(r);return new Wl(s,this.ngModule)}}function Sv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class rs{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=tn(a);const c=this.injector.get(r,cg,a);return c!==cg||s===cg?c:this.parentInjector.get(r,s,a)}}class Wl extends _f{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Sv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Sv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ui(t){return t.map(No).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ma?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new rs(r,d):r,v=g.get(Zd,null);if(null===v)throw new se(407,!1);const ie={rendererFactory:v,sanitizer:g.get(Ul,null),effectManager:g.get(jg,null),afterRenderEventManager:g.get(Cf,null)},Ie=v.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",rt=a?function bg(t,r,s,a){const d=a.get(Sf,!1)||s===Ut.ShadowDom,g=t.selectRootElement(r,d);return function yv(t){sh(t)}(g),g}(Ie,a,this.componentDef.encapsulation,g):pa(Ie,Pe,function bv(t){const r=t.toLowerCase();return"svg"===r?Xe:"math"===r?"math":null}(Pe)),hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ft=null;null!==rt&&(ft=rg(rt,g,!0));const Nn=ih(0,null,null,1,0,null,null,null,null,null,null),dr=Of(null,Nn,null,hn,null,null,ie,Ie,g,null,ft);let si,Zo;Bn(dr);try{const Yc=this.componentDef;let np,yI=null;Yc.findHostDirectiveDefs?(np=[],yI=new Map,Yc.findHostDirectiveDefs(Yc,np,yI),np.push(Yc)):np=[Yc];const ZC=function CI(t,r){const s=t[St],a=Rn;return t[a]=r,Zu(s,a,2,"#host",null)}(dr,rt),JC=function L_(t,r,s,a,c,d,g){const v=c[St];!function SI(t,r,s,a){for(const c of t)r.mergedAttrs=rr(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Xu(r,r.mergedAttrs,!0),null!==s&&Np(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=rg(r,c[os]));const x=d.rendererFactory.createRenderer(r,s);let H=16;s.signals?H=4096:s.onPush&&(H=64);const ie=Of(c,E_(s),null,H,c[t.index],t,d,x,null,null,C);return v.firstCreatePass&&Ju(v,t,a.length-1),Lf(c,ie),c[t.index]=ie}(ZC,rt,Yc,np,dr,ie,Ie);Zo=Pt(Nn,Rn),rt&&function RI(t,r,s,a){if(a)ps(t,s,["ng-version",s_.full]);else{const{attrs:c,classes:d}=function ae(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Jr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&ps(t,s,c),d&&d.length>0&&xp(t,s,d.join(" "))}}(Ie,Yc,rt,a),void 0!==s&&function PI(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Zo,this.ngContentSelectors,s),si=function bI(t,r,s,a,c,d){const g=Ui(),v=c[St],C=kt(g,c);kf(v,c,g,s,null,a);for(let H=0;H<s.length;H++)fs(Ao(c,v,g.directiveStart+H,g),c);uh(v,c,g),C&&fs(C,c);const x=Ao(c,v,g.directiveStart+g.componentOffset,g);if(t[Er]=c[Er]=x,null!==d)for(const H of d)H(x,r);return Ag(v,g,t),x}(JC,Yc,np,yI,dr,[MI]),Hl(Nn,dr,null)}finally{Bi()}return new AI(this.componentType,si,Ku(Zo,dr),dr,Zo)}}class AI extends r_{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new wI(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;ch(d[St],d,c,r,s),this.previousInputValues.set(r,s),Bc(nt(this._tNode.index,d))}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function MI(){const t=Ui();od(Je()[St],t)}function F_(t){let r=function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(zn(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new se(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=ec(t.inputs),g.inputTransforms=ec(t.inputTransforms),g.declaredInputs=ec(t.declaredInputs),g.outputs=ec(t.outputs);const v=c.hostBindings;v&&Gl(t,v);const C=c.viewQuery,x=c.contentQueries;if(C&&Pv(t,C),x&&$c(t,x),ne(t.inputs,c.inputs),ne(t.declaredInputs,c.declaredInputs),ne(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ne(g.inputTransforms,c.inputTransforms)),zn(c)&&c.data.animation){const H=t.data;H.animation=(H.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===F_&&(s=!1)}}r=Object.getPrototypeOf(r)}!function V_(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=rr(c.hostAttrs,s=rr(s,c.hostAttrs))}}(a)}function ec(t){return t===nn?{}:t===Dt?[]:t}function Pv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function $c(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Gl(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function zc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function tc(t){return!!qg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function qg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ka(t,r,s){return t[r]=s}function Bs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Vf(t,r,s,a){const c=Je();return Bs(c,E(),r)&&(kn(),Na(Ei(),c,t,r,s,a)),Vf}function Fa(t,r,s,a){return Bs(t,E(),s)?r+Ee(s)+a:Ln}function Bv(t,r,s,a,c,d,g,v){const C=Je(),x=kn(),H=t+Rn,ie=x.firstCreatePass?function HI(t,r,s,a,c,d,g,v,C){const x=r.consts,H=Zu(r,t,4,g||null,Eo(x,v));ah(r,s,H,Eo(x,C)),od(r,H);const ie=H.tView=ih(2,H,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,x,null);return null!==r.queries&&(r.queries.template(r,H),ie.queries=r.queries.embeddedTView(H)),H}(H,x,C,r,s,a,c,d,g):x.data[H];qs(ie,!1);const Ie=Q_(x,C,ie,t);wu()&&Rd(x,C,Ie,ie),fs(Ie,C),Lf(C,C[H]=Fg(Ie,C,Ie,ie)),va(ie)&&Cg(x,C,ie),null!=g&&rh(C,ie,v)}let Q_=function Y_(t,r,s,a){return Ka(!0),r[dn].createComment("")};function zv(t){return Be(function el(){return fn.lFrame.contextLView}(),Rn+t)}function Qc(t,r,s){const a=Je();return Bs(a,E(),r)&&Mo(kn(),Ei(),a,t,r,a[dn],s,!1),Qc}function ph(t,r,s,a,c){const g=c?"class":"style";ch(t,s,r.inputs[g],g,a)}function Hf(t,r,s,a){const c=Je(),d=kn(),g=Rn+t,v=c[dn],C=d.firstCreatePass?function GI(t,r,s,a,c,d){const g=r.consts,C=Zu(r,t,2,a,Eo(g,c));return ah(r,s,C,Eo(g,d)),null!==C.attrs&&Xu(C,C.attrs,!1),null!==C.mergedAttrs&&Xu(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],x=Z_(d,c,C,v,r,t);c[g]=x;const H=va(C);return qs(C,!0),Np(v,x,C),32!=(32&C.flags)&&wu()&&Rd(d,c,x,C),0===function Ta(){return fn.lFrame.elementDepthCount}()&&fs(x,c),function rd(){fn.lFrame.elementDepthCount++}(),H&&(Cg(d,c,C),Ag(d,C,c)),null!==a&&rh(c,C),Hf}function Wf(){let t=Ui();cs()?Ho():(t=t.parent,qs(t,!1));const r=t;(function lr(t){return fn.skipHydrationRootTNode===t})(r)&&function ra(){fn.skipHydrationRootTNode=null}(),function ni(){fn.lFrame.elementDepthCount--}();const s=kn();return s.firstCreatePass&&(od(s,t),us(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Sh(t){return 0!=(8&t.flags)}(r)&&ph(s,r,Je(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ri(t){return 0!=(16&t.flags)}(r)&&ph(s,r,Je(),r.stylesWithoutHost,!1),Wf}function Jg(t,r,s,a){return Hf(t,r,s,a),Wf(),Jg}let Z_=(t,r,s,a,c,d)=>(Ka(!0),pa(a,c,function rl(){return fn.lFrame.currentNamespace}()));function Xg(t,r,s){const a=Je(),c=kn(),d=t+Rn,g=c.firstCreatePass?function qI(t,r,s,a,c){const d=r.consts,g=Eo(d,a),v=Zu(r,t,8,"ng-container",g);return null!==g&&Xu(v,g,!0),ah(r,s,v,Eo(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];qs(g,!0);const v=J_(c,a,g,t);return a[d]=v,wu()&&Rd(c,a,v,g),fs(v,a),va(g)&&(Cg(c,a,g),Ag(c,g,a)),null!=s&&rh(a,g),Xg}function em(){let t=Ui();const r=kn();return cs()?Ho():(t=t.parent,qs(t,!1)),r.firstCreatePass&&(od(r,t),us(t)&&r.queries.elementEnd(t)),em}function tm(t,r,s){return Xg(t,r,s),em(),tm}let J_=(t,r,s,a)=>(Ka(!0),Or(r[dn],""));function X_(){return Je()}function nm(t){return!!t&&"function"==typeof t.then}function gh(t){return!!t&&"function"==typeof t.subscribe}function rm(t,r,s,a){const c=Je(),d=kn(),g=Ui();return Gv(d,c,c[dn],g,t,r,a),rm}function ey(t,r){const s=Ui(),a=Je(),c=kn();return Gv(c,a,Ug(je(c.data),s,a),s,t,r),ey}function Gv(t,r,s,a,c,d,g){const v=va(a),x=t.firstCreatePass&&P_(t),H=r[Er],ie=R_(r);let Ie=!0;if(3&a.type||g){const yt=kt(a,r),$t=g?g(yt):yt,hn=ie.length,ft=g?dr=>g(Cn(dr[a.index])):a.index;let Nn=null;if(!g&&v&&(Nn=function YI(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Zs],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=d,Nn.__ngLastListenerFn__=d,Ie=!1;else{d=qv(a,r,H,d,!1);const dr=s.listen($t,c,d);ie.push(d,dr),x&&x.push(c,ft,hn,hn+1)}}else d=qv(a,r,H,d,!1);const Pe=a.outputs;let rt;if(Ie&&null!==Pe&&(rt=Pe[c])){const yt=rt.length;if(yt)for(let $t=0;$t<yt;$t+=2){const si=r[rt[$t]][rt[$t+1]].subscribe(d),Zo=ie.length;ie.push(d,si),x&&x.push(c,a.index,Zo,-(Zo+1))}}}function Kv(t,r,s,a){try{return Vi(6,r,s),!1!==s(a)}catch(c){return Bg(t,c),!1}finally{Vi(7,r,s)}}function qv(t,r,s,a,c){return function d(g){if(g===Function)return a;Bc(t.componentOffset>-1?nt(t.index,r):r);let C=Kv(r,s,a,g),x=d.__ngNextListenerFn__;for(;x;)C=Kv(r,s,x,g)&&C,x=x.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function Qv(t=1){return function tl(t){return(fn.lFrame.contextLView=function nl(t,r){for(;t>0;)r=r[As],t--;return r}(t,fn.lFrame.contextLView))[Er]}(t)}function ZI(t,r){let s=null;const a=function fo(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?$s(t,d,!0):ws(a,d))return c}else s=c}return s}function Yv(t){const r=Je()[wr][ci];if(!r.projection){const a=r.projection=ku(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?ZI(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function im(t,r=0,s){const a=Je(),c=kn(),d=Zu(c,Rn+t,16,null,s||null);null===d.projection&&(d.projection=r),Ho(),(!a[ys]||$o())&&32!=(32&d.flags)&&function Sc(t,r,s){Cl(r[dn],0,r,s,bd(t,s,r),xm(s.parent||r[ci],s,r))}(c,a,d)}function sm(t,r,s,a,c){const d=Je(),g=Fa(d,r,s,a);return g!==Ln&&Mo(kn(),Ei(),d,t,g,d[dn],c,!1),sm}function Kf(t,r){return t<<17|r<<2}function vu(t){return t>>17&32767}function cm(t){return 2|t}function Eu(t){return(131068&t)>>2}function lm(t,r){return-131069&t|r<<2}function Qf(t){return 1|t}function ny(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?vu(d):Eu(d),C=!1;for(;0!==v&&(!1===C||g);){const H=t[v+1];ry(t[v],r)&&(C=!0,t[v+1]=a?Qf(H):cm(H)),v=a?vu(H):Eu(H)}C&&(t[s+1]=a?cm(d):Qf(d))}function ry(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&da(t,r)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iy(t){return t.substring(is.key,is.keyEnd)}function iE(t,r){const s=is.textEnd;return s===r?-1:(r=is.keyEnd=function Yf(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,is.key=r,s),_h(t,r,s))}function _h(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function hm(t,r,s){return Ba(t,r,s,!1),hm}function fm(t,r){return Ba(t,r,null,!0),fm}function Iu(t,r){for(let s=function rE(t){return function ay(t){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=t.length}(t),iE(t,_h(t,0,is.textEnd))}(r);s>=0;s=iE(r,s))Gi(t,iy(r),!0)}function Ba(t,r,s,a){const c=Je(),d=kn(),g=b(2);d.firstUpdatePass&&ly(d,t,g,a),r!==Ln&&Bs(c,g,r)&&lE(d,d.data[Ps()],c,c[dn],t,c[g+1]=function cT(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=fe(ma(t)))),t}(r,s),a,g)}function aE(t,r){return r>=t.expandoStartIndex}function ly(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ps()],g=aE(t,s);hy(d,a)&&null===r&&!g&&(r=!1),r=function rT(t,r,s,a){const c=je(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Jf(s=dy(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=dy(c,t,r,s,a),null===d){let C=function iT(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Eu(a))return t[vu(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=dy(null,t,r,C[1],a),C=Jf(C,r.attrs,a),function sT(t,r,s,a){t[vu(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function oT(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Jf(a,t[d].hostAttrs,s);return Jf(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function dm(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=vu(g),C=Eu(g);t[a]=s;let H,x=!1;if(Array.isArray(s)?(H=s[1],(null===H||da(s,H)>0)&&(x=!0)):H=s,c)if(0!==C){const Ie=vu(t[v+1]);t[a+1]=Kf(Ie,v),0!==Ie&&(t[Ie+1]=lm(t[Ie+1],a)),t[v+1]=function um(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Kf(v,0),0!==v&&(t[v+1]=lm(t[v+1],a)),v=a;else t[a+1]=Kf(C,0),0===v?v=a:t[C+1]=lm(t[C+1],a),C=a;x&&(t[a+1]=cm(t[a+1])),ny(t,H,a,!0),ny(t,H,a,!1),function nE(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&da(d,r)>=0&&(s[a+1]=Qf(s[a+1]))}(r,H,t,a,d),g=Kf(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function dy(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Jf(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Jf(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gi(t,g,!!s||r[++d]))}return void 0===t?null:t}function lE(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,x=C[v+1],H=function JI(t){return 1==(1&t)}(x)?dE(C,r,s,c,Eu(x),g):void 0;pm(H)||(pm(d)||function qf(t){return 2==(2&t)}(x)&&(d=dE(C,null,s,c,v,g)),function Mp(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Ra.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Ra.Important),t.setStyle(s,a,c,d))}}(a,g,Bt(Ps(),s),c,d))}function dE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],x=Array.isArray(C),H=x?C[1]:C,ie=null===H;let Ie=s[c+1];Ie===Ln&&(Ie=ie?Dt:void 0);let Pe=ie?la(Ie,a):H===a?Ie:void 0;if(x&&!pm(Pe)&&(Pe=la(C,a)),pm(Pe)&&(v=Pe,g))return v;const rt=t[c+1];c=g?vu(rt):Eu(rt)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=la(C,a))}return v}function pm(t){return void 0!==t}function hy(t,r){return 0!=(t.flags&(r?8:16))}function hE(t,r=""){const s=Je(),a=kn(),c=t+Rn,d=a.firstCreatePass?Zu(a,c,1,r,null):a.data[c],g=fE(a,s,d,r,t);s[c]=g,wu()&&Rd(a,s,g,d),qs(d,!1)}let fE=(t,r,s,a,c)=>(Ka(!0),function Yn(t,r){return t.createText(r)}(r[dn],a));function fy(t){return gm("",t,""),fy}function gm(t,r,s){const a=Je(),c=Fa(a,t,r,s);return c!==Ln&&function fu(t,r,s){const a=Bt(r,t);!function Us(t,r,s){t.setValue(r,s)}(t[dn],a,s)}(a,Ps(),c),gm}function IE(t,r,s){!function ja(t,r,s,a){const c=kn(),d=b(2);c.firstUpdatePass&&ly(c,null,d,a);const g=Je();if(s!==Ln&&Bs(g,d,s)){const v=c.data[Ps()];if(hy(v,a)&&!aE(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=ce(C,s||"")),ph(c,v,g,s,a)}else!function uT(t,r,s,a,c,d,g,v){c===Ln&&(c=Dt);let C=0,x=0,H=0<c.length?c[0]:null,ie=0<d.length?d[0]:null;for(;null!==H||null!==ie;){const Ie=C<c.length?c[C+1]:void 0,Pe=x<d.length?d[x+1]:void 0;let yt,rt=null;H===ie?(C+=2,x+=2,Ie!==Pe&&(rt=ie,yt=Pe)):null===ie||null!==H&&H<ie?(C+=2,rt=H):(x+=2,rt=ie,yt=Pe),null!==rt&&lE(t,r,s,a,rt,yt,g,v),H=C<c.length?c[C]:null,ie=x<d.length?d[x]:null}}(c,v,g,g[dn],g[d+1],g[d+1]=function uE(t,r,s){if(null==s||""===s)return Dt;const a=[],c=ma(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}(Gi,Iu,Fa(Je(),t,r,s),!0)}function gy(t,r,s){const a=Je();return Bs(a,E(),r)&&Mo(kn(),Ei(),a,t,r,a[dn],s,!0),gy}function mm(t,r,s){const a=Je();if(Bs(a,E(),r)){const d=kn(),g=Ei();Mo(d,g,a,t,r,Ug(je(d.data),g,a),s,!0)}return mm}const Jl=void 0;var ST=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CT(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let yh={};function my(t){const r=function RT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=kE(r);if(s)return s;const a=r.split("-")[0];if(s=kE(a),s)return s;if("en"===a)return ST;throw new se(701,!1)}function NE(t){return my(t)[vh.PluralCase]}function kE(t){return t in yh||(yh[t]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[t]),yh[t]}var vh=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(vh||{});const Xl="en-US";let u=Xl;function BE(t,r,s,a,c){if(t=Ne(t),Array.isArray(t))for(let d=0;d<t.length;d++)BE(t[d],r,s,a,c);else{const d=kn(),g=Je(),v=Ui();let C=lu(t)?t:Ne(t.provide);const x=xc(t),H=1048575&v.providerIndexes,ie=v.directiveStart,Ie=v.providerIndexes>>20;if(lu(t)||!t.multi){const Pe=new qa(x,c,Yu),rt=$E(C,r,c?H:H+Ie,ie);-1===rt?(aa(Ru(v,g),d,C),jE(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Pe),g.push(Pe)):(s[rt]=Pe,g[rt]=Pe)}else{const Pe=$E(C,r,H+Ie,ie),rt=$E(C,r,H,H+Ie),$t=rt>=0&&s[rt];if(c&&!$t||!c&&!(Pe>=0&&s[Pe])){aa(Ru(v,g),d,C);const hn=function ww(t,r,s,a,c){const d=new qa(t,s,Yu);return d.multi=[],d.index=r,d.componentProviders=0,qT(d,c,a&&!s),d}(c?Dw:Tw,s.length,c,a,x);!c&&$t&&(s[rt].providerFactory=hn),jE(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(hn),g.push(hn)}else jE(d,t,Pe>-1?Pe:rt,qT(s[c?rt:Pe],x,!c&&a));!c&&a&&$t&&s[rt].componentProviders++}}}function jE(t,r,s,a){const c=lu(r),d=function Ky(t){return!!t.useClass}(r);if(c||d){const C=(d?Ne(r.useClass):r).prototype.ngOnDestroy;if(C){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const H=x.indexOf(s);-1===H?x.push(s,[a,C]):x[H+1].push(a,C)}else x.push(s,C)}}}function qT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function $E(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Tw(t,r,s,a){return zE(this.multi,[])}function Dw(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ao(s,s[St],this.providerFactory.index,a);d=v.slice(0,g),zE(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],zE(c,d);return d}function zE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function QT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Iw(t,r,s){const a=kn();if(a.firstCreatePass){const c=zn(t);BE(s,a.data,a.blueprint,c,!0),BE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Eh{}class YT{}function Aw(t,r){return new HE(t,r??null,[])}class HE extends Eh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ii(this);const c=Sr(r);this._bootstrapComponents=ya(c.bootstrap),this._r3Injector=Tf(r,s,[{provide:Eh,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver},...a],fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class WE extends YT{constructor(r){super(),this.moduleType=r}create(r){return new HE(this.moduleType,r,[])}}class ZT extends Eh{constructor(r){super(),this.componentFactoryResolver=new ii(this),this.instance=null;const s=new Oc([...r.providers,{provide:Eh,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver}],r.parent||xl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function JT(t,r,s=null){return new ZT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Sw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=$d(0,s.type),c=a.length>0?JT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Xt({token:t,providedIn:"environment",factory:()=>new t(Lt(Ma))})}return t})();function XT(t){t.getStandaloneInjector=r=>r.get(Sw).getOrCreateStandaloneInjector(t)}function oD(t,r,s){const a=ls()+t,c=Je();return c[a]===Ln?ka(c,a,s?r.call(s):r()):function Kl(t,r){return t[r]}(c,a)}function aD(t,r,s,a){return cD(Je(),ls(),t,r,s,a)}function uD(t,r,s,a,c){return function lD(t,r,s,a,c,d,g){const v=r+s;return function nc(t,r,s,a){const c=Bs(t,r,s);return Bs(t,r+1,a)||c}(t,v,c,d)?ka(t,v+2,g?a.call(g,c,d):a(c,d)):vm(t,v+2)}(Je(),ls(),t,r,s,a,c)}function vm(t,r){const s=t[r];return s===Ln?void 0:s}function cD(t,r,s,a,c,d){const g=r+s;return Bs(t,g,c)?ka(t,g+1,d?a.call(d,c):a(c)):vm(t,g+1)}function pD(t,r){const s=kn();let a;const c=t+Rn;s.firstCreatePass?(a=function zw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=$i(a.type)),v=An(Yu);try{const C=ud(!1),x=d();return ud(C),function $v(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Je(),c,x),x}finally{An(v)}}function gD(t,r,s){const a=t+Rn,c=Je(),d=Be(c,a);return function Em(t,r){return t[St].data[r].pure}(c,a)?cD(c,ls(),r,d.transform,s,d):d.transform(s)}function qw(){return this._results[Symbol.iterator]()}class vy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qo)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=vy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=qw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function lo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function lp(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Yw(t,r,s,a=!0){const c=r[St];if(function wl(t,r,s,a){const c=kr+a,d=s.length;a>0&&(s[c-1][Xr]=r),a<d-kr?(r[Xr]=s[c],fd(s,kr+a,r)):(s.push(r),r[Xr]=null),r[Jn]=s;const g=r[no];null!==g&&s!==g&&function Uu(t,r){const s=t[Vs];r[wr]!==r[Jn][Jn][wr]&&(t[io]=!0),null===s?t[Vs]=[r]:s.push(r)}(g,r);const v=r[_s];null!==v&&v.insertView(t),r[Ft]|=128}(c,r,t,s),a){const d=Pp(s,t),g=r[dn],v=qh(g,t[Gr]);null!==v&&function nu(t,r,s,a,c,d){a[pr]=c,a[ci]=r,ga(t,a,s,1,c,d)}(c,t[ci],g,r,v,d)}}let Im=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Xw}return t})();const Zw=Im,Jw=class extends Zw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function Qw(t,r,s,a){const c=r.tView,v=Of(t,c,s,4096&t[Ft]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[no]=t[r.index];const x=t[_s];return null!==x&&(v[_s]=x.createEmbeddedView(c)),Hl(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new dh(c)}};function Xw(){return Ey(Ui(),Je())}function Ey(t,r){return 4&t.type?new Jw(r,t,Ku(t,r)):null}let Ty=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sA}return t})();function sA(){return TD(Ui(),Je())}const oA=Ty,ED=class extends oA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const r=To(this._hostTNode,this._hostLView);if(Fr(r)){const s=zi(r,this._hostLView),a=Aa(r);return new hs(s[St].data[a+8],s)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=ID(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function xu(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const yt=s||{};v=yt.index,a=yt.injector,c=yt.projectableNodes,d=yt.environmentInjector||yt.ngModuleRef}const C=g?r:new Wl(Ot(r)),x=a||this.parentInjector;if(!d&&null==C.ngModule){const $t=(g?x:this.parentInjector).get(Ma,null);$t&&(d=$t)}Ot(C.componentType??{});const Pe=C.create(x,c,null,d);return this.insertImpl(Pe.hostView,v,false),Pe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Dh(t){return Br(t[Jn])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const x=c[Jn],H=new ED(x,x[ci],x[Jn]);H.detach(H.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return Yw(v,c,g,!a),r.attachToViewContainerRef(),fd(KE(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=ID(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=ru(this._lContainer,s);a&&(pc(KE(this._lContainer),s),wc(a[St],a))}detach(r){const s=this._adjustIndex(r,-1),a=ru(this._lContainer,s);return a&&null!=pc(KE(this._lContainer),s)?new dh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function ID(t){return t[8]}function KE(t){return t[8]||(t[8]=[])}function TD(t,r){let s;const a=r[t.index];return Br(a)?s=a:(s=Fg(a,r,null,t),r[t.index]=s,Lf(r,s)),DD(s,r,t,a),new ED(s,t,r)}let DD=function wD(t,r,s,a){if(t[Gr])return;let c;c=8&s.type?Cn(a):function aA(t,r){const s=t[dn],a=s.createComment(""),c=kt(r,t);return Bu(s,qh(s,c),a,function Oy(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Gr]=c};class qE{constructor(r){this.queryList=r,this.matches=null}clone(){return new qE(this.queryList)}setDirty(){this.queryList.setDirty()}}class QE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new QE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==xD(r,s).matches&&this.queries[s].setDirty()}}class AD{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class YE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new YE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ZE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new ZE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,lA(s,d)),this.matchTNodeWithReadOption(r,s,ua(s,r,d,!1,!1))}else a===Im?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ua(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Yd||c===Ty||c===Im&&4&s.type)this.addMatch(s.index,-2);else{const d=ua(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function lA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hA(t,r,s,a){return-1===s?function dA(t,r){return 11&t.type?Ku(t,r):4&t.type?Ey(t,r):null}(r,t):-2===s?function fA(t,r,s){return s===Yd?Ku(r,t):s===Im?Ey(r,t):s===Ty?TD(r,t):void 0}(t,r,a):Ao(t,t[St],s,r)}function CD(t,r,s,a){const c=r[_s].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const x=g[C];v.push(x<0?null:hA(r,d[x],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function JE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=CD(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const x=d[v+1],H=r[-C];for(let ie=kr;ie<H.length;ie++){const Ie=H[ie];Ie[no]===Ie[Jn]&&JE(Ie[St],Ie,x,a)}if(null!==H[Vs]){const ie=H[Vs];for(let Ie=0;Ie<ie.length;Ie++){const Pe=ie[Ie];JE(Pe[St],Pe,x,a)}}}}}return a}function SD(t){const r=Je(),s=kn(),a=Ue();Vt(a+1);const c=xD(s,a);if(t.dirty&&function ti(t){return 4==(4&t[Ft])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?JE(s,r,a,[]):CD(s,r,c,a);t.reset(d,ag),t.notifyOnChanges()}return!0}return!1}function bD(t,r,s){const a=kn();a.firstCreatePass&&(OD(a,new AD(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),MD(a,Je(),r)}function RD(t,r,s,a){const c=kn();if(c.firstCreatePass){const d=Ui();OD(c,new AD(r,s,a),d.index),function gA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}MD(c,Je(),s)}function PD(){return function pA(t,r){return t[_s].queries[r].queryList}(Je(),Ue())}function MD(t,r,s){const a=new vy(4==(4&s));(function T_(t,r,s,a){const c=R_(r);c.push(s),t.firstCreatePass&&P_(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[_s]&&(r[_s]=new QE),r[_s].queries.push(new qE(a))}function OD(t,r,s){null===t.queries&&(t.queries=new YE),t.queries.track(new ZE(r,s))}function xD(t,r){return t.queries.getByIndex(r)}function ND(t,r){return Ey(t,r)}function XE(t){return!!Sr(t)}const ZD=new zt("Application Initializer");let iI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Zt(ZD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(nm(d))s.push(d);else if(gh(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JD=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const wy=new zt("LocaleId",{providedIn:"root",factory:()=>Zt(wy,st.Optional|st.SkipSelf)||function LA(){return typeof $localize<"u"&&$localize.locale||Xl}()}),FA=new zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let XD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new j.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class UA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let BA=(()=>{class t{compileModuleSync(s){return new WE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=ya(Sr(s).declarations).reduce((g,v)=>{const C=Ot(v);return C&&g.push(new Wl(C)),g},[]);return new UA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const r0=new zt(""),s0=new zt("");let aI,uC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aI||(function cC(t){aI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(Os),Lt(o0),Lt(s0))};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac})}return t})(),o0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return aI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ed=null;const a0=new zt("AllowMultipleToken"),uI=new zt("PlatformDestroyListeners"),cI=new zt("appBootstrapListener");class hC{constructor(r,s){this.name=r,this.token=s}}function l0(t,r,s=[]){const a=`Platform: ${r}`,c=new zt(a);return(d=[])=>{let g=lI();if(!g||g.injector.get(a0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function fC(t){if(ed&&!ed.get(a0,!1))throw new se(400,!1);(function u0(){!function qn(t){en=t}(()=>{throw new se(600,!1)})})(),ed=t;const r=t.get(h0);(function c0(t){t.get(ff,null)?.forEach(s=>s())})(t)}(function d0(t=[],r){return Ro.create({name:r,providers:[{provide:uf,useValue:"platform"},{provide:uI,useValue:new Set([()=>ed=null])},...t]})}(v,a))}return function gC(t){const r=lI();if(!r)throw new se(401,!1);return r}()}}function lI(){return ed?.get(h0)??null}let h0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function mC(t="zone.js",r){return"noop"===t?new l_:"zone.js"===t?new Os(r):t}(a?.ngZone,function f0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function Cw(t,r,s){return new HE(t,r,s)}(s.moduleType,this.injector,function y0(t){return[{provide:Os,useFactory:t},{provide:Bd,multi:!0,useFactory:()=>{const r=Zt(yC,{optional:!0});return()=>r.initialize()}},{provide:_0,useFactory:_C},{provide:mg,useFactory:_g}]}(()=>c)),g=d.injector.get(Po,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{Cy(this._modules,d),v.unsubscribe()})}),function p0(t,r,s){try{const a=s();return nm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(iI);return v.runInitializers(),v.donePromise.then(()=>(function l(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(u=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(wy,Xl)||Xl),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=g0({},a);return function lC(t,r,s){const a=new WE(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(tp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new se(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(uI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(Ro))};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function g0(t,r){return Array.isArray(r)?r.reduce(g0,t):{...t,...r}}let tp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(_0),this.zoneIsStable=Zt(mg),this.componentTypes=[],this.components=[],this.isStable=Zt(XD).hasPendingTasks.pipe((0,ge.w)(s=>s?(0,Q.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,de.B)()),this._injector=Zt(Ma)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof _f;if(!this._injector.get(iI).done)throw!c&&Hs(s),new se(405,!1);let g;g=c?s:this._injector.get(Fc).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function dC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Eh),x=g.create(Ro.NULL,[],a||g.selector,v),H=x.location.nativeElement,ie=x.injector.get(r0,null);return ie?.registerApplication(H),x.onDestroy(()=>{this.detachView(x.hostView),Cy(this.components,x),ie?.unregisterApplication(H)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Cy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(cI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Cy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const _0=new zt("",{providedIn:"root",factory:()=>Zt(Po).handleError.bind(void 0)});function _C(){const t=Zt(Os),r=Zt(Po);return s=>t.runOutsideAngular(()=>r.handleError(s))}let yC=(()=>{class t{constructor(){this.zone=Zt(Os),this.applicationRef=Zt(tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EC(){return!1}let IC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=TC}return t})();function TC(t){return function DC(t,r,s){if(yi(t)&&!s){const a=nt(t.index,r);return new dh(a,a)}return 47&t.type?new dh(r[wr],r):null}(Ui(),Je(),16==(16&t))}class T0{constructor(){}supports(r){return tc(r)}create(r){return new RC(r)}}const bC=(t,r)=>r;class RC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||bC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<w0(a,c,d)?s:a,v=w0(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const x=v-c,H=C-c;if(x!=H){for(let Ie=0;Ie<x;Ie++){const Pe=Ie<d.length?d[Ie]:d[Ie]=0,rt=Pe+Ie;H<=rt&&rt<x&&(d[Ie]=Pe+1)}d[g.previousIndex]=H-x}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!tc(r))throw new se(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Kg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new PC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new D0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class PC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class D0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new MC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class A0{constructor(){}supports(r){return r instanceof Map||qg(r)}create(){return new OC}}class OC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qg(r)))throw new se(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new xC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class xC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new gI([new T0])}let gI=(()=>{class t{static#e=this.\u0275prov=Xt({token:t,providedIn:"root",factory:C0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||C0()),deps:[[t,new ba,new Ja]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new se(901,!1)}}return t})();function S0(){return new mI([new A0])}let mI=(()=>{class t{static#e=this.\u0275prov=Xt({token:t,providedIn:"root",factory:S0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||S0()),deps:[[t,new ba,new Ja]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new se(901,!1)}}return t})();const LC=l0(null,"core",[]);let FC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(tp))};static#t=this.\u0275mod=Tt({type:t});static#n=this.\u0275inj=Sn({})}return t})();function qC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function YC(t){const r=Ot(t);if(!r)return null;const s=new Wl(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1993:(ye,re,O)=>{O.d(re,{O4:()=>Pr});var y=O(5879);class Q extends Error{constructor(ht,Nt){super(function de(Re,ht){return`NG0${Math.abs(Re)}${ht?": "+ht:""}`}(ht,Nt)),this.code=ht}}let Se=null;function Ne(Re){const ht=Se;return Se=Re,ht}function Pr(Re,ht){const Nt=!ht?.manualCleanup;Nt&&!ht?.injector&&(0,y.gHi)(Pr);const st=Nt?ht?.injector?.get(y.ktI)??(0,y.f3M)(y.ktI):null;let Qt;return Qt=(0,y.tdS)(ht?.requireSync?{kind:0}:{kind:1,value:ht?.initialValue}),function Pn(Re){const ht=Ne(null);try{return Re()}finally{Ne(ht)}}(()=>{const jt=Re.subscribe({next:An=>Qt.set({kind:1,value:An}),error:An=>Qt.set({kind:2,error:An})});st?.onDestroy(jt.unsubscribe.bind(jt))}),(0,y.Flj)(()=>{const jt=Qt();switch(jt.kind){case 1:return jt.value;case 2:throw jt.error;case 0:throw new Q(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},721:(ye,re,O)=>{O.d(re,{Ot:()=>ee,ZF:()=>it,hX:()=>ce,z6:()=>j});var y=O(3182),$=O(5879),he=O(1324);class ee{constructor(Oe){return Oe}}class j{constructor(){return(0,y.C6)()}}const ge=new $.OlP("angularfire2._apps"),ue={provide:ee,useFactory:function de(se){return se&&1===se.length?se[0]:new ee((0,y.Mq)())},deps:[[new $.FiY,ge]]},J={provide:j,deps:[[new $.FiY,ge]]};function ne(se){return(Oe,Ee)=>{const et=Oe.runOutsideAngular(()=>se(Ee));return new ee(et)}}let fe=(()=>{class se{constructor(Ee){(0,y.KN)("angularfire",he.q4.full,"core"),(0,y.KN)("angularfire",he.q4.full,"app"),(0,y.KN)("angular",$.q4F.full,Ee.toString())}static \u0275fac=function(et){return new(et||se)($.LFG($.Lbi))};static \u0275mod=$.oAB({type:se});static \u0275inj=$.cJS({providers:[ue,J]})}return se})();function ce(se,...Oe){return{ngModule:fe,providers:[{provide:ge,useFactory:ne(se),multi:!0,deps:[$.R0b,$.zs3,he.HU,...Oe]}]}}const it=(0,he.u3)(y.ZF,!0)},1210:(ye,re,O)=>{O.d(re,{gx:()=>fa,dh:()=>ns,Xb:()=>Ep,v0:()=>pl,AR:()=>yp,e5:()=>wp});var y=O(1324),$=O(5879),he=O(721),ee=O(3182),j=O(5861),Q=O(9058),de=O(534),ge=O(7879),ue=O(7582),J=O(4537);const vt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ge.Yd("@firebase/auth");function et(I,...h){Oe.logLevel<=ge.in.ERROR&&Oe.error(`Auth (${de.Jn}): ${I}`,...h)}function ot(I,...h){throw Yt(I,...h)}function ct(I,...h){return Yt(I,...h)}function Yt(I,...h){if("string"!=typeof I){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(p,...w)}return pt.create(I,...h)}function Ge(I,h,...p){if(!I)throw Yt(h,...p)}function Wt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw et(h),new Error(h)}function an(I,h){I||Wt(h)}function sn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Tr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class qe{constructor(h,p){this.shortDelay=h,this.longDelay=p,an(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function Ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Dr(){return"http:"===Tr()||"https:"===Tr()}()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function He(I,h){an(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class lt{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gt=new qe(3e4,6e4);function ke(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function un(I,h,p,w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,j.Z)(function*(I,h,p,w,F={}){return gn(I,F,(0,j.Z)(function*(){let Z={},Te={};w&&("GET"===h?Te=w:Z={body:JSON.stringify(w)});const ze=(0,Q.xO)(Object.assign({key:I.config.apiKey},Te)).slice(1),gt=yield I._getAdditionalHeaders();return gt["Content-Type"]="application/json",I.languageCode&&(gt["X-Firebase-Locale"]=I.languageCode),lt.fetch()(Pn(I,I.config.apiHost,p,ze),Object.assign({method:h,headers:gt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function gn(I,h,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,j.Z)(function*(I,h,p){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},at),h);try{const F=new er(I),Z=yield Promise.race([p(),F.promise]);F.clearNetworkTimeout();const Te=yield Z.json();if("needConfirmation"in Te)throw Rr(I,"account-exists-with-different-credential",Te);if(Z.ok&&!("errorMessage"in Te))return Te;{const ze=Z.ok?Te.errorMessage:Te.error.message,[gt,qt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Rr(I,"credential-already-in-use",Te);if("EMAIL_EXISTS"===gt)throw Rr(I,"email-already-in-use",Te);if("USER_DISABLED"===gt)throw Rr(I,"user-disabled",Te);const Jt=w[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw function _n(I,h,p){const w=Object.assign(Object.assign({},vt()),{[h]:p});return new Q.LL("auth","Firebase",w).create(h,{appName:I.name})}(I,Jt,qt);ot(I,Jt)}}catch(F){if(F instanceof Q.ZR)throw F;ot(I,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function En(I,h,p,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,j.Z)(function*(I,h,p,w,F={}){const Z=yield un(I,h,p,w,F);return"mfaPendingCredential"in Z&&ot(I,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Pn(I,h,p,w){const F=`${h}${p}?${w}`;return I.config.emulator?He(I.config,F):`${I.config.apiScheme}://${F}`}function Wn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class er{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(ct(this.auth,"network-request-failed")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rr(I,h,p){const w={appName:I.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const F=ct(I,h,w);return F.customData._tokenResponse=p,F}function Pr(I){return void 0!==I&&void 0!==I.enterprise}class Re{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Wn(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function st(I,h){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,j.Z)(function*(I,h){return un(I,"GET","/v2/recaptchaConfig",ke(I,h))})).apply(this,arguments)}function An(){return(An=(0,j.Z)(function*(I,h){return un(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Zn(){return(Zn=(0,j.Z)(function*(I,h){return un(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Oi(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ln(){return(ln=(0,j.Z)(function*(I,h=!1){const p=(0,Q.m9)(I),w=yield p.getIdToken(h),F=Vr(w);Ge(F&&F.exp&&F.auth_time&&F.iat,p.auth,"internal-error");const Z="object"==typeof F.firebase?F.firebase:void 0,Te=Z?.sign_in_provider;return{claims:F,token:w,authTime:Oi(ai(F.auth_time)),issuedAtTime:Oi(ai(F.iat)),expirationTime:Oi(ai(F.exp)),signInProvider:Te||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function ai(I){return 1e3*Number(I)}function Vr(I){const[h,p,w]=I.split(".");if(void 0===h||void 0===p||void 0===w)return et("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,Q.tV)(p);return F?JSON.parse(F):(et("Failed to decode base64 JWT payload"),null)}catch(F){return et("Caught error parsing JWT payload as JSON",F?.toString()),null}}function Gn(I,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,j.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof Q.ZR&&function Ti({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class pi{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const F=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,j.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,j.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Hr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(I){return ar.apply(this,arguments)}function ar(){return ar=(0,j.Z)(function*(I){var h;const p=I.auth,w=yield I.getIdToken(),F=yield Gn(I,function Fn(I,h){return Zn.apply(this,arguments)}(p,{idToken:w}));Ge(F?.users.length,p,"internal-error");const Z=F.users[0];I._notifyReloadListener(Z);const Te=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?function W(I){return I.map(h=>{var{providerId:p}=h,w=(0,ue._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(Z.providerUserInfo):[],ze=function me(I,h){return[...I.filter(w=>!h.some(F=>F.providerId===w.providerId)),...h]}(I.providerData,Te),Jt=!!I.isAnonymous&&!(I.email&&Z.passwordHash||ze?.length),Yn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:ze,metadata:new Hr(Z.createdAt,Z.lastLoginAt),isAnonymous:Jt};Object.assign(I,Yn)}),ar.apply(this,arguments)}function Ur(){return(Ur=(0,j.Z)(function*(I){const h=(0,Q.m9)(I);yield tr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function G(){return(G=(0,j.Z)(function*(I,h){const p=yield gn(I,{},(0,j.Z)(function*(){const w=(0,Q.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:F,apiKey:Z}=I.config,Te=Pn(I,F,"/v1/token",`key=${Z}`),ze=yield I._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(Te,{method:"POST",headers:ze,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ge(h.idToken,"internal-error"),Ge(typeof h.idToken<"u","internal-error"),Ge(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ii(I){const h=Vr(I);return Ge(h,"internal-error"),Ge(typeof h.exp<"u","internal-error"),Ge(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var w=this;return(0,j.Z)(function*(){return Ge(!w.accessToken||w.refreshToken,h,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,j.Z)(function*(){const{accessToken:F,refreshToken:Z,expiresIn:Te}=yield function Y(I,h){return G.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(F,Z,Number(Te))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:F,expirationTime:Z}=p,Te=new K;return w&&(Ge("string"==typeof w,"internal-error",{appName:h}),Te.refreshToken=w),F&&(Ge("string"==typeof F,"internal-error",{appName:h}),Te.accessToken=F),Z&&(Ge("number"==typeof Z,"internal-error",{appName:h}),Te.expirationTime=Z),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function we(I,h){Ge("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Ye{constructor(h){var{uid:p,auth:w,stsTokenManager:F}=h,Z=(0,ue._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Hr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,j.Z)(function*(){const w=yield Gn(p,p.stsTokenManager.getToken(p.auth,h));return Ge(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function xi(I){return ln.apply(this,arguments)}(this,h)}reload(){return function Ni(I){return Ur.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ge(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Ye(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,j.Z)(function*(){let F=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),F=!0),p&&(yield tr(w)),yield w.auth._persistUserIfCurrent(w),F&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,j.Z)(function*(){const p=yield h.getIdToken();return yield Gn(h,function jt(I,h){return An.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,F,Z,Te,ze,gt,qt,Jt;const Yn=null!==(w=p.displayName)&&void 0!==w?w:void 0,Us=null!==(F=p.email)&&void 0!==F?F:void 0,Or=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,pa=null!==(Te=p.photoURL)&&void 0!==Te?Te:void 0,Ad=null!==(ze=p.tenantId)&&void 0!==ze?ze:void 0,nu=null!==(gt=p._redirectEventId)&&void 0!==gt?gt:void 0,So=null!==(qt=p.createdAt)&&void 0!==qt?qt:void 0,Dl=null!==(Jt=p.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:wl,emailVerified:Uu,isAnonymous:Al,providerData:ru,stsTokenManager:wc}=p;Ge(wl&&wc,h,"internal-error");const Cd=K.fromJSON(this.name,wc);Ge("string"==typeof wl,h,"internal-error"),we(Yn,h.name),we(Us,h.name),Ge("boolean"==typeof Uu,h,"internal-error"),Ge("boolean"==typeof Al,h,"internal-error"),we(Or,h.name),we(pa,h.name),we(Ad,h.name),we(nu,h.name),we(So,h.name),we(Dl,h.name);const Sd=new Ye({uid:wl,auth:h,email:Us,emailVerified:Uu,displayName:Yn,isAnonymous:Al,photoURL:pa,phoneNumber:Or,tenantId:Ad,stsTokenManager:Cd,createdAt:So,lastLoginAt:Dl});return ru&&Array.isArray(ru)&&(Sd.providerData=ru.map(Ac=>Object.assign({},Ac))),nu&&(Sd._redirectEventId=nu),Sd}static _fromIdTokenResponse(h,p,w=!1){return(0,j.Z)(function*(){const F=new K;F.updateFromServerResponse(p);const Z=new Ye({uid:p.localId,auth:h,stsTokenManager:F,isAnonymous:w});return yield tr(Z),Z})()}}const It=new Map;function Lt(I){an(I instanceof Function,"Expected a class definition");let h=It.get(I);return h?(an(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,It.set(I,h),h)}const Zt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.Z)(function*(){return!0})()}_set(p,w){var F=this;return(0,j.Z)(function*(){F.storage[p]=w})()}_get(p){var w=this;return(0,j.Z)(function*(){const F=w.storage[p];return void 0===F?null:F})()}_remove(p){var w=this;return(0,j.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return I.type="NONE",I})();function tn(I,h,p){return`firebase:${I}:${h}:${p}`}class Kn{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:F,name:Z}=this.auth;this.fullUserKey=tn(this.userKey,F.apiKey,Z),this.fullPersistenceKey=tn("persistence",F.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,j.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ye._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,j.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,j.Z)(function*(){if(!p.length)return new Kn(Lt(Zt),h,w);const F=(yield Promise.all(p.map(function(){var qt=(0,j.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let Z=F[0]||Lt(Zt);const Te=tn(w,h.config.apiKey,h.name);let ze=null;for(const qt of p)try{const Jt=yield qt._get(Te);if(Jt){const Yn=Ye._fromJSON(h,Jt);qt!==Z&&(ze=Yn),Z=qt;break}}catch{}const gt=F.filter(qt=>qt._shouldAllowMigration);return Z._shouldAllowMigration&&gt.length?(Z=gt[0],ze&&(yield Z._set(Te,ze.toJSON())),yield Promise.all(p.map(function(){var qt=(0,j.Z)(function*(Jt){if(Jt!==Z)try{yield Jt._remove(Te)}catch{}});return function(Jt){return qt.apply(this,arguments)}}())),new Kn(Z,h,w)):new Kn(Z,h,w)})()}}function nr(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ce(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Yi(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ut(h))return"Blackberry";if(nn(h))return"Webos";if(Is(h))return"Safari";if((h.includes("chrome/")||We(h))&&!h.includes("edge/"))return"Chrome";if(dt(h))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Yi(I=(0,Q.z$)()){return/firefox\//i.test(I)}function Is(I=(0,Q.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function We(I=(0,Q.z$)()){return/crios\//i.test(I)}function Ce(I=(0,Q.z$)()){return/iemobile/i.test(I)}function dt(I=(0,Q.z$)()){return/android/i.test(I)}function Ut(I=(0,Q.z$)()){return/blackberry/i.test(I)}function nn(I=(0,Q.z$)()){return/webos/i.test(I)}function Dt(I=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function gi(I=(0,Q.z$)()){return Dt(I)||dt(I)||nn(I)||Ut(I)||/windows phone/i.test(I)||Ce(I)}function mi(I,h=[]){let p;switch(I){case"Browser":p=nr((0,Q.z$)());break;case"Worker":p=`${nr((0,Q.z$)())}-${I}`;break;default:p=I}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${de.Jn}/${w}`}class Ns{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=Z=>new Promise((Te,ze)=>{try{Te(h(Z))}catch(gt){ze(gt)}});w.onAbort=p,this.queue.push(w);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,j.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const F of p.queue)yield F(h),F.onAbort&&w.push(F.onAbort)}catch(F){w.reverse();for(const Z of w)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}function ps(){return(ps=(0,j.Z)(function*(I,h={}){return un(I,"GET","/v2/passwordPolicy",ke(I,h))})).apply(this,arguments)}class ks{constructor(h){var p,w,F,Z;const Te=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Te.minPasswordLength)&&void 0!==p?p:6,Te.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Te.maxPasswordLength),void 0!==Te.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Te.containsLowercaseCharacter),void 0!==Te.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Te.containsUppercaseCharacter),void 0!==Te.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Te.containsNumericCharacter),void 0!==Te.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Te.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(Z=h.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,F,Z,Te,ze;const gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,gt),this.validatePasswordCharacterOptions(h,gt),gt.isValid&&(gt.isValid=null===(p=gt.meetsMinPasswordLength)||void 0===p||p),gt.isValid&&(gt.isValid=null===(w=gt.meetsMaxPasswordLength)||void 0===w||w),gt.isValid&&(gt.isValid=null===(F=gt.containsLowercaseLetter)||void 0===F||F),gt.isValid&&(gt.isValid=null===(Z=gt.containsUppercaseLetter)||void 0===Z||Z),gt.isValid&&(gt.isValid=null===(Te=gt.containsNumericCharacter)||void 0===Te||Te),gt.isValid&&(gt.isValid=null===(ze=gt.containsNonAlphanumericCharacter)||void 0===ze||ze),gt}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),F&&(p.meetsMaxPasswordLength=h.length<=F)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let F=0;F<h.length;F++)w=h.charAt(F),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,F,Z){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Z))}}class rr{constructor(h,p,w,F){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ki(this),this.idTokenSubscription=new ki(this),this.beforeStateQueue=new Ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=Lt(p)),this._initializationPromise=this.queue((0,j.Z)(function*(){var F,Z;if(!w._deleted&&(w.persistenceManager=yield Kn.create(w,h),!w._deleted)){if(null!==(F=w._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(Z=w.currentUser)||void 0===Z?void 0:Z.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,j.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,j.Z)(function*(){var w;const F=yield p.assertedPersistence.getCurrentUser();let Z=F,Te=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ze=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,gt=Z?._redirectEventId,qt=yield p.tryRedirectSignIn(h);(!ze||ze===gt)&&qt?.user&&(Z=qt.user,Te=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Te)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(ze){Z=F,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ze))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return Ge(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var p=this;return(0,j.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,j.Z)(function*(){try{yield tr(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,j.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,j.Z)(function*(){const w=h?(0,Q.m9)(h):null;return w&&Ge(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,j.Z)(function*(){if(!w._deleted)return h&&Ge(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,j.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,j.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,j.Z)(function*(){yield p.assertedPersistence.setPersistence(Lt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,j.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,j.Z)(function*(){const p=yield function js(I){return ps.apply(this,arguments)}(h),w=new ks(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Q.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,j.Z)(function*(){const F=yield w.getOrInitRedirectPersistenceManager(p);return null===h?F.removeCurrentUser():F.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,j.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&Lt(h)||p._popupRedirectResolver;Ge(w,p,"argument-error"),p.redirectPersistenceManager=yield Kn.create(p,[Lt(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,j.Z)(function*(){var w,F;return p._isInitialized&&(yield p.queue((0,j.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(F=p.redirectUser)||void 0===F?void 0:F._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,j.Z)(function*(){if(h===p.currentUser)return p.queue((0,j.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,F){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p);let Te=!1;const ze=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(ze,this,"internal-error"),ze.then(()=>{Te||Z(this.currentUser)}),"function"==typeof p){const gt=h.addObserver(p,w,F);return()=>{Te=!0,gt()}}{const gt=h.addObserver(p);return()=>{Te=!0,gt()}}}directlySetCurrentUser(h){var p=this;return(0,j.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,j.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const F=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();F&&(w["X-Firebase-Client"]=F);const Z=yield h._getAppCheckToken();return Z&&(w["X-Firebase-AppCheck"]=Z),w})()}_getAppCheckToken(){var h=this;return(0,j.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function Ee(I,...h){Oe.logLevel<=ge.in.WARN&&Oe.warn(`Auth (${de.Jn}): ${I}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function hr(I){return(0,Q.m9)(I)}class ki{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.ne)(p=>this.observer=p)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ms(I){return new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=h,w.onerror=F=>{const Z=ct("internal-error");Z.customData=F,p(Z)},w.type="text/javascript",w.charset="UTF-8",function gs(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(w)})}function _i(I){return`__${I}${Math.floor(1e6*Math.random())}`}class $s{constructor(h){this.type="recaptcha-enterprise",this.auth=hr(h)}verify(h="verify",p=!1){var w=this;return(0,j.Z)(function*(){function Z(){return Z=(0,j.Z)(function*(ze){if(!p){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var gt=(0,j.Z)(function*(qt,Jt){st(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const Us=new Re(Yn);return null==ze.tenantId?ze._agentRecaptchaConfig=Us:ze._tenantRecaptchaConfigs[ze.tenantId]=Us,qt(Us.siteKey)}Jt(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{Jt(Yn)})});return function(qt,Jt){return gt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Te(ze,gt,qt){const Jt=window.grecaptcha;Pr(Jt)?Jt.enterprise.ready(()=>{Jt.enterprise.execute(ze,{action:h}).then(Yn=>{gt(Yn)}).catch(()=>{gt("NO_RECAPTCHA")})}):qt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,gt)=>{(function F(ze){return Z.apply(this,arguments)})(w.auth).then(qt=>{if(!p&&Pr(window.grecaptcha))Te(qt,ze,gt);else{if(typeof window>"u")return void gt(new Error("RecaptchaVerifier is only supported in browser"));ms("https://www.google.com/recaptcha/enterprise.js?render="+qt).then(()=>{Te(qt,ze,gt)}).catch(Jt=>{gt(Jt)})}}).catch(qt=>{gt(qt)})})})()}}function fo(I,h,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,j.Z)(function*(I,h,p,w=!1){const F=new $s(I);let Z;try{Z=yield F.verify(p)}catch{Z=yield F.verify(p,!0)}const Te=Object.assign({},h);return Object.assign(Te,w?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}function Ds(I,h,p,w){return ws.apply(this,arguments)}function ws(){return ws=(0,j.Z)(function*(I,h,p,w){var F;if(null!==(F=I._getRecaptchaConfig())&&void 0!==F&&F.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield fo(I,h,p,"getOobCode"===p);return w(I,Z)}return w(I,h).catch(function(){var Z=(0,j.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ze=yield fo(I,h,p,"getOobCode"===p);return w(I,ze)}return Promise.reject(Te)});return function(Te){return Z.apply(this,arguments)}}())}),ws.apply(this,arguments)}function Ae(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function mt(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class vn{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Wt("not implemented")}_getIdTokenResponse(h){return Wt("not implemented")}_linkToIdToken(h,p){return Wt("not implemented")}_getReauthenticationResolver(h){return Wt("not implemented")}}function vr(I,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,j.Z)(function*(I,h){return un(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Hs(I,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,j.Z)(function*(I,h){return En(I,"POST","/v1/accounts:signInWithPassword",ke(I,h))})).apply(this,arguments)}function ci(){return(ci=(0,j.Z)(function*(I,h){return En(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,h))})).apply(this,arguments)}function Er(){return(Er=(0,j.Z)(function*(I,h){return En(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,h))})).apply(this,arguments)}class os extends vn{constructor(h,p,w,F=null){super("password",w),this._email=h,this._password=p,this._tenantId=F}static _fromEmailAndPassword(h,p){return new os(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new os(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,j.Z)(function*(){switch(p.signInMethod){case"password":return Ds(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Hs);case"emailLink":return function Xi(I,h){return ci.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ot(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,j.Z)(function*(){switch(w.signInMethod){case"password":return vr(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zs(I,h){return Er.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:ot(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Li(I,h){return dn.apply(this,arguments)}function dn(){return(dn=(0,j.Z)(function*(I,h){return En(I,"POST","/v1/accounts:signInWithIdp",ke(I,h))})).apply(this,arguments)}class li{constructor(h){var p,w,F,Z,Te,ze;const gt=(0,Q.zd)((0,Q.pd)(h)),qt=null!==(p=gt.apiKey)&&void 0!==p?p:null,Jt=null!==(w=gt.oobCode)&&void 0!==w?w:null,Yn=function Js(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=gt.mode)&&void 0!==F?F:null);Ge(qt&&Jt&&Yn,"argument-error"),this.apiKey=qt,this.operation=Yn,this.code=Jt,this.continueUrl=null!==(Z=gt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Te=gt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(ze=gt.tenantId)&&void 0!==ze?ze:null}static parseLink(h){const p=function Rn(I){const h=(0,Q.zd)((0,Q.pd)(I)).link,p=h?(0,Q.zd)((0,Q.pd)(h)).deep_link_id:null,w=(0,Q.zd)((0,Q.pd)(I)).deep_link_id;return(w?(0,Q.zd)((0,Q.pd)(w)).link:null)||w||p||h||I}(h);try{return new li(p)}catch{return null}}}let io=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,w){return os._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const F=li.parseLink(w);return Ge(F,"argument-error"),os._fromEmailAndCode(p,F.code,F.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Gr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Jo extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function zn(I,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,j.Z)(function*(I,h){return En(I,"POST","/v1/accounts:signUp",ke(I,h))})).apply(this,arguments)}class Ai{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,F=!1){return(0,j.Z)(function*(){const Z=yield Ye._fromIdTokenResponse(h,w,F),Te=za(w);return new Ai({user:Z,providerId:Te,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,j.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const F=za(w);return new Ai({user:h,providerId:F,_tokenResponse:w,operationType:p})})()}}function za(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class so extends Q.ZR{constructor(h,p,w,F){var Z;super(p.code,p.message),this.operationType=w,this.user=F,Object.setPrototypeOf(this,so.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,F){return new so(h,p,w,F)}}function Ea(I,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?so._fromErrorAndOperation(I,Z,h,w):Z})}function Vo(){return(Vo=(0,j.Z)(function*(I,h,p=!1){const w=yield Gn(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Ai._forOperation(I,"link",w)})).apply(this,arguments)}function Uo(){return(Uo=(0,j.Z)(function*(I,h,p=!1){const{auth:w}=I,F="reauthenticate";try{const Z=yield Gn(I,Ea(w,F,h,I),p);Ge(Z.idToken,w,"internal-error");const Te=Vr(Z.idToken);Ge(Te,w,"internal-error");const{sub:ze}=Te;return Ge(I.uid===ze,w,"user-mismatch"),Ai._forOperation(I,F,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&ot(w,"user-mismatch"),Z}})).apply(this,arguments)}function ta(I,h){return go.apply(this,arguments)}function go(){return(go=(0,j.Z)(function*(I,h,p=!1){const w="signIn",F=yield Ea(I,w,h),Z=yield Ai._fromIdTokenResponse(I,w,F);return p||(yield I._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function mo(){return(mo=(0,j.Z)(function*(I,h){return ta(hr(I),h)})).apply(this,arguments)}function uo(I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,j.Z)(function*(I){const h=hr(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function pe(I,h,p){return xe.apply(this,arguments)}function xe(){return(xe=(0,j.Z)(function*(I,h,p){const w=hr(I),Te=yield Ds(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zn).catch(gt=>{throw"auth/password-does-not-meet-requirements"===gt.code&&uo(I),gt}),ze=yield Ai._fromIdTokenResponse(w,"signIn",Te);return yield w._updateCurrentUser(ze.user),ze})).apply(this,arguments)}function Qe(I,h,p){return function na(I,h){return mo.apply(this,arguments)}((0,Q.m9)(I),io.credential(h,p)).catch(function(){var w=(0,j.Z)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&uo(I),F});return function(F){return w.apply(this,arguments)}}())}const fn="__sak";class Ia{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(fn,"1"),this.storage.removeItem(fn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const rn=(()=>{class I extends Ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bn(){const I=(0,Q.z$)();return Is(I)||Dt(I)}()&&function Nr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const F=this.storage.getItem(w),Z=this.localCache[w];F!==Z&&p(w,Z,F)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ze,gt,qt)=>{this.notifyListeners(ze,qt)});const F=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(F);if(p.newValue!==ze)null!==p.newValue?this.storage.setItem(F,p.newValue):this.storage.removeItem(F);else if(this.localCache[F]===p.newValue&&!w)return}const Z=()=>{const ze=this.storage.getItem(F);!w&&this.localCache[F]===ze||this.notifyListeners(F,ze)},Te=this.storage.getItem(F);!function yr(){return(0,Q.w1)()&&10===document.documentMode}()||Te===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,w){this.localCache[p]=w;const F=this.listeners[p];if(F)for(const Z of Array.from(F))Z(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var F=()=>super._set,Z=this;return(0,j.Z)(function*(){yield F().call(Z,p,w),Z.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,F=this;return(0,j.Z)(function*(){const Z=yield w().call(F,p);return F.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var w=()=>super._remove,F=this;return(0,j.Z)(function*(){yield w().call(F,p),delete F.localCache[p]})()}}return I.type="LOCAL",I})(),lr=(()=>{class I extends Ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return I.type="SESSION",I})();let Qr=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(Z=>Z.isListeningto(p));if(w)return w;const F=new I(p);return this.receivers.push(F),F}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,j.Z)(function*(){const F=p,{eventId:Z,eventType:Te,data:ze}=F.data,gt=w.handlersMap[Te];if(!gt?.size)return;F.ports[0].postMessage({status:"ack",eventId:Z,eventType:Te});const qt=Array.from(gt).map(function(){var Yn=(0,j.Z)(function*(Us){return Us(F.origin,ze)});return function(Us){return Yn.apply(this,arguments)}}()),Jt=yield function Ah(I){return Promise.all(I.map(function(){var h=(0,j.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(qt);F.ports[0].postMessage({status:"done",eventId:Z,eventType:Te,response:Jt})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Mt(I="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return I+p}class ra{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var F=this;return(0,j.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Te,ze;return new Promise((gt,qt)=>{const Jt=Mt("",20);Z.port1.start();const Yn=setTimeout(()=>{qt(new Error("unsupported_event"))},w);ze={messageChannel:Z,onMessage(Us){const Or=Us;if(Or.data.eventId===Jt)switch(Or.data.status){case"ack":clearTimeout(Yn),Te=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),gt(Or.data.response);break;default:clearTimeout(Yn),clearTimeout(Te),qt(new Error("invalid_response"))}}},F.handlers.add(ze),Z.port1.addEventListener("message",ze.onMessage),F.target.postMessage({eventType:h,eventId:Jt,data:p},[Z.port2])}).finally(()=>{ze&&F.removeMessageHandler(ze)})})()}}function Je(){return window}function Du(){return typeof Je().WorkerGlobalScope<"u"&&"function"==typeof Je().importScripts}function Ui(){return(Ui=(0,j.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qs="firebaseLocalStorageDb",Ho="firebaseLocalStorage",el="fbase_key";class uc{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function eo(I,h){return I.transaction([Ho],h?"readwrite":"readonly").objectStore(Ho)}function be(){const I=indexedDB.open(qs,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Ho,{keyPath:el})}catch(F){p(F)}}),I.addEventListener("success",(0,j.Z)(function*(){const w=I.result;w.objectStoreNames.contains(Ho)?h(w):(w.close(),yield function ls(){const I=indexedDB.deleteDatabase(qs);return new uc(I).toPromise()}(),h(yield be()))}))})}function Ha(I,h,p){return E.apply(this,arguments)}function E(){return(E=(0,j.Z)(function*(I,h,p){const w=eo(I,!0).put({[el]:h,value:p});return new uc(w).toPromise()})).apply(this,arguments)}function _(){return(_=(0,j.Z)(function*(I,h){const p=eo(I,!1).get(h),w=yield new uc(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function S(I,h){const p=eo(I,!0).delete(h);return new uc(p).toPromise()}const je=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,j.Z)(function*(){return p.db||(p.db=yield be()),p.db})()}_withRetries(p){var w=this;return(0,j.Z)(function*(){let F=0;for(;;)try{const Z=yield w._openDb();return yield p(Z)}catch(Z){if(F++>3)throw Z;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,j.Z)(function*(){return Du()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,j.Z)(function*(){p.receiver=Qr._getInstance(function Da(){return Du()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,j.Z)(function*(F,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function(F,Z){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,j.Z)(function*(F,Z){return["keyChanged"]});return function(F,Z){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,j.Z)(function*(){var w,F;if(p.activeServiceWorker=yield function zo(){return Ui.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ra(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(w=Z[0])&&void 0!==w&&w.fulfilled&&null!==(F=Z[0])&&void 0!==F&&F.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,j.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ia(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.Z)(function*(){try{if(!indexedDB)return!1;const p=yield be();return yield Ha(p,fn,"1"),yield S(p,fn),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,j.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var F=this;return(0,j.Z)(function*(){return F._withPendingWrite((0,j.Z)(function*(){return yield F._withRetries(Z=>Ha(Z,p,w)),F.localCache[p]=w,F.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,j.Z)(function*(){const F=yield w._withRetries(Z=>function b(I,h){return _.apply(this,arguments)}(Z,p));return w.localCache[p]=F,F})()}_remove(p){var w=this;return(0,j.Z)(function*(){return w._withPendingWrite((0,j.Z)(function*(){return yield w._withRetries(F=>S(F,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,j.Z)(function*(){const w=yield p._withRetries(Te=>{const ze=eo(Te,!1).getAll();return new uc(ze).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const F=[],Z=new Set;for(const{fbase_key:Te,value:ze}of w)Z.add(Te),JSON.stringify(p.localCache[Te])!==JSON.stringify(ze)&&(p.notifyListeners(Te,ze),F.push(Te));for(const Te of Object.keys(p.localCache))p.localCache[Te]&&!Z.has(Te)&&(p.notifyListeners(Te,null),F.push(Te));return F})()}notifyListeners(p,w){this.localCache[p]=w;const F=this.listeners[p];if(F)for(const Z of Array.from(F))Z(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,j.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();_i("rcb"),new qe(3e4,6e4);class qa extends vn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Li(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Li(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Li(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function ad(I){return ta(I.auth,new qa(I),I.bypassAuthState)}function Es(I){const{auth:h,user:p}=I;return Ge(p,h,"internal-error"),function po(I,h){return Uo.apply(this,arguments)}(p,new qa(I),I.bypassAuthState)}function sl(I){return sa.apply(this,arguments)}function sa(){return(sa=(0,j.Z)(function*(I){const{auth:h,user:p}=I;return Ge(p,h,"internal-error"),function Xo(I,h){return Vo.apply(this,arguments)}(p,new qa(I),I.bypassAuthState)})).apply(this,arguments)}class Sh{constructor(h,p,w,F,Z=!1){this.auth=h,this.resolver=w,this.user=F,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,j.Z)(function*(w,F){h.pendingPromise={resolve:w,reject:F};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(w,F){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,j.Z)(function*(){const{urlResponse:w,sessionId:F,postBody:Z,tenantId:Te,error:ze,type:gt}=h;if(ze)return void p.reject(ze);const qt={auth:p.auth,requestUri:w,sessionId:F,tenantId:Te||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(gt)(qt))}catch(Jt){p.reject(Jt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ad;case"linkViaPopup":case"linkViaRedirect":return sl;case"reauthViaPopup":case"reauthViaRedirect":return Es;default:ot(this.auth,"internal-error")}}resolve(h){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new qe(2e3,1e4);const ud="pendingRedirect",bi=new Map;class Rh extends Sh{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,j.Z)(function*(){let w=bi.get(p.auth._key());if(!w){try{const Z=(yield function oa(I,h){return hi.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(Z)}catch(F){w=()=>Promise.reject(F)}bi.set(p.auth._key(),w)}return p.bypassAuthState||bi.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,j.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const F=yield w.auth._redirectUserForId(h.eventId);if(F)return w.user=F,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,j.Z)(function*(){})()}cleanUp(){}}function hi(){return(hi=(0,j.Z)(function*(I,h){const p=function To(I){return tn(ud,I.config.apiKey,I.name)}(h),w=function cd(I){return Lt(I._redirectPersistence)}(I);if(!(yield w._isAvailable()))return!1;const F="true"===(yield w._get(p));return yield w._remove(p),F})).apply(this,arguments)}function Qa(I,h){bi.set(I._key(),h)}function dc(I,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,j.Z)(function*(I,h,p=!1){const w=hr(I),F=function to(I,h){return h?Lt(h):(Ge(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(w,h),Te=yield new Rh(w,F,p).execute();return Te&&!p&&(delete Te.user._redirectEventId,yield w._persistUserIfCurrent(Te.user),yield w._setRedirectUser(null,h)),Te})).apply(this,arguments)}class Mu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Mh(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ph(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!Ph(h)){const F=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(ct(this.auth,F))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hc(h))}saveEventToCache(h){this.cachedEventUids.add(hc(h)),this.lastProcessedEventTime=Date.now()}}function hc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Ph({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function ca(){return(ca=(0,j.Z)(function*(I,h={}){return un(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ya=/^https?/;function co(){return co=(0,j.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function ul(I){return ca.apply(this,arguments)}(I);for(const p of h)try{if(Za(p))return}catch{}ot(I,"unauthorized-domain")}),co.apply(this,arguments)}function Za(I){const h=sn(),{protocol:p,hostname:w}=new URL(h);if(I.startsWith("chrome-extension://")){const Te=new URL(I);return""===Te.hostname&&""===w?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Te.hostname===w}if(!Ya.test(p))return!1;if(Ri.test(I))return w===I;const F=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(w)}const cp=new qe(3e4,6e4);function Ou(){const I=Je().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let cl=null;const $r=new qe(5e3,15e3),fc="__/auth/iframe",Oh="emulator/auth/iframe",Ca={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hd(I){const h=I.config;Ge(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?He(h,Oh):`https://${I.config.authDomain}/${fc}`,w={apiKey:h.apiKey,appName:I.name,v:de.Jn},F=xh.get(I.config.apiHost);F&&(w.eid=F);const Z=I._getFrameworks();return Z.length&&(w.fw=Z.join(",")),`${p}?${(0,Q.xO)(w).slice(1)}`}function ll(){return ll=(0,j.Z)(function*(I){const h=yield function gr(I){return cl=cl||function wm(I){return new Promise((h,p)=>{var w,F,Z;function Te(){Ou(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ou(),p(ct(I,"network-request-failed"))},timeout:cp.get()})}if(null!==(F=null===(w=Je().gapi)||void 0===w?void 0:w.iframes)&&void 0!==F&&F.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=Je().gapi)||void 0===Z||!Z.load){const ze=_i("iframefcb");return Je()[ze]=()=>{gapi.load?Te():p(ct(I,"network-request-failed"))},ms(`https://apis.google.com/js/api.js?onload=${ze}`).catch(gt=>p(gt))}Te()}}).catch(h=>{throw cl=null,h})}(I),cl}(I),p=Je().gapi;return Ge(p,I,"internal-error"),h.open({where:document.body,url:hd(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ca,dontclear:!0},w=>new Promise(function(){var F=(0,j.Z)(function*(Z,Te){yield w.restyle({setHideOnLeave:!1});const ze=ct(I,"network-request-failed"),gt=Je().setTimeout(()=>{Te(ze)},$r.get());function qt(){Je().clearTimeout(gt),Z(w)}w.ping(qt).then(qt,()=>{Te(ze)})});return function(Z,Te){return F.apply(this,arguments)}}()))}),ll.apply(this,arguments)}const xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Am="__/auth/handler",hp="emulator/auth/handler",Nh=encodeURIComponent("fac");function Gi(I,h,p,w,F,Z){return la.apply(this,arguments)}function la(){return(la=(0,j.Z)(function*(I,h,p,w,F,Z){Ge(I.config.authDomain,I,"auth-domain-config-required"),Ge(I.config.apiKey,I,"invalid-api-key");const Te={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:w,v:de.Jn,eventId:F};if(h instanceof Gr){h.setDefaultLanguage(I.languageCode),Te.providerId=h.providerId||"",(0,Q.xb)(h.getCustomParameters())||(Te.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Jt,Yn]of Object.entries(Z||{}))Te[Jt]=Yn}if(h instanceof Jo){const Jt=h.getScopes().filter(Yn=>""!==Yn);Jt.length>0&&(Te.scopes=Jt.join(","))}I.tenantId&&(Te.tid=I.tenantId);const ze=Te;for(const Jt of Object.keys(ze))void 0===ze[Jt]&&delete ze[Jt];const gt=yield I._getAppCheckToken(),qt=gt?`#${Nh}=${encodeURIComponent(gt)}`:"";return`${function da({config:I}){return I.emulator?He(I,hp):`https://${I.authDomain}/${Am}`}(I)}?${(0,Q.xO)(ze).slice(1)}${qt}`})).apply(this,arguments)}const gc="webStorageSupport",kh=class pd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=dc,this._overrideRedirectResult=Qa}_openPopup(h,p,w,F){var Z=this;return(0,j.Z)(function*(){var Te;an(null===(Te=Z.eventManagers[h._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const ze=yield Gi(h,p,w,sn(),F);return function ku(I,h,p,w=500,F=600){const Z=Math.max((window.screen.availHeight-F)/2,0).toString(),Te=Math.max((window.screen.availWidth-w)/2,0).toString();let ze="";const gt=Object.assign(Object.assign({},xu),{width:w.toString(),height:F.toString(),top:Z,left:Te}),qt=(0,Q.z$)().toLowerCase();p&&(ze=We(qt)?"_blank":p),Yi(qt)&&(h=h||"http://localhost",gt.scrollbars="yes");const Jt=Object.entries(gt).reduce((Us,[Or,pa])=>`${Us}${Or}=${pa},`,"");if(function xr(I=(0,Q.z$)()){var h;return Dt(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(qt)&&"_self"!==ze)return function dp(I,h){const p=document.createElement("a");p.href=I,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",ze),new pc(null);const Yn=window.open(h||"",ze,Jt);Ge(Yn,I,"popup-blocked");try{Yn.focus()}catch{}return new pc(Yn)}(h,ze,Mt())})()}_openRedirect(h,p,w,F){var Z=this;return(0,j.Z)(function*(){return yield Z._originValidation(h),function kn(I){Je().location.href=I}(yield Gi(h,p,w,sn(),F)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:F,promise:Z}=this.eventManagers[p];return F?Promise.resolve(F):(an(Z,"If manager is not set, promise should be"),Z)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,j.Z)(function*(){const w=yield function Wi(I){return ll.apply(this,arguments)}(h),F=new Mu(h);return w.register("authEvent",Z=>(Ge(Z?.authEvent,h,"invalid-auth-event"),{status:F.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:F},p.iframes[h._key()]=w,F})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(gc,{type:gc},F=>{var Z;const Te=null===(Z=F?.[0])||void 0===Z?void 0:Z[gc];void 0!==Te&&p(!!Te),ot(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Yr(I){return co.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return gi()||Is()||Dt()}};var dl="@firebase/auth";class hl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,j.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const eu=(0,Q.Pz)("authIdTokenMaxAge")||300;let Lu=null;const md=I=>function(){var h=(0,j.Z)(function*(p){const w=p&&(yield p.getIdTokenResult()),F=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(F&&F>eu)return;const Z=w?.token;Lu!==Z&&(Lu=Z,yield fetch(I,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function pp(I=(0,de.Mq)()){const h=(0,de.qX)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function ui(I,h){const p=(0,de.qX)(I,"auth");if(p.isInitialized()){const F=p.getImmediate(),Z=p.getOptions();if((0,Q.vZ)(Z,h??{}))return F;ot(F,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:kh,persistence:[je,rn,lr]}),w=(0,Q.Pz)("authTokenSyncURL");if(w){const Z=md(w);(function Cn(I,h,p){(0,Q.m9)(I).beforeAuthStateChanged(h,p)})(p,Z,()=>Z(p.currentUser)),function Un(I,h,p,w){(0,Q.m9)(I).onIdTokenChanged(h,p,w)}(p,Te=>Z(Te))}const F=(0,Q.q4)("auth");return F&&function Ke(I,h,p){const w=hr(I);Ge(w._canInitEmulator,w,"emulator-config-failed"),Ge(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const F=!!p?.disableWarnings,Z=Ae(h),{host:Te,port:ze}=function Le(I){const h=Ae(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(w);if(F){const Z=F[1];return{host:Z,port:mt(w.substr(Z.length+1))}}{const[Z,Te]=w.split(":");return{host:Z,port:mt(Te)}}}(h);w.config.emulator={url:`${Z}//${Te}${null===ze?"":`:${ze}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Te,port:ze,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function Tt(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${F}`),p}!function Lh(I){(0,de.Xd)(new J.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),F=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:Te,authDomain:ze}=w.options;Ge(Te&&!Te.includes(":"),"invalid-api-key",{appName:w.name});const gt={apiKey:Te,authDomain:ze,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mi(I)},qt=new rr(w,F,Z,gt);return function ae(I,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(Lt);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(w,h?.popupRedirectResolver)}(qt,p),qt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,de.Xd)(new J.wA("auth-internal",h=>{const p=hr(h.getProvider("auth").getImmediate());return new hl(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.KN)(dl,"1.3.2",function ba(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,de.KN)(dl,"1.3.2","esm2017")}("Browser");class fa{constructor(h){return h}}class ns{constructor(){return(0,y.vb)("auth")}}const Fu=new $.OlP("angularfire2.auth-instances");function qo(I){return(h,p)=>{const w=h.runOutsideAngular(()=>I(p));return new fa(w)}}const mp={provide:ns,deps:[[new $.FiY,Fu]]},yc={provide:fa,useFactory:function _d(I,h){const p=(0,y.JM)("auth",I,h);return p&&new fa(p)},deps:[[new $.FiY,Fu],he.Ot]};let _p=(()=>{class I{constructor(){(0,ee.KN)("angularfire",y.q4.full,"auth")}static \u0275fac=function(w){return new(w||I)};static \u0275mod=$.oAB({type:I});static \u0275inj=$.cJS({providers:[yc,mp]})}return I})();function yp(I,...h){return{ngModule:_p,providers:[{provide:Fu,useFactory:qo(I),multi:!0,deps:[$.R0b,$.zs3,y.HU,he.z6,[new $.FiY,y.Rf],...h]}]}}const Ep=(0,y.u3)(pe,!0),pl=(0,y.u3)(pp,!0),wp=(0,y.u3)(Qe,!0)},5349:(ye,re,O)=>{O.d(re,{gg:()=>Yf,ET:()=>uE,hJ:()=>hy,BS:()=>ly,JU:()=>py,QT:()=>TE,PL:()=>DE,ad:()=>wE,Cm:()=>oE,IO:()=>mm,pl:()=>bT,r7:()=>LE,ar:()=>Xl});var ce,y=O(1324),$=O(5879),he=O(721),ee=O(1210),j=O(3182),Q=O(5861),de=O(534),ge=O(4537),ue=O(7879),J=O(9058),ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={},Se=Se||{},De=ne||self;function Ne(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function it(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var vt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function se(i,e,n){return i.call.apply(i.bind,arguments)}function Oe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ee(i,e,n){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?se:Oe).apply(null,arguments)}function et(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ot(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),A=2;A<arguments.length;A++)f[A-2]=arguments[A];return e.prototype[u].apply(o,f)}}function ct(){this.s=this.s,this.o=this.o}ct.prototype.s=!1,ct.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ze(i){Object.prototype.hasOwnProperty.call(i,vt)&&i[vt]||(i[vt]=++pt)}(this)},ct.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Et=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Yt(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ge(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ne(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Wt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{De.addEventListener("test",()=>{},e),De.removeEventListener("test",()=>{},e)}catch{}return i}();function sn(i){return/^[\s\xa0]*$/.test(i)}function Dr(){var i=De.navigator;return i&&(i=i.userAgent)?i:""}function Tr(i){return-1!=Dr().indexOf(i)}function Ve(i){return Ve[" "](i),i}Ve[" "]=function(){};var Kt,i,qe=Tr("Opera"),He=Tr("Trident")||Tr("MSIE"),lt=Tr("Edge"),at=lt||He,Gt=Tr("Gecko")&&!(-1!=Dr().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),ke=-1!=Dr().toLowerCase().indexOf("webkit")&&!Tr("Edge");function un(){var i=De.document;return i?i.documentMode:void 0}e:{var gn="",Xt=(i=Dr(),Gt?/rv:([^\);]+)(\)|;)/.exec(i):lt?/Edge\/([\d\.]+)/.exec(i):He?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ke?/WebKit\/(\S+)/.exec(i):qe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Xt&&(gn=Xt?Xt[1]:""),He){var En=un();if(null!=En&&En>parseFloat(gn)){Kt=String(En);break e}}Kt=gn}var Wn=De.document&&He&&(un()||parseInt(Kt,10))||void 0;function er(i,e){if(Wt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Gt){e:{try{Ve(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Rr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&er.$.h.call(this)}}ot(er,Wt);var Rr={2:"touch",3:"pen",4:"mouse"};er.prototype.h=function(){er.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var oi="closure_listenable_"+(1e6*Math.random()|0),Pr=0;function Re(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Pr,this.fa=this.ia=!1}function ht(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Nt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Qt(i){const e={};for(const n in i)e[n]=i[n];return e}const jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function An(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<jt.length;l++)n=jt[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function yn(i){this.src=i,this.g={},this.h=0}function Mr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Et(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(ht(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Fn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}yn.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Fn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Re(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Zn="closure_lm_"+(1e6*Math.random()|0),Oi={};function zt(i,e,n,o,u){if(o&&o.once)return ai(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)zt(i,e[l],n,o,u);return null}return n=Hr(n),i&&i[oi]?i.O(e,n,it(o)?!!o.capture:!!o,u):xi(i,e,n,!1,o,u)}function xi(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=it(u)?!!u.capture:!!u,A=Ti(i);if(A||(i[Zn]=A=new yn(i)),(n=A.add(e,n,o,f,l)).proxy)return n;if(o=function ln(){const e=Qi;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)an||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Gn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function ai(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ai(i,e[l],n,o,u);return null}return n=Hr(n),i&&i[oi]?i.P(e,n,it(o)?!!o.capture:!!o,u):xi(i,e,n,!0,o,u)}function Vr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Vr(i,e[l],n,o,u);else o=it(o)?!!o.capture:!!o,n=Hr(n),i&&i[oi]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Fn(l=i.g[e],n,o,u))&&(ht(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Ti(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Fn(e,n,o,u)),(n=-1<i?e[i]:null)&&Ii(n))}function Ii(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[oi])Mr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Gn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ti(e))?(Mr(n,i),0==n.h&&(n.src=null,e[Zn]=null)):ht(i)}}}function Gn(i){return i in Oi?Oi[i]:Oi[i]="on"+i}function Qi(i,e){if(i.fa)i=!0;else{e=new er(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Ii(i),i=n.call(o,e)}return i}function Ti(i){return(i=i[Zn])instanceof yn?i:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hr(i){return"function"==typeof i?i:(i[pi]||(i[pi]=function(e){return i.handleEvent(e)}),i[pi])}function tr(){ct.call(this),this.i=new yn(this),this.S=this,this.J=null}function ar(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Wt(e,i);else if(e instanceof Wt)e.target=e.target||i;else{var u=e;An(e=new Wt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Ni(f,o,!0,e)&&u}if(u=Ni(f=e.g=i,o,!0,e)&&u,u=Ni(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Ni(f=e.g=n[l],o,!1,e)&&u}function Ni(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var A=f.listener,R=f.la||f.src;f.ia&&Mr(i.i,f),u=!1!==A.call(R,o)&&u}}return u&&!o.defaultPrevented}ot(tr,ct),tr.prototype[oi]=!0,tr.prototype.removeEventListener=function(i,e,n,o){Vr(this,i,e,n,o)},tr.prototype.N=function(){if(tr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)ht(n[o]);delete i.g[e],i.h--}}this.J=null},tr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},tr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Ur=De.JSON.stringify;function W(){var i=cn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class me{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new K,i=>i.reset());class K{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function we(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Ye(i){De.setTimeout(()=>{throw i},0)}let It,Lt=!1,cn=new class Y{constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Zt=()=>{const i=De.Promise.resolve(void 0);It=()=>{i.then(tn)}};var tn=()=>{for(var i;i=W();){try{i.h.call(i.g)}catch(n){Ye(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lt=!1};function Kn(i,e){tr.call(this),this.h=i||1,this.g=e||De,this.j=Ee(this.qb,this),this.l=Date.now()}function nr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Yi(i,e,n){if("function"==typeof i)n&&(i=Ee(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ee(i.handleEvent,i)}return 2147483647<Number(e)?-1:De.setTimeout(i,e||0)}function Is(i){i.g=Yi(()=>{i.g=null,i.i&&(i.i=!1,Is(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ot(Kn,tr),(ce=Kn.prototype).ga=!1,ce.T=null,ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ar(this,"tick"),this.ga&&(nr(this),this.start()))}},ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.N=function(){Kn.$.N.call(this),nr(this),delete this.g};class We extends ct{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ce(i){ct.call(this),this.h=i,this.g={}}ot(Ce,ct);var dt=[];function Ut(i,e,n,o){Array.isArray(n)||(n&&(dt[0]=n.toString()),n=dt);for(var u=0;u<n.length;u++){var l=zt(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function nn(i){Nt(i.g,function(e,n){this.g.hasOwnProperty(n)&&Ii(e)},i),i.g={}}function Dt(){this.g=!0}function yr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return Ur(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ce.prototype.N=function(){Ce.$.N.call(this),nn(this)},Ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dt.prototype.Ea=function(){this.g=!1},Dt.prototype.info=function(){};var mi={},Ns=null;function js(){return Ns=Ns||new tr}function ps(i){Wt.call(this,mi.Ta,i)}function Zi(i){const e=js();ar(e,new ps(e))}function ks(i,e){Wt.call(this,mi.STAT_EVENT,i),this.stat=e}function rr(i){const e=js();ar(e,new ks(e,i))}function hr(i,e){Wt.call(this,mi.Ua,i),this.size=e}function ki(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){i()},e)}mi.Ta="serverreachability",ot(ps,Wt),mi.STAT_EVENT="statevent",ot(ks,Wt),mi.Ua="timingevent",ot(hr,Wt);var gs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ms={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _i(){}function Jr(){}_i.prototype.h=null;var Fs,Ts={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $s(){Wt.call(this,"d")}function fo(){Wt.call(this,"c")}function Ds(){}function ws(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ce(this),this.P=No,this.V=new Kn(i=at?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}ot($s,Wt),ot(fo,Wt),ot(Ds,_i),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},Fs=new Ds;var No=45e3,ui={},ae={};function Ke(i,e,n){i.L=1,i.v=Jn(ss(e)),i.s=n,i.S=!0,Ae(i,null)}function Ae(i,e){i.G=Date.now(),vn(i),i.A=ss(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),no(n.i,"t",o),i.C=0,n=i.l.J,i.h=new zs,i.g=Bo(i.l,n?e:null,!i.s),0<i.O&&(i.M=new We(Ee(i.Pa,i,i.g),i.O)),Ut(i.U,i.g,"readystatechange",i.nb),e=i.I?Qt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Zi(),function jn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",A=l.split("&"),R=0;R<A.length;R++){var k=A[R].split("=");if(1<k.length){var z=k[0];k=k[1];var te=z.split("_");f=2<=te.length&&"type"==te[1]?f+(z+"=")+k+"&":f+(z+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Le(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function mt(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Tt(i,n),u==ae){4==e&&(i.o=4,rr(14),o=!1),yr(i.j,i.m,null,"[Incomplete Response]");break}if(u==ui){i.o=4,rr(15),yr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}yr(i.j,i.m,u,null),$n(i,u)}Le(i)&&u!=ae&&u!=ui&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,rr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oo(e),e.M=!0,rr(11))):(yr(i.j,i.m,n,"[Invalid Chunked Response]"),Ot(i),vr(i))}function Tt(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ae:(n=Number(e.substring(n,o)),isNaN(n)?ui:(o+=1)+n>e.length?ae:(e=e.slice(o,o+n),i.C=o+n,e))}function vn(i){i.Y=Date.now()+i.P,fr(i,i.P)}function fr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ki(Ee(i.lb,i),e)}function ir(i){i.B&&(De.clearTimeout(i.B),i.B=null)}function vr(i){0==i.l.H||i.J||Ci(i.l,i)}function Ot(i){ir(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,nr(i.V),nn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function $n(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Js(n.i,i)))if(!i.K&&Js(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;bs(n),go(n)}vs(n),rr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=ki(Ee(n.ib,n),6e3));if(1>=as(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ts(n,11)}else if((i.K||n.g==i)&&bs(n),!sn(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.V=k[0],k=k[1],2==n.H)if("c"==k[0]){n.K=k[1],n.pa=k[2];const z=k[3];null!=z&&(n.ra=z,n.l.info("VER="+n.ra));const te=k[4];null!=te&&(n.Ga=te,n.l.info("SVER="+n.Ga));const ve=k[5];null!=ve&&"number"==typeof ve&&0<ve&&(n.L=o=1.5*ve,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Fe=i.g;if(Fe){const _t=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_t){var l=o.i;l.g||-1==_t.indexOf("spdy")&&-1==_t.indexOf("quic")&&-1==_t.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Rn(l,l.h),l.h=null))}if(o.F){const At=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;At&&(o.Da=At,Ft(o.I,o.F,At))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Ks(o,o.J?o.pa:null,o.Y),f.K){li(o.i,f);var A=f,R=o.L;R&&A.setTimeout(R),A.B&&(ir(A),vn(A)),o.g=f}else Fi(o);0<n.j.length&&mo(n)}else"stop"!=k[0]&&"close"!=k[0]||ts(n,7);else 3==n.H&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?ts(n,7):ta(n):"noop"!=k[0]&&n.h&&n.h.Aa(k),n.A=0)}Zi()}catch{}}function Sr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ne(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Hs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ne(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Wr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ne(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(ce=ws.prototype).setTimeout=function(i){this.P=i},ce.nb=function(i){i=i.target;const e=this.M;e&&3==Xn(i)?e.l():this.Pa(i)},ce.Pa=function(i){try{if(i==this.g)e:{const z=Xn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>z)&&(3!=z||at||this.g&&(this.h.h||this.g.ja()||Xo(this.g)))){this.J||4!=z||7==e||Zi(),ir(this);var n=this.g.da();this.ca=n;t:if(Le(this)){var o=Xo(this.g);i="";var u=o.length,l=4==Xn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ot(this),vr(this);var f="";break t}this.h.i=new De.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function xr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,R=this.g;if((A=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sn(A)){var k=A;break t}}k=null}if(!(n=k)){this.i=!1,this.o=3,rr(12),Ot(this),vr(this);break e}yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$n(this,n)}this.S?(mt(this,z,f),at&&this.i&&3==z&&(Ut(this.U,this.V,"tick",this.mb),this.V.start())):(yr(this.j,this.m,f,null),$n(this,f)),4==z&&Ot(this),this.i&&!this.J&&(4==z?Ci(this.l,this):(this.i=!1,vn(this)))}else(function Vo(i){const e={};i=(i.g&&2<=Xn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(sn(i[o]))continue;var n=we(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function st(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,rr(12)):(this.o=0,rr(13)),Ot(this),vr(this)}}}catch{}},ce.mb=function(){if(this.g){var i=Xn(this.g),e=this.g.ja();this.C<e.length&&(ir(this),mt(this,i,e),this.i&&4!=i&&vn(this))}},ce.cancel=function(){this.J=!0,Ot(this)},ce.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function gi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zi(),rr(17)),Ot(this),this.o=2,vr(this)):fr(this,this.Y-i)};var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ji(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ji){this.h=i.h,Ys(this,i.j),this.s=i.s,this.g=i.g,pr(this,i.m),this.l=i.l;var e=i.i,n=new Kr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),St(this,n),this.o=i.o}else i&&(e=String(i).match(Qs))?(this.h=!1,Ys(this,e[1]||"",!0),this.s=Xr(e[2]||""),this.g=Xr(e[3]||"",!0),pr(this,e[4]),this.l=Xr(e[5]||"",!0),St(this,e[6]||"",!0),this.o=Xr(e[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}function ss(i){return new Ji(i)}function Ys(i,e,n){i.j=n?Xr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function pr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function St(i,e,n){e instanceof Kr?(i.i=e,function _s(i,e){e&&!i.j&&(Di(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(As(this,o),no(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Xi(e,Li)),i.i=new Kr(e,i.h))}function Ft(i,e,n){i.i.set(e,n)}function Jn(i){return Ft(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Xr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Xi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ci),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ci(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ji.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Xi(e,Zs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Xi(e,Zs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Xi(n,"/"==n.charAt(0)?os:Er,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Xi(n,dn)),i.join("")};var Zs=/[#\/\?@]/g,Er=/[#\?:]/g,os=/[#\?]/g,Li=/[#\?@]/g,dn=/#/g;function Kr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Di(i){i.g||(i.g=new Map,i.h=0,i.i&&function ko(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function As(i,e){Di(i),e=es(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function wr(i,e){return Di(i),e=es(i,e),i.g.has(e)}function no(i,e,n){As(i,e),0<n.length&&(i.i=null,i.g.set(es(i,e),Yt(n)),i.h+=n.length)}function es(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function $a(i){this.l=i||Cs,i=De.PerformanceNavigationTiming?0<(i=De.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(De.g&&De.g.Ka&&De.g.Ka()&&De.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Kr.prototype).add=function(i,e){Di(this),this.i=null,i=es(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ce.forEach=function(i,e){Di(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},ce.ta=function(){Di(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},ce.Z=function(i){Di(this);let e=[];if("string"==typeof i)wr(this,i)&&(e=e.concat(this.g.get(es(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ce.set=function(i,e){return Di(this),this.i=null,wr(this,i=es(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Cs=10;function ys(i){return!!i.h||!!i.g&&i.g.size>=i.j}function as(i){return i.h?1:i.g?i.g.size:0}function Js(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Rn(i,e){i.g?i.g.add(e):i.h=e}function li(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function di(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Yt(i.i)}$a.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var io=class{stringify(i){return De.JSON.stringify(i,void 0)}parse(i){return De.JSON.parse(i,void 0)}};function Gr(){this.g=new io}function Jo(i,e,n){const o=n||"";try{Sr(i,function(u,l){let f=u;it(u)&&(f=Ur(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ws(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function kr(i){this.l=i.ec||null,this.j=i.ob||!1}function Lo(i,e){tr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=wi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(kr,_i),kr.prototype.g=function(){return new Lo(this.l,this.j)},kr.prototype.i=function(i){return function(){return i}}({}),ot(Lo,tr);var wi=0;function Br(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function us(i){i.readyState=4,i.l=null,i.j=null,i.A=null,yi(i)}function yi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=Lo.prototype).open=function(i,e){if(this.readyState!=wi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,yi(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||De).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,us(this)),this.readyState=wi},ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Br(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?us(this):yi(this),3==this.readyState&&Br(this)}},ce.Za=function(i){this.g&&(this.response=this.responseText=i,us(this))},ce.Ya=function(i){this.g&&(this.response=i,us(this))},ce.ka=function(){this.g&&us(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var va=De.JSON.parse;function zn(i){tr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ss,this.L=this.M=!1}ot(zn,tr);var Ss="",Ai=/^https?$/i,za=["POST","PUT"];function Xs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,so(i),Fo(i)}function so(i){i.F||(i.F=!0,ar(i,"complete"),ar(i,"error"))}function Ea(i){if(i.h&&typeof Se<"u"&&(!i.C[1]||4!=Xn(i)||2!=i.da()))if(i.v&&4==Xn(i))Yi(i.La,0,i);else if(ar(i,"readystatechange"),4==Xn(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Qs)[1]||null;!u&&De.self&&De.self.location&&(u=De.self.location.protocol.slice(0,-1)),o=!Ai.test(u?u.toLowerCase():"")}n=o}if(n)ar(i,"complete"),ar(i,"success");else{i.m=6;try{var l=2<Xn(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",so(i)}}finally{Fo(i)}}}function Fo(i,e){if(i.g){Zc(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ar(i,"ready");try{n.onreadystatechange=o}catch{}}}function Zc(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(De.clearTimeout(i.A),i.A=null)}function Xn(i){return i.g?i.g.readyState:0}function Xo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ss:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(i){let e="";return Nt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function ea(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Gs(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Ft(i,e,n))}function po(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Uo(i){this.Ga=0,this.j=[],this.l=new Dt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=po("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=po("baseRetryDelayMs",5e3,i),this.hb=po("retryDelaySeedMs",1e4,i),this.eb=po("forwardChannelMaxRetries",2,i),this.xa=po("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new $a(i&&i.concurrentRequestLimit),this.Ja=new Gr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ta(i){if(na(i),3==i.H){var e=i.W++,n=ss(i.I);if(Ft(n,"SID",i.K),Ft(n,"RID",e),Ft(n,"TYPE","terminate"),yo(i,n),(e=new ws(i,i.l,e)).L=2,e.v=Jn(ss(n)),n=!1,De.navigator&&De.navigator.sendBeacon)try{n=De.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&De.Image&&((new Image).src=e.v,n=!0),n||(e.g=Bo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vn(e)}uo(i)}function go(i){i.g&&(oo(i),i.g.cancel(),i.g=null)}function na(i){go(i),i.u&&(De.clearTimeout(i.u),i.u=null),bs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&De.clearTimeout(i.m),i.m=null)}function mo(i){if(!ys(i.i)&&!i.m){i.m=!0;var e=i.Na;It||Zt(),Lt||(It(),Lt=!0),cn.add(e,i),i.C=0}}function _o(i,e){var n;n=e?e.m:i.W++;const o=ss(i.I);Ft(o,"SID",i.K),Ft(o,"RID",n),Ft(o,"AID",i.V),yo(i,o),i.o&&i.s&&ea(o,i.o,i.s),n=new ws(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=$i(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Rn(i.i,n),Ke(n,o,e)}function yo(i,e){i.na&&Nt(i.na,function(n,o){Ft(e,o,n)}),i.h&&Sr({},function(n,o){Ft(e,o,n)})}function $i(i,e,n){n=Math.min(i.j.length,n);var o=i.h?Ee(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let A=!0;for(let R=0;R<n;R++){let k=u[R].g;const z=u[R].map;if(k-=l,0>k)l=Math.max(0,u[R].g-100),A=!1;else try{Jo(z,f,"req"+k+"_")}catch{o&&o(z)}}if(A){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Fi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;It||Zt(),Lt||(It(),Lt=!0),cn.add(e,i),i.A=0}}function vs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ki(Ee(i.Ma,i),ao(i,i.A)),i.A++,0))}function oo(i){null!=i.B&&(De.clearTimeout(i.B),i.B=null)}function ei(i){i.g=new ws(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ss(i.wa);Ft(e,"RID","rpc"),Ft(e,"SID",i.K),Ft(e,"AID",i.V),Ft(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Ft(e,"TO",i.qa),Ft(e,"TYPE","xmlhttp"),yo(i,e),i.o&&i.s&&ea(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Jn(ss(e)),n.s=null,n.S=!0,Ae(n,i)}function bs(i){null!=i.v&&(De.clearTimeout(i.v),i.v=null)}function Ci(i,e){var n=null;if(i.g==e){bs(i),oo(i),i.g=null;var o=2}else{if(!Js(i.i,e))return;n=e.F,li(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;ar(o=js(),new hr(o,n)),mo(i)}else Fi(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Jc(i,e){return!(as(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ki(Ee(i.Na,i,e),ao(i,i.C)),i.C++,0)))}(i,e)||2==o&&vs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:ts(i,5);break;case 4:ts(i,10);break;case 3:ts(i,6);break;default:ts(i,2)}}function ao(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function ts(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=Ee(i.pb,i);n||(n=new Ji("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||Ys(n,"https"),Jn(n)),function Vs(i,e){const n=new Dt;if(De.Image){const o=new Image;o.onload=et(Ws,n,o,"TestLoadImage: loaded",!0,e),o.onerror=et(Ws,n,o,"TestLoadImage: error",!1,e),o.onabort=et(Ws,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=et(Ws,n,o,"TestLoadImage: timeout",!1,e),De.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else rr(2);i.H=0,i.h&&i.h.za(e),uo(i),na(i)}function uo(i){if(i.H=0,i.ma=[],i.h){const e=di(i.i);(0!=e.length||0!=i.j.length)&&(Ge(i.ma,e),Ge(i.ma,i.j),i.i.i.length=0,Yt(i.j),i.j.length=0),i.h.ya()}}function Ks(i,e,n){var o=n instanceof Ji?ss(n):new Ji(n);if(""!=o.g)e&&(o.g=e+"."+o.g),pr(o,o.m);else{var u=De.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ji(null);o&&Ys(l,o),e&&(l.g=e),u&&pr(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Ft(o,n,e),Ft(o,"VER",i.ra),yo(i,o),o}function Bo(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(n&&i.Ha&&!i.va?new kr({ob:!0}):i.va)).Oa(i.J),e}function jo(){}function vo(){if(He&&!(10<=Number(Wn)))throw Error("Environmental error: no available transport.")}function V(i,e){tr.call(this),this.g=new Uo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!sn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new M(this)}function m(i){$s.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function T(){fo.call(this),this.status=1}function M(i){this.g=i}function X(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _e(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function pe(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(ce=zn.prototype).Oa=function(i){this.M=i},ce.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fs.g(),this.C=function Ls(i){return i.h||(i.h=i.i())}(this.u?this.u:Fs),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Xs(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=De.FormData&&i instanceof De.FormData,!(0<=Et(za,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zc(this),0<this.B&&((this.L=function oc(i){return He&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=Yi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Xs(this,l)}},ce.ua=function(){typeof Se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ar(this,"complete"),ar(this,"abort"),Fo(this))},ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),zn.$.N.call(this)},ce.La=function(){this.s||(this.G||this.v||this.l?Ea(this):this.kb())},ce.kb=function(){Ea(this)},ce.isActive=function(){return!!this.g},ce.da=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),va(e)}},ce.Ia=function(){return this.m},ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Uo.prototype).ra=8,ce.H=1,ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ws(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Qt(l),An(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$i(this,u,e),Ft(n=ss(this.I),"RID",i),Ft(n,"CVER",22),this.F&&Ft(n,"X-HTTP-Session-Id",this.F),yo(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Gs(l)))+"&"+e:this.o&&ea(n,this.o,l)),Rn(this.i,u),this.bb&&Ft(n,"TYPE","init"),this.P?(Ft(n,"$req",e),Ft(n,"SID","null"),u.aa=!0,Ke(u,n,null)):Ke(u,n,e),this.H=2}}else 3==this.H&&(i?_o(this,i):0==this.j.length||ys(this.i)||_o(this))},ce.Ma=function(){if(this.u=null,ei(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ki(Ee(this.jb,this),i)}},ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rr(10),go(this),ei(this))},ce.ib=function(){null!=this.v&&(this.v=null,go(this),vs(this),rr(19))},ce.pb=function(i){i?(this.l.info("Successfully pinged google.com"),rr(2)):(this.l.info("Failed to ping google.com"),rr(1))},ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(ce=jo.prototype).Ba=function(){},ce.Aa=function(){},ce.za=function(){},ce.ya=function(){},ce.isActive=function(){return!0},ce.Va=function(){},vo.prototype.g=function(i,e){return new V(i,e)},ot(V,tr),V.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;rr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ks(i,null,i.Y),mo(i)},V.prototype.close=function(){ta(this.g)},V.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Ur(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&mo(e)},V.prototype.N=function(){this.g.h=null,delete this.j,ta(this.g),delete this.g,V.$.N.call(this)},ot(m,$s),ot(T,fo),ot(M,jo),M.prototype.Ba=function(){ar(this.g,"a")},M.prototype.Aa=function(i){ar(this.g,new m(i))},M.prototype.za=function(i){ar(this.g,new T)},M.prototype.ya=function(){ar(this.g,"b")},ot(X,function B(){this.blockSize=-1}),X.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},X.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)_e(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){_e(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){_e(this,o),u=0;break}}this.h=u,this.i+=e},X.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var xe={};function Qe(i){return-128<=i&&128>i?function $e(i,e){var n=xe;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new pe([0|e],0>e?-1:0)}):new pe([0|i],0>i?-1:0)}function wt(i){if(isNaN(i)||!isFinite(i))return In;if(0>i)return Vn(wt(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=On;return new pe(e,0)}var On=4294967296,In=Qe(0),en=Qe(1),mn=Qe(16777216);function qn(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ur(i){return-1==i.h}function Vn(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new pe(n,~i.h).add(en)}function qr(i,e){return i.add(Vn(e))}function Lr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function D(i,e){this.g=i,this.h=e}function U(i,e){if(qn(e))throw Error("division by zero");if(qn(i))return new D(In,In);if(ur(i))return e=U(Vn(i),e),new D(Vn(e.g),Vn(e.h));if(ur(e))return e=U(i,Vn(e)),new D(Vn(e.g),e.h);if(30<i.g.length){if(ur(i)||ur(e))throw Error("slowDivide_ only works with positive integers.");for(var n=en,o=e;0>=o.X(i);)n=P(n),o=P(o);var u=L(n,1),l=L(o,1);for(o=L(o,2),n=L(n,2);!qn(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=L(o,1),n=L(n,1)}return e=qr(i,u.R(e)),new D(u,e)}for(u=In;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=wt(n)).R(e);ur(f)||0<f.X(i);)f=(l=wt(n-=o)).R(e);qn(l)&&(l=en),u=u.add(l),i=qr(i,f)}return new D(u,i)}function P(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new pe(n,i.h)}function L(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new pe(u,i.h)}(ce=pe.prototype).ea=function(){if(ur(this))return-Vn(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:On+o)*e,e*=On}return i},ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(qn(this))return"0";if(ur(this))return"-"+Vn(this).toString(i);for(var e=wt(Math.pow(i,6)),n=this,o="";;){var u=U(n,e).g,l=((0<(n=qr(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(qn(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ce.X=function(i){return ur(i=qr(this,i))?-1:qn(i)?0:1},ce.abs=function(){return ur(this)?Vn(this):this},ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new pe(n,-2147483648&n[n.length-1]?-1:0)},ce.R=function(i){if(qn(this)||qn(i))return In;if(ur(this))return ur(i)?Vn(this).R(Vn(i)):Vn(Vn(this).R(i));if(ur(i))return Vn(this.R(Vn(i)));if(0>this.X(mn)&&0>i.X(mn))return wt(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),A=i.D(u)>>>16,R=65535&i.D(u);n[2*o+2*u]+=f*R,Lr(n,2*o+2*u),n[2*o+2*u+1]+=l*R,Lr(n,2*o+2*u+1),n[2*o+2*u+1]+=f*A,Lr(n,2*o+2*u+1),n[2*o+2*u+2]+=l*A,Lr(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new pe(n,0)},ce.gb=function(i){return U(this,i).h},ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new pe(n,this.h&i.h)},ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new pe(n,this.h|i.h)},ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new pe(n,this.h^i.h)},vo.prototype.createWebChannel=vo.prototype.g,V.prototype.send=V.prototype.u,V.prototype.open=V.prototype.m,V.prototype.close=V.prototype.close,gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,ms.COMPLETE="complete",Jr.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",tr.prototype.listen=tr.prototype.O,zn.prototype.listenOnce=zn.prototype.P,zn.prototype.getLastError=zn.prototype.Sa,zn.prototype.getLastErrorCode=zn.prototype.Ia,zn.prototype.getStatus=zn.prototype.da,zn.prototype.getResponseJson=zn.prototype.Wa,zn.prototype.getResponseText=zn.prototype.ja,zn.prototype.send=zn.prototype.ha,zn.prototype.setWithCredentials=zn.prototype.Oa,X.prototype.digest=X.prototype.l,X.prototype.reset=X.prototype.reset,X.prototype.update=X.prototype.j,pe.prototype.add=pe.prototype.add,pe.prototype.multiply=pe.prototype.R,pe.prototype.modulo=pe.prototype.gb,pe.prototype.compare=pe.prototype.X,pe.prototype.toNumber=pe.prototype.ea,pe.prototype.toString=pe.prototype.toString,pe.prototype.getBits=pe.prototype.D,pe.fromNumber=wt,pe.fromString=function Rt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Vn(Rt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wt(Math.pow(e,8)),o=In,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=wt(Math.pow(e,l)),o=o.R(l).add(wt(f))):o=(o=o.R(n)).add(wt(f))}return o};var oe=fe.createWebChannelTransport=function(){return new vo},Me=fe.getStatEventTarget=function(){return js()},tt=fe.ErrorCode=gs,Ht=fe.EventType=ms,Hn=fe.Event=mi,cr=fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sr=fe.FetchXmlHttpFactory=kr,ut=fe.WebChannel=Jr,bt=fe.XhrIo=zn,xt=fe.Md5=X,on=fe.Integer=pe;const or="@firebase/firestore";class xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let jr="10.5.2";const Ar=new ue.Yd("@firebase/firestore");function Qn(){return Ar.logLevel}function Xe(i,...e){if(Ar.logLevel<=ue.in.DEBUG){const n=e.map(Si);Ar.debug(`Firestore (${jr}): ${i}`,...n)}}function Un(i,...e){if(Ar.logLevel<=ue.in.ERROR){const n=e.map(Si);Ar.error(`Firestore (${jr}): ${i}`,...n)}}function Cn(i,...e){if(Ar.logLevel<=ue.in.WARN){const n=e.map(Si);Ar.warn(`Firestore (${jr}): ${i}`,...n)}}function Si(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bt(i="Unexpected state"){const e=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: `+i;throw Un(e),new Error(e)}function kt(i,e){i||Bt()}function Pt(i,e){return i}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends J.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Xc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class Eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Io{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let f=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ti,e.enqueueRetryable(()=>l(this.currentUser))};const A=()=>{const k=f;e.enqueueRetryable((0,Q.Z)(function*(){yield k.promise,yield l(o.currentUser)}))},R=k=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(k=>R(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?R(k):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ti)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kt("string"==typeof o.accessToken),new Xc(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new xn(e)}}class td{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nd{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new td(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ac{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,Xe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt("string"==typeof n.token),this.R=n.token,new Tu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ia{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=fn(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function bn(i,e){return i<e?-1:i>e?1:0}function Ta(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class ni{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new nt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new nt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new ni(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new ni(0,0))}static max(){return new rn(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $o{constructor(e,n,o){void 0===n?n=0:n>e.length&&Bt(),void 0===o?o=e.length-n:o>e.length-n&&Bt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===$o.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $o?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lr extends $o{construct(e,n,o){return new lr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new nt(Be.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new lr(n)}static emptyPath(){return new lr([])}}const Ah=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends $o{construct(e,n,o){return new Qr(e,n,o)}static isValidIdentifier(e){return Ah.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new nt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new nt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new nt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===A?(f=!f,u++):"."!==A||f?(o+=A,u++):(l(),u++)}if(l(),f)throw new nt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(n)}static emptyPath(){return new Qr([])}}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(lr.fromString(e))}static fromName(e){return new Mt(lr.fromString(e).popFirst(5))}static empty(){return new Mt(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new lr(e.slice()))}}function qs(i){return new cs(i.readTime,i.key,-1)}class cs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new cs(rn.min(),Mt.empty(),-1)}static max(){return new cs(rn.max(),Mt.empty(),-1)}}function Ho(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Mt.comparator(i.documentKey,e.documentKey),0!==n?n:bn(i.largestBatchId,e.largestBatchId))}const el="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function eo(i){return ls.apply(this,arguments)}function ls(){return ls=(0,Q.Z)(function*(i){if(i.code!==Be.FAILED_PRECONDITION||i.message!==el)throw i;Xe("LocalStore","Unexpectedly lost primary lease")}),ls.apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,o)=>{n(e)})}static reject(e){return new be((n,o)=>{o(e)})}static waitFor(e){return new be((n,o)=>{let u=0,l=0,f=!1;e.forEach(A=>{++u,A.next(()=>{++l,f&&l===u&&n()},R=>o(R))}),f=!0,l===u&&n()})}static or(e){let n=be.resolve(!1);for(const o of e)n=n.next(u=>u?be.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new be((o,u)=>{const l=e.length,f=new Array(l);let A=0;for(let R=0;R<l;R++){const k=R;n(e[k]).next(z=>{f[k]=z,++A,A===l&&o(f)},z=>u(z))}})}static doWhile(e,n){return new be((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function S(i){return"IndexedDbTransactionError"===i.name}let pn=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function br(i){return null==i}function Bn(i){return 0===i&&1/i==-1/0}function sl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function sa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Sh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ri{constructor(e,n){this.comparator=e,this.root=n||ds.EMPTY}insert(e,n){return new ri(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??ds.RED,this.left=u??ds.EMPTY,this.right=l??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new ds(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ds.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new ds(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Aa(this.data.getIterator())}getIteratorFrom(e){return new Aa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fr(this.comparator);return n.data=e,n}}class Aa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new zi([])}unionWith(e){let n=new Fr(Qr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Su extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Su("Invalid base64 string: "+l):l}}(e);return new bi(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new bi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const Rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(i){if(kt(!!i),"string"==typeof i){let e=0;const n=Rh.exec(i);if(kt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:hi(i.seconds),nanos:hi(i.nanos)}}function hi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Hi(i){return"string"==typeof i?bi.fromBase64String(i):bi.fromUint8Array(i)}function bu(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ru(i){const e=i.mapValue.fields.__previous_value__;return bu(e)?Ru(e):e}function Qa(i){const e=oa(i.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class cd{constructor(e,n,o,u,l,f,A,R,k){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=k}}class To{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bu(i)?4:hc(i)?9007199254740991:10:Bt()}function Wo(i,e){if(i===e)return!0;const n=Do(i);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Qa(i).isEqual(Qa(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=oa(u.timestampValue),A=oa(l.timestampValue);return f.seconds===A.seconds&&f.nanos===A.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Hi(i.bytesValue).isEqual(Hi(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return hi(u.geoPointValue.latitude)===hi(l.geoPointValue.latitude)&&hi(u.geoPointValue.longitude)===hi(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return hi(u.integerValue)===hi(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=hi(u.doubleValue),A=hi(l.doubleValue);return f===A?Bn(f)===Bn(A):isNaN(f)&&isNaN(A)}return!1}(i,e);case 9:return Ta(i.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(u,l){const f=u.mapValue.fields||{},A=l.mapValue.fields||{};if(sl(f)!==sl(A))return!1;for(const R in f)if(f.hasOwnProperty(R)&&(void 0===A[R]||!Wo(f[R],A[R])))return!1;return!0}(i,e);default:return Bt()}var l}function Pu(i,e){return void 0!==(i.values||[]).find(n=>Wo(n,e))}function wo(i,e){if(i===e)return 0;const n=Do(i),o=Do(e);if(n!==o)return bn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return bn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const A=hi(l.integerValue||l.doubleValue),R=hi(f.integerValue||f.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(i,e);case 3:return up(i.timestampValue,e.timestampValue);case 4:return up(Qa(i),Qa(e));case 5:return bn(i.stringValue,e.stringValue);case 6:return function(l,f){const A=Hi(l),R=Hi(f);return A.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const A=l.split("/"),R=f.split("/");for(let k=0;k<A.length&&k<R.length;k++){const z=bn(A[k],R[k]);if(0!==z)return z}return bn(A.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const A=bn(hi(l.latitude),hi(f.latitude));return 0!==A?A:bn(hi(l.longitude),hi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const A=l.values||[],R=f.values||[];for(let k=0;k<A.length&&k<R.length;++k){const z=wo(A[k],R[k]);if(z)return z}return bn(A.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===aa.mapValue&&f===aa.mapValue)return 0;if(l===aa.mapValue)return 1;if(f===aa.mapValue)return-1;const A=l.fields||{},R=Object.keys(A),k=f.fields||{},z=Object.keys(k);R.sort(),z.sort();for(let te=0;te<R.length&&te<z.length;++te){const ve=bn(R[te],z[te]);if(0!==ve)return ve;const Fe=wo(A[R[te]],k[z[te]]);if(0!==Fe)return Fe}return bn(R.length,z.length)}(i.mapValue,e.mapValue);default:throw Bt()}}function up(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return bn(i,e);const n=oa(i),o=oa(e),u=bn(n.seconds,o.seconds);return 0!==u?u:bn(n.nanos,o.nanos)}function ua(i){return Ao(i)}function Ao(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=oa(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Hi(i.bytesValue).toBase64():"referenceValue"in i?Mt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=Ao(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${Ao(n.fields[f])}`;return u+"}"}(i.mapValue):Bt()}function Go(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dc(i){return!!i&&"integerValue"in i}function Co(i){return!!i&&"arrayValue"in i}function dd(i){return!!i&&"nullValue"in i}function hs(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function al(i){return!!i&&"mapValue"in i}function Mu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return sa(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Mu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function hc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Qr.emptyPath(),o={},u=[];e.forEach((f,A)=>{if(!n.isImmediateParentOf(A)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=A.popLast()}f?o[A.lastSegment()]=Mu(f):u.push(A.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];al(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){sa(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ri(Mu(this.value))}}function Ya(i){const e=[];return sa(i.fields,(n,o)=>{const u=new Qr([n]);if(al(o)){const l=Ya(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new zi(e)}class Yr{constructor(e,n,o,u,l,f,A){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=A}static newInvalidDocument(e){return new Yr(e,0,rn.min(),rn.min(),rn.min(),Ri.empty(),0)}static newFoundDocument(e,n,o,u){return new Yr(e,1,n,rn.min(),o,u,0)}static newNoDocument(e,n){return new Yr(e,2,n,rn.min(),rn.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new Yr(e,3,n,rn.min(),rn.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class co{constructor(e,n){this.position=e,this.inclusive=n}}function Za(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Mt.comparator(Mt.fromName(f.referenceValue),n.key):wo(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function cp(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wo(i.position[n],e.position[n]))return!1;return!0}class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function wm(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class cl{}class gr extends cl{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new lp(e,n,o):"array-contains"===n?new pc(e,o):"in"===n?new ku(e,o):"not-in"===n?new dp(e,o):"array-contains-any"===n?new Am(e,o):new gr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new lo(e,o):new Nu(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wo(n,this.value)):null!==n&&Do(this.value)===Do(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends cl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new $r(e,n)}matches(e){return fc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function fc(i){return"and"===i.op}function Ca(i){return function xh(i){for(const e of i.filters)if(e instanceof $r)return!1;return!0}(i)&&fc(i)}function hd(i){if(i instanceof gr)return i.field.canonicalString()+i.op.toString()+ua(i.value);if(Ca(i))return i.filters.map(e=>hd(e)).join(",");{const e=i.filters.map(n=>hd(n)).join(",");return`${i.op}(${e})`}}function Wi(i,e){return i instanceof gr?(o=i,(u=e)instanceof gr&&o.op===u.op&&o.field.isEqual(u.field)&&Wo(o.value,u.value)):i instanceof $r?function(o,u){return u instanceof $r&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,A)=>l&&Wi(f,u.filters[A]),!0)}(i,e):void Bt();var o,u}function xu(i){return i instanceof gr?`${(n=i).field.canonicalString()} ${n.op} ${ua(n.value)}`:i instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(xu).join(" ,")+"}"}(i):"Filter";var n}class lp extends gr{constructor(e,n,o){super(e,n,o),this.key=Mt.fromName(o.referenceValue)}matches(e){const n=Mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class lo extends gr{constructor(e,n){super(e,"in",n),this.keys=fd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nu extends gr{constructor(e,n){super(e,"not-in",n),this.keys=fd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fd(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Mt.fromName(o.referenceValue))}class pc extends gr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Co(n)&&Pu(n.arrayValue,this.value)}}class ku extends gr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Pu(this.value.arrayValue,n)}}class dp extends gr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Pu(this.value.arrayValue,n)}}class Am extends gr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Co(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Pu(this.value.arrayValue,o))}}class hp{constructor(e,n=null,o=[],u=[],l=null,f=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=A,this.ce=null}}function Nh(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hp(i,e,n,o,u,l,f)}function Gi(i){const e=Pt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>hd(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),br(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ua(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ua(o)).join(",")),e.ce=n}return e.ce}function la(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!wm(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Wi(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cp(i.startAt,e.startAt)&&cp(i.endAt,e.endAt)}function da(i){return Mt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Sa{constructor(e,n=null,o=[],u=[],l=null,f="F",A=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=A,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function mc(i){return new Sa(i)}function fp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function _c(i){return null!==i.collectionGroup}function ha(i){const e=Pt(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let A=new Fr(Qr.comparator);return f.filters.forEach(R=>{R.getFlattenedFilters().forEach(k=>{k.isInequality()&&(A=A.add(k.field))})}),A})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new Ou(l,o))}),n.has(Qr.keyField().canonicalString())||e.le.push(new Ou(Qr.keyField(),o))}return e.le}function ji(i){const e=Pt(i);return e.he||(e.he=function dl(i,e){if("F"===i.limitType)return Nh(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Ou(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new co(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new co(i.startAt.position,i.startAt.inclusive):null;return Nh(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,ha(i))),e.he}function Ja(i,e){const n=i.filters.concat([e]);return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hl(i,e,n){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ba(i,e){return la(ji(i),ji(e))&&i.limitType===e.limitType}function Lh(i){return`${Gi(ji(i))}|lt:${i.limitType}`}function Xa(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>xu(u)).join(", ")}]`),br(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>ua(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>ua(u)).join(",")),`Target(${o})`}(ji(i))}; limitType=${i.limitType})`}function eu(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Mt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of ha(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,A,R){const k=Za(f,A,R);return f.inclusive?k<=0:k<0}(o.startAt,ha(o),u)||o.endAt&&!function(f,A,R){const k=Za(f,A,R);return f.inclusive?k>=0:k>0}(o.endAt,ha(o),u)));var o,u}function md(i){return(e,n)=>{let o=!1;for(const u of ha(i)){const l=pp(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function pp(i,e,n){const o=i.field.isKeyField()?Mt.comparator(e.key,n.key):function(l,f,A){const R=f.data.field(l),k=A.data.field(l);return null!==R&&null!==k?wo(R,k):Bt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Bt()}}class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Sh(this.inner)}size(){return this.innerSize}}const fa=new ri(Mt.comparator);function ns(){return fa}const gp=new ri(Mt.comparator);function Fu(...i){let e=gp;for(const n of i)e=e.insert(n.key,n);return e}function _d(i){let e=gp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function qo(){return yc()}function mp(){return yc()}function yc(){return new Ko(i=>i.toString(),(i,e)=>i.isEqual(e))}const _p=new ri(Mt.comparator),yp=new Fr(Mt.comparator);function Mn(...i){let e=yp;for(const n of i)e=e.add(n);return e}const vp=new Fr(bn);function Vh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bn(e)?"-0":e}}function Cm(i){return{integerValue:""+i}}function Uh(i,e){return function Rs(i){return"number"==typeof i&&Number.isInteger(i)&&!Bn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Cm(e):Vh(i,e)}class Bh{constructor(){this._=void 0}}function Sm(i,e,n){return i instanceof fl?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&bu(l)&&(l=Ru(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof vc?pl(i,e):i instanceof Ec?bm(i,e):function(u,l){const f=yd(u,l),A=Rm(f)+Rm(u.Ie);return dc(f)&&dc(u.Ie)?Cm(A):Vh(u.serializer,A)}(i,e)}function Ep(i,e,n){return i instanceof vc?pl(i,e):i instanceof Ec?bm(i,e):n}function yd(i,e){return i instanceof gl?dc(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class fl extends Bh{}class vc extends Bh{constructor(e){super(),this.elements=e}}function pl(i,e){const n=Pm(e);for(const o of i.elements)n.some(u=>Wo(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ec extends Bh{constructor(e){super(),this.elements=e}}function bm(i,e){let n=Pm(e);for(const o of i.elements)n=n.filter(u=>!Wo(u,o));return{arrayValue:{values:n}}}class gl extends Bh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Rm(i){return hi(i.integerValue||i.doubleValue)}function Pm(i){return Co(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ed{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yl{}function Vu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new tu(i.key,fi.none()):new Ra(i.key,i.data,fi.none());{const n=i.data,o=Ri.empty();let u=new Fr(Qr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Pa(i.key,o,new zi(u.toArray()),fi.none())}}function Ip(i,e,n){i instanceof Ra?function(u,l,f){const A=u.value.clone(),R=Dp(u.fieldTransforms,l,f.transformResults);A.setAll(R),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):i instanceof Pa?function(u,l,f){if(!_l(u.precondition,l))return void l.convertToUnknownDocument(f.version);const A=Dp(u.fieldTransforms,l,f.transformResults),R=l.data;R.setAll(Tp(u)),R.setAll(A),l.convertToFoundDocument(f.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ic(i,e,n,o){return i instanceof Ra?function(l,f,A,R){if(!_l(l.precondition,f))return A;const k=l.value.clone(),z=jh(l.fieldTransforms,R,f);return k.setAll(z),f.convertToFoundDocument(f.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof Pa?function(l,f,A,R){if(!_l(l.precondition,f))return A;const k=jh(l.fieldTransforms,R,f),z=f.data;return z.setAll(Tp(l)),z.setAll(k),f.convertToFoundDocument(f.version,z).setHasLocalMutations(),null===A?null:A.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(te=>te.field))}(i,e,n,o):(A=n,_l(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):A);var f,A}function Id(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=yd(o.transform,u||null);null!=l&&(null===n&&(n=Ri.empty()),n.set(o.field,l))}return n||null}function vl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Ta(o,u,(l,f)=>function vd(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof vc&&u instanceof vc||o instanceof Ec&&u instanceof Ec?Ta(o.elements,u.elements,Wo):o instanceof gl&&u instanceof gl?Wo(o.Ie,u.Ie):o instanceof fl&&u instanceof fl);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Ra extends yl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Pa extends yl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Tp(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Dp(i,e,n){const o=new Map;kt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,A=e.data.field(l.field);o.set(l.field,Ep(f,A,n[u]))}return o}function jh(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Sm(l,f,e))}return o}class tu extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ip(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ic(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ic(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=mp();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let A=this.applyToLocalView(f,l.mutatedFields);A=n.has(u.key)?null:A;const R=Vu(f,A);null!==R&&o.set(u.key,R),f.isValidDocument()||f.convertToNoDocument(rn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Mn())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,o)=>vl(n,o))&&Ta(this.baseMutations,e.baseMutations,(n,o)=>vl(n,o))}}class Hh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){kt(e.mutations.length===o.length);let u=_p;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Hh(e,n,o,u)}}class Td{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wp{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cr,mr;function Dd(i){if(void 0===i)return Un("GRPC error has no .code"),Be.UNKNOWN;switch(i){case Cr.OK:return Be.OK;case Cr.CANCELLED:return Be.CANCELLED;case Cr.UNKNOWN:return Be.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return Be.INTERNAL;case Cr.UNAVAILABLE:return Be.UNAVAILABLE;case Cr.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case Cr.NOT_FOUND:return Be.NOT_FOUND;case Cr.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case Cr.ABORTED:return Be.ABORTED;case Cr.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case Cr.DATA_LOSS:return Be.DATA_LOSS;default:return Bt()}}(mr=Cr||(Cr={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";const Ap=new on([4294967295,4294967295],0);function Gh(i){const e=function Tc(){return new TextEncoder}().encode(i),n=new xt;return n.update(e),new Uint8Array(n.digest())}function Cp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new on([n,o],0),new on([u,l],0)]}class wd{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(o<0)throw new El(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new El(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=on.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(on.fromNumber(o)));return 1===u.compare(Ap)&&(u=new on([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Gh(e),[o,u]=Cp(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new wd(l,u,n);return o.forEach(A=>f.insert(A)),f}insert(e){if(0===this.Te)return;const n=Gh(e),[o,u]=Cp(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Dc(rn.min(),u,new ri(bn),ns(),Mn())}}class Il{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Il(o,n,Mn(),Mn(),Mn())}}class Tl{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class Sp{constructor(e,n){this.targetId=e,this.fe=n}}class I{constructor(e,n,o=bi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class h{constructor(){this.ge=0,this.pe=F(),this.ye=bi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Mn(),n=Mn(),o=Mn();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Bt()}}),new Il(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=F()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class p{constructor(e){this.Le=e,this.ke=new Map,this.qe=ns(),this.Qe=w(),this.Ke=new ri(bn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(da(l))if(0===o){const f=new Mt(l.path);this.We(n,f,Yr.newNoDocument(f,rn.min()))}else kt(1===o);else{const f=this.Ze(n);if(f!==o){const A=this.Xe(e),R=A?this.et(A,e,f):1;0!==R&&(this.He(n),this.Ke=this.Ke.insert(n,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,A;try{f=Hi(o).toUint8Array()}catch(R){if(R instanceof Su)return Cn("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{A=new wd(f,u,l)}catch(R){return Cn(R instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===A.Te?null:A}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),A=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(A)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const A=this.Ye(f);if(A){if(l.current&&da(A.target)){const R=new Mt(A.target.path);null!==this.qe.get(R)||this.st(f,R)||this.We(f,R,Yr.newNoDocument(R,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=Mn();this.Qe.forEach((l,f)=>{let A=!0;f.forEachWhile(R=>{const k=this.Ye(R);return!k||"TargetPurposeLimboResolution"===k.purpose||(A=!1,!1)}),A&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new Dc(e,n,this.Ke,this.qe,o);return this.qe=ns(),this.Qe=w(),this.Ke=new ri(bn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new h,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Fr(bn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new h),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w(){return new ri(Mt.comparator)}function F(){return new ri(Mt.comparator)}const Z={asc:"ASCENDING",desc:"DESCENDING"},Te={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ze={and:"AND",or:"OR"};class gt{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qt(i,e){return i.useProto3Json||br(e)?e:{value:e}}function Jt(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yn(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Us(i,e){return Jt(i,e.toTimestamp())}function Or(i){return kt(!!i),rn.fromTimestamp(function(n){const o=oa(n);return new ni(o.seconds,o.nanos)}(i))}function pa(i,e){return(o=i,new lr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Ad(i){const e=lr.fromString(i);return kt(Rd(e)),e}function nu(i,e){return pa(i.databaseId,e.path)}function So(i,e){const n=Ad(e);if(n.get(1)!==i.databaseId.projectId)throw new nt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new nt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Mt(Al(n))}function Dl(i,e){return pa(i.databaseId,e)}function Uu(i){return new lr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Al(i){return kt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ru(i,e,n){return{name:nu(i,e),fields:n.value.mapValue.fields}}function Bu(i,e){return{documents:[Dl(i,e.path)]}}function Kh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Dl(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dl(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0!==R.length)return Qh($r.create(R,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(k=>{return{field:iu((te=k).field),direction:qh(te.dir)};var te})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=qt(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),n;var R}function bp(i){let e=function wl(i){const e=Ad(i);return 4===e.length?lr.emptyPath():Al(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){kt(1===o);const z=n.from[0];z.allDescendants?u=z.collectionId:e=e.child(z.collectionId)}let l=[];n.where&&(l=function(te){const ve=My(te);return ve instanceof $r&&Ca(ve)?ve.getFilters():[ve]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ve=>{return new Ou(Cc((_t=ve).field),function(Ct){switch(Ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_t.direction));var _t}));let A=null;n.limit&&(A=function(te){let ve;return ve="object"==typeof te?te.value:te,br(ve)?null:ve}(n.limit));let R=null;var te;n.startAt&&(R=new co((te=n.startAt).values||[],!!te.before));let k=null;return n.endAt&&(k=function(te){return new co(te.values||[],!te.before)}(n.endAt)),function gd(i,e,n,o,u,l,f,A){return new Sa(i,e,n,o,u,l,f,A)}(e,u,f,l,A,"F",R,k)}function My(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Cc(n.unaryFilter.field);return gr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Cc(n.unaryFilter.field);return gr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cc(n.unaryFilter.field);return gr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cc(n.unaryFilter.field);return gr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(i):void 0!==i.fieldFilter?gr.create(Cc((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return $r.create(n.compositeFilter.filters.map(o=>My(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Bt()}}(n.compositeFilter.op))}(i):Bt();var n}function qh(i){return Z[i]}function Oy(i){return Te[i]}function xm(i){return ze[i]}function iu(i){return{fieldPath:i.canonicalString()}}function Cc(i){return Qr.fromServerFormat(i.fieldPath)}function Qh(i){return i instanceof gr?function(n){if("=="===n.op){if(hs(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NAN"}};if(dd(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(hs(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NOT_NAN"}};if(dd(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(n.field),op:Oy(n.op),value:n.value}}}(i):i instanceof $r?function(n){const o=n.getFilters().map(u=>Qh(u));return 1===o.length?o[0]:{compositeFilter:{op:xm(n.op),filters:o}}}(i):Bt()}function Nm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class bo{constructor(e,n,o,u,l=rn.min(),f=rn.min(),A=bi.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=A,this.expectedCount=R}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rp{constructor(e){this.ut=e}}function Mp(i){const e=bp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hl(e,e.limit,"L"):e}class Sl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(hi(e.integerValue));else if("doubleValue"in e){const o=hi(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),Bn(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Hi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?hc(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Bt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),Mt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Sl.St=new Sl;class Ly{constructor(){this.on=new Vp}addToCollectionParentIndex(e,n){return this.on.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(cs.min())}updateCollectionGroup(e,n,o){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class Vp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Fr(lr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Fr(lr.comparator)).toArray()}}new Uint8Array(0);class Pi{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class au{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new au(0)}static Nn(){return new au(-1)}}class zp{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?be.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Wm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Ic(o.mutation,u,zi.empty(),ni.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Mn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Mn()){const u=qo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Fu();return l.forEach((A,R)=>{f=f.insert(A,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=qo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Mn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,A)=>{n.set(f,A)})})}computeViews(e,n,o,u){let l=ns();const f=yc(),A=yc();return n.forEach((R,k)=>{const z=o.get(k.key);u.has(k.key)&&(void 0===z||z.mutation instanceof Pa)?l=l.insert(k.key,k):void 0!==z?(f.set(k.key,z.mutation.getFieldMask()),Ic(z.mutation,k,z.mutation.getFieldMask(),ni.now())):f.set(k.key,zi.empty())}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((k,z)=>f.set(k,z)),n.forEach((k,z)=>{var te;return A.set(k,new Hy(z,null!==(te=f.get(k))&&void 0!==te?te:null))}),A))}recalculateAndSaveOverlays(e,n){const o=yc();let u=new ri((f,A)=>f-A),l=Mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const A of f)A.keys().forEach(R=>{const k=n.get(R);if(null===k)return;let z=o.get(R)||zi.empty();z=A.applyToLocalView(k,z),o.set(R,z);const te=(u.get(A.batchId)||Mn()).add(R);u=u.insert(A.batchId,te)})}).next(()=>{const f=[],A=u.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),k=R.key,z=R.value,te=mp();z.forEach(ve=>{if(!l.has(ve)){const Fe=Vu(n.get(ve),o.get(ve));null!==Fe&&te.set(ve,Fe),l=l.add(ve)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,te))}return be.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return Mt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):_c(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):be.resolve(qo());let A=-1,R=l;return f.next(k=>be.forEach(k,(z,te)=>(A<te.largestBatchId&&(A=te.largestBatchId),l.get(z)?be.resolve():this.remoteDocumentCache.getEntry(e,z).next(ve=>{R=R.insert(z,ve)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,R,k,Mn())).next(z=>({batchId:A,changes:_d(z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Mt(n)).next(o=>{let u=Fu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=Fu();return this.indexManager.getCollectionParents(e,l).next(A=>be.forEach(A,R=>{const k=(te=n,ve=R.child(l),new Sa(ve,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,ve;return this.getDocumentsMatchingCollectionQuery(e,k,o,u).next(z=>{z.forEach((te,ve)=>{f=f.insert(te,ve)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((R,k)=>{const z=k.getKey();null===f.get(z)&&(f=f.insert(z,Yr.newInvalidDocument(z)))});let A=Fu();return f.forEach((R,k)=>{const z=l.get(R);void 0!==z&&Ic(z.mutation,k,zi.empty(),ni.now()),eu(n,k)&&(A=A.insert(R,k))}),A})}}class Gm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return be.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Or(u.createTime)}),be.resolve();var u}getNamedQuery(e,n){return be.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Mp(u.bundledQuery),readTime:Or(u.readTime)}),be.resolve();var u}}class vI{constructor(){this.overlays=new ri(Mt.comparator),this.lr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const o=qo();return be.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),be.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),be.resolve()}getOverlaysForCollection(e,n,o){const u=qo(),l=n.length+1,f=new Mt(n.child("")),A=this.overlays.getIteratorFrom(f);for(;A.hasNext();){const R=A.getNext().value,k=R.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return be.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new ri((k,z)=>k-z);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>o){let z=l.get(k.largestBatchId);null===z&&(z=qo(),l=l.insert(k.largestBatchId,z)),z.set(k.getKey(),k)}}const A=qo(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((k,z)=>A.set(k,z)),!(A.size()>=u)););return be.resolve(A)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Td(n,o));let l=this.lr.get(n);void 0===l&&(l=Mn(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Km{constructor(){this.hr=new Fr(Ki.Pr),this.Ir=new Fr(Ki.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Ki(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Ki(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new Mt(new lr([])),o=new Ki(n,e),u=new Ki(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Mt(new lr([])),o=new Ki(n,e),u=new Ki(n,e+1);let l=Mn();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Ki(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ki{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Mt.comparator(e.key,n.key)||bn(e.gr,n.gr)}static Tr(e,n){return bn(e.gr,n.gr)||Mt.comparator(e.key,n.key)}}class Bd{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Fr(Ki.Pr)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new zh(l,n,o,u);this.mutationQueue.push(f);for(const A of u)this.yr=this.yr.add(new Ki(A.key,l)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return be.resolve(f)}lookupMutationBatch(e,n){return be.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return be.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ki(n,0),u=new Ki(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const A=this.wr(f.gr);l.push(A)}),be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Fr(bn);return n.forEach(u=>{const l=new Ki(u,0),f=new Ki(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],A=>{o=o.add(A.gr)})}),be.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Mt.isDocumentKey(l)||(l=l.child(""));const f=new Ki(new Mt(l),0);let A=new Fr(bn);return this.yr.forEachWhile(R=>{const k=R.key.path;return!!o.isPrefixOf(k)&&(k.length===u&&(A=A.add(R.gr)),!0)},f),be.resolve(this.br(A))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){kt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return be.forEach(n.mutations,u=>{const l=new Ki(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Ki(n,0),u=this.yr.firstAfterOrEqual(o);return be.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return be.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qm{constructor(e){this.Cr=e,this.docs=new ri(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return be.resolve(o?o.document.mutableCopy():Yr.newInvalidDocument(n))}getEntries(e,n){let o=ns();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Yr.newInvalidDocument(u))}),be.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=ns();const f=n.path,A=new Mt(f.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:k,value:{document:z}}=R.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||Ho(qs(z),o)<=0||(u.has(z.key)||eu(n,z))&&(l=l.insert(z.key,z.mutableCopy()))}return be.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Bt()}vr(e,n){return be.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Qm(this)}getSize(e){return be.resolve(this.size)}}class Qm extends zp{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),be.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Hp{constructor(e){this.persistence=e,this.Fr=new Ko(n=>Gi(n),la),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Km,this.targetCount=0,this.Nr=au.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),be.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new au(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.kn(n),be.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),be.waitFor(l).next(()=>u)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return be.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),be.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),be.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return be.resolve(o)}containsKey(e,n){return be.resolve(this.Or.containsKey(n))}}class jd{constructor(e,n){this.Br={},this.overlays={},this.Lr=new pn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Hp(this),this.indexManager=new Ly,this.remoteDocumentCache=new qm(o=>this.referenceDelegate.Qr(o)),this.serializer=new Rp(n),this.Kr=new Gm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new Bd(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Xe("MemoryPersistence","Starting transaction:",e);const u=new Wy(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return be.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Wy extends uc{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Gr=new Km,this.zr=null}static jr(e){return new $d(e)}get Hr(){if(this.zr)return this.zr;throw Bt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),be.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),be.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Hr,o=>{const u=Mt.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,rn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return be.or([()=>be.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class lu{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=Mn(),u=Mn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new lu(e,n.fromCache,o,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Ky;return this.Hi(e,n,f).next(A=>{if(l.result=A,this.$i)return this.Ji(e,n,f,A.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(Qn()<=ue.in.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),be.resolve()):(Qn()<=ue.in.DEBUG&&Xe("QueryEngine","Query:",Xa(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(Qn()<=ue.in.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):be.resolve())}zi(e,n){if(fp(n))return be.resolve(null);let o=ji(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=hl(n,null,"F"),o=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Mn(...l);return this.Gi.getDocuments(e,f).next(A=>this.indexManager.getMinOffset(e,o).next(R=>{const k=this.Yi(n,A);return this.Zi(n,k,f,R.readTime)?this.zi(e,hl(n,null,"F")):this.Xi(e,k,n,R)}))})))}ji(e,n,o,u){return fp(n)||u.isEqual(rn.min())?be.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?be.resolve(null):(Qn()<=ue.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xa(n)),this.Xi(e,f,n,function Da(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=rn.fromTimestamp(1e9===o?new ni(n+1,0):new ni(n,o));return new cs(u,Mt.empty(),e)}(u,-1)).next(A=>A))})}Yi(e,n){let o=new Fr(md(e));return n.forEach((u,l)=>{eu(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return Qn()<=ue.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Gi.getDocumentsMatchingQuery(e,n,cs.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class cf{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new ri(bn),this.ns=new Ko(l=>Gi(l),la),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function lf(i,e){return xl.apply(this,arguments)}function xl(){return xl=(0,Q.Z)(function*(i,e){const n=Pt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],A=[];let R=Mn();for(const k of u){f.push(k.batchId);for(const z of k.mutations)R=R.add(z.key)}for(const k of l){A.push(k.batchId);for(const z of k.mutations)R=R.add(z.key)}return n.localDocuments.getDocuments(o,R).next(k=>({_s:k,removedBatchIds:f,addedBatchIds:A}))})})}),xl.apply(this,arguments)}function Oc(i){const e=Pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function qy(i,e){const n=Pt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function _a(i,e,n){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Q.Z)(function*(i,e,n){const o=Pt(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!S(f))throw f;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),Kp.apply(this,arguments)}function df(i,e,n){const o=Pt(i);let u=rn.min(),l=Mn();return o.persistence.runTransaction("Execute query","readwrite",f=>function(R,k,z){const te=Pt(R),ve=te.ns.get(z);return void 0!==ve?be.resolve(te.ts.get(ve)):te.qr.getTargetData(k,z)}(o,f,ji(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,A.targetId).next(R=>{l=R})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:rn.min(),n?l:Mn())).next(A=>(function qp(i,e,n){let o=i.rs.get(e)||rn.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function Lu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,ls:l})))}class Gd{constructor(){this.activeTargetIds=function Fh(){return vp}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kc{constructor(){this.eo=new Gd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Gd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xp{ro(e){}shutdown(){}}class gf{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wu=null;function Nl(){return null===Wu?Wu=268435456+Math.round(2147483648*Math.random()):Wu++,"0x"+Wu.toString(16)}const kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ms="WebChannelConnection";class mf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const A=Nl(),R=this.So(n,o);Xe("RestConnection",`Sending RPC '${n}' ${A}:`,R,u);const k={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(k,l,f),this.Do(n,R,k,u).then(z=>(Xe("RestConnection",`Received RPC '${n}' ${A}: `,z),z),z=>{throw Cn("RestConnection",`RPC '${n}' ${A} failed with error: `,z,"url: ",R,"request:",u),z})}Co(n,o,u,l,f,A){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+jr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${kl[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Nl();return new Promise((f,A)=>{const R=new bt;R.setWithCredentials(!0),R.listenOnce(Ht.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case tt.NO_ERROR:const z=R.getResponseJson();Xe(Ms,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(z)),f(z);break;case tt.TIMEOUT:Xe(Ms,`RPC '${e}' ${l} timed out`),A(new nt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case tt.HTTP_ERROR:const te=R.getStatus();if(Xe(Ms,`RPC '${e}' ${l} failed with status:`,te,"response text:",R.getResponseText()),te>0){let ve=R.getResponseJson();Array.isArray(ve)&&(ve=ve[0]);const Fe=ve?.error;if(Fe&&Fe.status&&Fe.message){const _t=function(Ct){const Tn=Ct.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(Tn)>=0?Tn:Be.UNKNOWN}(Fe.status);A(new nt(_t,Fe.message))}else A(new nt(Be.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new nt(Be.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{Xe(Ms,`RPC '${e}' ${l} completed.`)}});const k=JSON.stringify(u);Xe(Ms,`RPC '${e}' ${l} sending request:`,u),R.send(n,"POST",k,o,15)})}vo(e,n,o){const u=Nl(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=oe(),A=Me(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(R.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(R.xmlHttpFactory=new sr({})),this.bo(R.initMessageHeaders,n,o),R.encodeInitMessageHeaders=!0;const z=l.join("");Xe(Ms,`Creating RPC '${e}' stream ${u}: ${z}`,R);const te=f.createWebChannel(z,R);let ve=!1,Fe=!1;const _t=new eg({co:Ct=>{Fe?Xe(Ms,`Not sending because RPC '${e}' stream ${u} is closed:`,Ct):(ve||(Xe(Ms,`Opening RPC '${e}' stream ${u} transport.`),te.open(),ve=!0),Xe(Ms,`RPC '${e}' stream ${u} sending:`,Ct),te.send(Ct))},lo:()=>te.close()}),At=(Ct,Tn,Dn)=>{Ct.listen(Tn,wn=>{try{Dn(wn)}catch(_r){setTimeout(()=>{throw _r},0)}})};return At(te,ut.EventType.OPEN,()=>{Fe||Xe(Ms,`RPC '${e}' stream ${u} transport opened.`)}),At(te,ut.EventType.CLOSE,()=>{Fe||(Fe=!0,Xe(Ms,`RPC '${e}' stream ${u} transport closed`),_t.Ro())}),At(te,ut.EventType.ERROR,Ct=>{Fe||(Fe=!0,Cn(Ms,`RPC '${e}' stream ${u} transport errored:`,Ct),_t.Ro(new nt(Be.UNAVAILABLE,"The operation could not be completed")))}),At(te,ut.EventType.MESSAGE,Ct=>{var Tn;if(!Fe){const Dn=Ct.data[0];kt(!!Dn);const _r=Dn.error||(null===(Tn=Dn[0])||void 0===Tn?void 0:Tn.error);if(_r){Xe(Ms,`RPC '${e}' stream ${u} received error:`,_r);const Zr=_r.status;let zr=function(FE){const _y=Cr[FE];if(void 0!==_y)return Dd(_y)}(Zr),qi=_r.message;void 0===zr&&(zr=Be.INTERNAL,qi="Unknown error status: "+Zr+" with message "+_r.message),Fe=!0,_t.Ro(new nt(zr,qi)),te.close()}else Xe(Ms,`RPC '${e}' stream ${u} received:`,Dn),_t.Vo(Dn)}}),At(A,Hn.STAT_EVENT,Ct=>{Ct.stat===cr.PROXY?Xe(Ms,`RPC '${e}' stream ${u} detected buffering proxy`):Ct.stat===cr.NOPROXY&&Xe(Ms,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{_t.Ao()},0),_t}}function Ll(){return typeof document<"u"?document:null}function du(i){return new gt(i,!0)}class tg{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&Xe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ng{constructor(e,n,o,u,l,f,A,R){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new tg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Q.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Q.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,Q.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?(Un(n.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Be.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new nt(Be.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Q.Z)(function*(){e.state=0,e.start()}))}o_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zy extends ng{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Sd(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Bt(),u=e.targetChange.targetIds||[],l=function(k,z){return k.useProto3Json?(kt(void 0===z||"string"==typeof z),bi.fromBase64String(z||"")):(kt(void 0===z||z instanceof Uint8Array),bi.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,A=f&&function(k){const z=void 0===k.code?Be.UNKNOWN:Dd(k.code);return new nt(z,k.message||"")}(f);n=new I(o,u,l,A||null)}else if("documentChange"in e){const o=e.documentChange,u=So(i,o.document.name),l=Or(o.document.updateTime),f=o.document.createTime?Or(o.document.createTime):rn.min(),A=new Ri({mapValue:{fields:o.document.fields}}),R=Yr.newFoundDocument(u,l,f,A);n=new Tl(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=So(i,o.document),l=o.readTime?Or(o.readTime):rn.min(),f=Yr.newNoDocument(u,l);n=new Tl([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=So(i,o.document);n=new Tl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Bt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new wp(u,l);n=new Sp(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return rn.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?rn.min():f.readTime?Or(f.readTime):rn.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Uu(this.serializer),n.addTarget=function(l,f){let A;const R=f.target;if(A=da(R)?{documents:Bu(l,R)}:{query:Kh(l,R)},A.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){A.resumeToken=Yn(l,f.resumeToken);const k=qt(l,f.expectedCount);null!==k&&(A.expectedCount=k)}else if(f.snapshotVersion.compareTo(rn.min())>0){A.readTime=Jt(l,f.snapshotVersion.toTimestamp());const k=qt(l,f.expectedCount);null!==k&&(A.expectedCount=k)}return A}(this.serializer,e);const o=function Py(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Uu(this.serializer),n.removeTarget=e,this.e_(n)}}class Jy extends ng{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Om(i,e){return i&&i.length>0?(kt(void 0!==e),i.map(n=>function(u,l){let f=Or(u.updateTime?u.updateTime:l);return f.isEqual(rn.min())&&(f=Or(l)),new Ed(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Or(e.commitTime);return this.listener.I_(o,n)}return kt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Uu(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Ac(i,e){let n;if(e instanceof Ra)n={update:ru(i,e.key,e.value)};else if(e instanceof tu)n={delete:nu(i,e.key)};else if(e instanceof Pa)n={update:ru(i,e.key,e.data),updateMask:Nm(e.fieldMask)};else{if(!(e instanceof $h))return Bt();n={verify:nu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const A=f.transform;if(A instanceof fl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof vc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Ec)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof gl)return{fieldPath:f.field.canonicalString(),increment:A.Ie};throw Bt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Us(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Bt()),n;var l}(this.serializer,o))};this.e_(n)}}class rg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new nt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(Be.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new nt(Be.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class Xy{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Un(n),this.f_=!1):Xe("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class EI{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(A=>{o.enqueueAndForget((0,Q.Z)(function*(){var R;hu(f)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,Q.Z)(function*(z){const te=Pt(z);te.C_.add(4),yield Gu(te),te.M_.set("Unknown"),te.C_.delete(4),yield qd(te)}),function k(z){return R.apply(this,arguments)})(f))}))}),this.M_=new Xy(o,u)}}function qd(i){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,Q.Z)(function*(i){if(hu(i))for(const e of i.v_)yield e(!0)}),Fl.apply(this,arguments)}function Gu(i){return sg.apply(this,arguments)}function sg(){return sg=(0,Q.Z)(function*(i){for(const e of i.v_)yield e(!1)}),sg.apply(this,arguments)}function Qd(i,e){const n=Pt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),og(n)?_f(n):Vc(n).Ho()&&Vl(n,e))}function Lc(i,e){const n=Pt(i),o=Vc(n);n.D_.delete(e),o.Ho()&&r_(n,e),0===n.D_.size&&(o.Ho()?o.Zo():hu(n)&&n.M_.set("Unknown"))}function Vl(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(i).u_(e)}function r_(i,e){i.x_.Oe(e),Vc(i).c_(e)}function _f(i){i.x_=new p({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Vc(i).start(),i.M_.g_()}function og(i){return hu(i)&&!Vc(i).jo()&&i.D_.size>0}function hu(i){return 0===Pt(i).C_.size}function ev(i){i.x_=void 0}function tv(i){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,Q.Z)(function*(i){i.D_.forEach((e,n)=>{Vl(i,e)})}),Fc.apply(this,arguments)}function nv(i,e){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,Q.Z)(function*(i,e){ev(i),og(i)?(i.M_.w_(e),_f(i)):i.M_.set("Unknown")}),Ku.apply(this,arguments)}function Yd(i,e,n){return ag.apply(this,arguments)}function ag(){return ag=(0,Q.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof I&&2===e.state&&e.cause)try{yield(o=(0,Q.Z)(function*(l,f){const A=f.cause;for(const R of f.targetIds)l.D_.has(R)&&(yield l.remoteSyncer.rejectListen(R,A),l.D_.delete(R),l.x_.removeTarget(R))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Zd(i,o)}else if(e instanceof Tl?i.x_.$e(e):e instanceof Sp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(rn.min()))try{const o=yield Oc(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const A=l.x_.it(f);return A.targetChanges.forEach((R,k)=>{if(R.resumeToken.approximateByteSize()>0){const z=l.D_.get(k);z&&l.D_.set(k,z.withResumeToken(R.resumeToken,f))}}),A.targetMismatches.forEach((R,k)=>{const z=l.D_.get(R);if(!z)return;l.D_.set(R,z.withResumeToken(bi.EMPTY_BYTE_STRING,z.snapshotVersion)),r_(l,R);const te=new bo(z.target,R,k,z.sequenceNumber);Vl(l,te)}),l.remoteSyncer.applyRemoteEvent(A)}(i,n))}catch(o){Xe("RemoteStore","Failed to raise snapshot:",o),yield Zd(i,o)}var o}),ag.apply(this,arguments)}function Zd(i,e,n){return ug.apply(this,arguments)}function ug(){return ug=(0,Q.Z)(function*(i,e,n){if(!S(e))throw e;i.C_.add(1),yield Gu(i),i.M_.set("Offline"),n||(n=()=>Oc(i.localStore)),i.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield qd(i)}))}),ug.apply(this,arguments)}function i_(i,e){return e().catch(n=>Zd(i,n,e))}function Ul(i){return yf.apply(this,arguments)}function yf(){return yf=(0,Q.Z)(function*(i){const e=Pt(i),n=Uc(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;s_(e);)try{const u=yield qy(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,cg(e,u)}catch(u){yield Zd(e,u)}rv(e)&&Jd(e)}),yf.apply(this,arguments)}function s_(i){return hu(i)&&i.b_.length<10}function cg(i,e){i.b_.push(e);const n=Uc(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function rv(i){return hu(i)&&!Uc(i).jo()&&i.b_.length>0}function Jd(i){Uc(i).start()}function o_(i){return lg.apply(this,arguments)}function lg(){return lg=(0,Q.Z)(function*(i){Uc(i).E_()}),lg.apply(this,arguments)}function iv(i){return vf.apply(this,arguments)}function vf(){return vf=(0,Q.Z)(function*(i){const e=Uc(i);for(const n of i.b_)e.P_(n.mutations)}),vf.apply(this,arguments)}function sv(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Q.Z)(function*(i,e,n){const o=i.b_.shift(),u=Hh.from(o,e,n);yield i_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ul(i)}),Ef.apply(this,arguments)}function ov(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,Q.Z)(function*(i,e){var n;e&&Uc(i).h_&&(yield(n=(0,Q.Z)(function*(u,l){if(function Wh(i){switch(i){default:return Bt();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}(A=l.code)&&A!==Be.ABORTED){const f=u.b_.shift();Uc(u).Yo(),yield i_(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield Ul(u)}var A}),function o(u,l){return n.apply(this,arguments)})(i,e)),rv(i)&&Jd(i)}),dg.apply(this,arguments)}function av(i,e){return If.apply(this,arguments)}function If(){return If=(0,Q.Z)(function*(i,e){const n=Pt(i);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const o=hu(n);n.C_.add(3),yield Gu(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield qd(n)}),If.apply(this,arguments)}function Ro(){return Ro=(0,Q.Z)(function*(i,e){const n=Pt(i);e?(n.C_.delete(2),yield qd(n)):e||(n.C_.add(2),yield Gu(n),n.M_.set("Unknown"))}),Ro.apply(this,arguments)}function Vc(i){return i.O_||(i.O_=function(n,o,u){const l=Pt(n);return l.A_(),new Zy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:tv.bind(null,i),Io:nv.bind(null,i),a_:Yd.bind(null,i)}),i.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(i.O_.Yo(),og(i)?_f(i):i.M_.set("Unknown")):(yield i.O_.stop(),ev(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Uc(i){return i.N_||(i.N_=function(n,o,u){const l=Pt(n);return l.A_(),new Jy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:o_.bind(null,i),Io:ov.bind(null,i),T_:iv.bind(null,i),I_:sv.bind(null,i)}),i.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(i.N_.Yo(),yield Ul(i)):(yield i.N_.stop(),i.b_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Xd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,A=new Xd(e,n,f,u,l);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Po(i,e){if(Un("AsyncQueue",`${e}: ${i}`),S(i))return new nt(Be.UNAVAILABLE,`${e}: ${i}`);throw i}class Oa{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Mt.comparator(n.key,o.key):(n,o)=>Mt.comparator(n.key,o.key),this.keyedMap=Fu(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new Oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Oa;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class a_{constructor(){this.B_=new ri(Mt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Bt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Bl{constructor(e,n,o,u,l,f,A,R,k){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=A,this.excludesMetadataChanges=R,this.hasCachedResults=k}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(A=>{f.push({type:0,doc:A})}),new Bl(e,n,Oa.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ba(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class uv{constructor(){this.k_=void 0,this.listeners=[]}}class hg{constructor(){this.queries=new Ko(e=>Lh(e),ba),this.onlineState="Unknown",this.q_=new Set}}function Qo(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,Q.Z)(function*(i,e){const n=Pt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new uv),u)try{l.k_=yield n.onListen(o)}catch(f){const A=Po(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&eh(n)}),Df.apply(this,arguments)}function fg(i,e){return u_.apply(this,arguments)}function u_(){return u_=(0,Q.Z)(function*(i,e){const n=Pt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),u_.apply(this,arguments)}function Os(i,e){const n=Pt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const A of f.listeners)A.K_(u)&&(o=!0);f.k_=u}}o&&eh(n)}function cv(i,e,n){const o=Pt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function eh(i){i.q_.forEach(e=>{e.next()})}class pg{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Bl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class l_{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class _g{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Mn(),this.mutatedKeys=Mn(),this._a=md(e),this.aa=new Oa(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new a_,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,A=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((z,te)=>{const ve=u.get(z),Fe=eu(this.query,te)?te:null,_t=!!ve&&this.mutatedKeys.has(ve.key),At=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let Ct=!1;ve&&Fe?ve.data.isEqual(Fe.data)?_t!==At&&(o.track({type:3,doc:Fe}),Ct=!0):this.ha(ve,Fe)||(o.track({type:2,doc:Fe}),Ct=!0,(R&&this._a(Fe,R)>0||k&&this._a(Fe,k)<0)&&(A=!0)):!ve&&Fe?(o.track({type:0,doc:Fe}),Ct=!0):ve&&!Fe&&(o.track({type:1,doc:ve}),Ct=!0,(R||k)&&(A=!0)),Ct&&(Fe?(f=f.add(Fe),l=At?l.add(z):l.delete(z)):(f=f.delete(z),l=l.delete(z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const z="F"===this.query.limitType?f.last():f.first();f=f.delete(z.key),l=l.delete(z.key),o.track({type:1,doc:z})}return{aa:f,la:o,Zi:A,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((k,z)=>function(ve,Fe){const _t=At=>{switch(At){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return _t(ve)-_t(Fe)}(k.type,z.type)||this._a(k.doc,z.doc)),this.Pa(o);const f=n?this.Ia():[],A=0===this.oa.size&&this.current?1:0,R=A!==this.sa;return this.sa=A,0!==l.length||R?{snapshot:new Bl(this.query,e.aa,u,l,e.mutatedKeys,0===A,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new a_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Mn(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new mg(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new l_(o))}),n}da(e){this.ia=e.ls,this.oa=Mn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Bl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class dv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hv{constructor(e){this.key=e,this.Ra=!1}}class fv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new Ko(A=>Lh(A),ba),this.fa=new Map,this.ga=new Set,this.pa=new ri(Mt.comparator),this.ya=new Map,this.wa=new Km,this.Sa={},this.ba=new Map,this.Da=au.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function d_(i,e){return qu.apply(this,arguments)}function qu(){return qu=(0,Q.Z)(function*(i,e){const n=function Sg(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f_.bind(null,e),e.Va.a_=Os.bind(null,e.eventManager),e.Va.Fa=cv.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function xc(i,e){const n=Pt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,be.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new bo(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,ji(e)),A=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function ya(i,e,n,o,u){return Qu.apply(this,arguments)}(n,e,o,"current"===A,f.resumeToken),n.isPrimaryClient&&Qd(n.remoteStore,f)}return u}),qu.apply(this,arguments)}function Qu(){return Qu=(0,Q.Z)(function*(i,e,n,o,u){i.va=(te,ve,Fe)=>{return(_t=(0,Q.Z)(function*(Ct,Tn,Dn,wn){let _r=Tn.view.ca(Dn);_r.Zi&&(_r=yield df(Ct.localStore,Tn.query,!1).then(({documents:qi})=>Tn.view.ca(qi,_r)));const Zr=wn&&wn.targetChanges.get(Tn.targetId),zr=Tn.view.applyChanges(_r,Ct.isPrimaryClient,Zr);return bf(Ct,Tn.targetId,zr.Ta),zr.snapshot}),function At(Ct,Tn,Dn,wn){return _t.apply(this,arguments)})(i,te,ve,Fe);var _t};const l=yield df(i.localStore,e,!0),f=new _g(e,l.ls),A=f.ca(l.documents),R=Il.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),k=f.applyChanges(A,i.isPrimaryClient,R);bf(i,n,k.Ta);const z=new dv(e,n,f);return i.ma.set(e,z),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),k.snapshot}),Qu.apply(this,arguments)}function pv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,Q.Z)(function*(i,e){const n=Pt(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!ba(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield _a(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Lc(n.remoteStore,o.targetId),nh(n,o.targetId)}).catch(eo))):(nh(n,o.targetId),yield _a(n.localStore,o.targetId,!0))}),yg.apply(this,arguments)}function Af(){return Af=(0,Q.Z)(function*(i,e,n){const o=function bg(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mv.bind(null,e),e}(i);try{const u=yield function(f,A){const R=Pt(f),k=ni.now(),z=A.reduce((Fe,_t)=>Fe.add(_t.key),Mn());let te,ve;return R.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let _t=ns(),At=Mn();return R.ss.getEntries(Fe,z).next(Ct=>{_t=Ct,_t.forEach((Tn,Dn)=>{Dn.isValidDocument()||(At=At.add(Tn))})}).next(()=>R.localDocuments.getOverlayedDocuments(Fe,_t)).next(Ct=>{te=Ct;const Tn=[];for(const Dn of A){const wn=Id(Dn,te.get(Dn.key).overlayedDocument);null!=wn&&Tn.push(new Pa(Dn.key,wn,Ya(wn.value.mapValue),fi.exists(!0)))}return R.mutationQueue.addMutationBatch(Fe,k,Tn,A)}).next(Ct=>{ve=Ct;const Tn=Ct.applyToLocalDocumentSet(te,At);return R.documentOverlayCache.saveOverlays(Fe,Ct.batchId,Tn)})}).then(()=>({batchId:ve.batchId,changes:_d(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,A,R){let k=f.Sa[f.currentUser.toKey()];k||(k=new ri(bn)),k=k.insert(A,R),f.Sa[f.currentUser.toKey()]=k}(o,u.batchId,n),yield xa(o,u.changes),yield Ul(o.remoteStore)}catch(u){const l=Po(u,"Failed to persist write");n.reject(l)}}),Af.apply(this,arguments)}function Cf(i,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,Q.Z)(function*(i,e){const n=Pt(i);try{const o=yield function Gp(i,e){const n=Pt(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const A=[];e.targetChanges.forEach((z,te)=>{const ve=u.get(te);if(!ve)return;A.push(n.qr.removeMatchingKeys(l,z.removedDocuments,te).next(()=>n.qr.addMatchingKeys(l,z.addedDocuments,te)));let Fe=ve.withSequenceNumber(l.currentSequenceNumber);var At,Ct,Tn;null!==e.targetMismatches.get(te)?Fe=Fe.withResumeToken(bi.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):z.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken(z.resumeToken,o)),u=u.insert(te,Fe),Ct=Fe,Tn=z,(0===(At=ve).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&A.push(n.qr.updateTargetData(l,Fe))});let R=ns(),k=Mn();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(l,z))}),A.push(function Zm(i,e,n){let o=Mn(),u=Mn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=ns();return n.forEach((A,R)=>{const k=l.get(A);R.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(A)),R.isNoDocument()&&R.version.isEqual(rn.min())?(e.removeEntry(A,R.readTime),f=f.insert(A,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R),f=f.insert(A,R)):Xe("LocalStore","Ignoring outdated watch update for ",A,". Current version:",k.version," Watch version:",R.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(z=>{R=z.us,k=z.cs})),!o.isEqual(rn.min())){const z=n.qr.getLastRemoteSnapshotVersion(l).next(te=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));A.push(z)}return be.waitFor(A).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,k)).next(()=>R)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?kt(f.Ra):u.removedDocuments.size>0&&(kt(f.Ra),f.Ra=!1))}),yield xa(n,o,e)}catch(o){yield eo(o)}}),Bc.apply(this,arguments)}function th(i,e,n){const o=Pt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const A=f.view.Q_(e);A.snapshot&&u.push(A.snapshot)}),function(f,A){const R=Pt(f);R.onlineState=A;let k=!1;R.queries.forEach((z,te)=>{for(const ve of te.listeners)ve.Q_(A)&&(k=!0)}),k&&eh(R)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function f_(i,e,n){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Q.Z)(function*(i,e,n){const o=Pt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new ri(Mt.comparator);f=f.insert(l,Yr.newNoDocument(l,rn.min()));const A=Mn().add(l),R=new Dc(rn.min(),new Map,new ri(bn),f,A);yield Cf(o,R),o.pa=o.pa.remove(l),o.ya.delete(e),jl(o)}else yield _a(o.localStore,e,!1).then(()=>nh(o,e,n)).catch(eo)}),Sf.apply(this,arguments)}function gv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Q.Z)(function*(i,e){const n=Pt(i),o=e.batch.batchId;try{const u=yield function Ma(i,e){const n=Pt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(A,R,k,z){const te=k.batch,ve=te.keys();let Fe=be.resolve();return ve.forEach(_t=>{Fe=Fe.next(()=>z.getEntry(R,_t)).next(At=>{const Ct=k.docVersions.get(_t);kt(null!==Ct),At.version.compareTo(Ct)<0&&(te.applyToRemoteDocument(At,k),At.isValidDocument()&&(At.setReadTime(k.commitVersion),z.addEntry(At)))})}),Fe.next(()=>A.mutationQueue.removeMutationBatch(R,te))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(A){let R=Mn();for(let k=0;k<A.mutationResults.length;++k)A.mutationResults[k].transformResults.length>0&&(R=R.add(A.batch.mutations[k].key));return R}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);m_(n,o,null),Ig(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield xa(n,u)}catch(u){yield eo(u)}}),vg.apply(this,arguments)}function mv(i,e,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,Q.Z)(function*(i,e,n){const o=Pt(i);try{const u=yield function(f,A){const R=Pt(f);return R.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let z;return R.mutationQueue.lookupMutationBatch(k,A).next(te=>(kt(null!==te),z=te.keys(),R.mutationQueue.removeMutationBatch(k,te))).next(()=>R.mutationQueue.performConsistencyCheck(k)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(k,z,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,z)).next(()=>R.localDocuments.getDocuments(k,z))})}(o.localStore,e);m_(o,e,n),Ig(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield xa(o,u)}catch(u){yield eo(u)}}),Eg.apply(this,arguments)}function Ig(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function m_(i,e,n){const o=Pt(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function nh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Tg(i,o)})}function Tg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Lc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),jl(i))}function bf(i,e,n){for(const o of n)o instanceof l_?(i.wa.addReference(o.key,e),II(i,o)):o instanceof mg?(Xe("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Tg(i,o.key)):Bt()}function II(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Xe("SyncEngine","New document in limbo: "+n),i.ga.add(o),jl(i))}function jl(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Mt(lr.fromString(e)),o=i.Da.next();i.ya.set(o,new hv(n)),i.pa=i.pa.insert(n,o),Qd(i.remoteStore,new bo(ji(mc(n.path)),o,"TargetPurposeLimboResolution",pn._e))}}function xa(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,Q.Z)(function*(i,e,n){const o=Pt(i),u=[],l=[],f=[];var A;o.ma.isEmpty()||(o.ma.forEach((A,R)=>{f.push(o.va(R,e,n).then(k=>{if((k||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const z=lu.Qi(R.targetId,k);l.push(z)}}))}),yield Promise.all(f),o.Va.a_(u),yield(A=(0,Q.Z)(function*(k,z){const te=Pt(k);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",ve=>be.forEach(z,Fe=>be.forEach(Fe.ki,_t=>te.persistence.referenceDelegate.addReference(ve,Fe.targetId,_t)).next(()=>be.forEach(Fe.qi,_t=>te.persistence.referenceDelegate.removeReference(ve,Fe.targetId,_t)))))}catch(ve){if(!S(ve))throw ve;Xe("LocalStore","Failed to update sequence numbers: "+ve)}for(const ve of z){const Fe=ve.targetId;if(!ve.fromCache){const _t=te.ts.get(Fe),Ct=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);te.ts=te.ts.insert(Fe,Ct)}}}),function R(k,z){return A.apply(this,arguments)})(o.localStore,l))}),Rf.apply(this,arguments)}function _v(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Q.Z)(function*(i,e){const n=Pt(i);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const o=yield lf(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(A=>{A.forEach(R=>{R.reject(new nt(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield xa(n,o._s)}var l}),Pf.apply(this,arguments)}function __(i,e){const n=Pt(i),o=n.ya.get(e);if(o&&o.Ra)return Mn().add(o.key);{let u=Mn();const l=n.fa.get(e);if(!l)return u;for(const f of l){const A=n.ma.get(f);u=u.unionWith(A.view.ua)}return u}}class sh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.Z)(function*(){n.serializer=du(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Ym(i,e,n,o){return new cf(i,e,n,o)}(this.persistence,new uf,e.initialUser,this.serializer)}createPersistence(e){return new jd($d.jr,this.serializer)}createSharedClientState(e){return new kc}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $l{initialize(e,n){var o=this;return(0,Q.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>th(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=_v.bind(null,o.syncEngine),yield function Tf(i,e){return Ro.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hg}createDatastore(e){const n=du(e.databaseInfo.databaseId),o=new mf(e.databaseInfo);return new rg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>th(this.syncEngine,n,0),A=gf.D()?new gf:new Xp,new EI(o,u,l,f,A);var o,u,l,f,A}createSyncEngine(e,n){return function(u,l,f,A,R,k,z){const te=new fv(u,l,f,A,R,k);return z&&(te.Ca=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.Z)(function*(o){const u=Pt(o);Xe("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Gu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Un("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Tv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=xn.UNAUTHENTICATED,this.clientId=Ia.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Q.Z)(function*(A){Xe("FirestoreClient","Received user=",A.uid),yield l.authCredentialListener(A),l.user=A});return function(A){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Xe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Po(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Nf(i,e){return D_.apply(this,arguments)}function D_(){return D_=(0,Q.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Q.Z)(function*(l){o.isEqual(l)||(yield lf(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),D_.apply(this,arguments)}function ah(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,Q.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Pg(i){return Mg.apply(this,arguments)}(i);Xe("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>av(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>av(e.remoteStore,l)),i._onlineComponents=e}),kf.apply(this,arguments)}function Mg(){return Mg=(0,Q.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function w_(i){return"FirebaseError"===i.name?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Cn("Error using user provided cache. Falling back to memory cache: "+n),yield Nf(i,new sh)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(i,new sh);return i._offlineComponents}),Mg.apply(this,arguments)}function uh(i){return Og.apply(this,arguments)}function Og(){return Og=(0,Q.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield ah(i,i._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield ah(i,new $l))),i._onlineComponents}),Og.apply(this,arguments)}function zl(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,Q.Z)(function*(i){const e=yield uh(i),n=e.eventManager;return n.onListen=d_.bind(null,e.syncEngine),n.onUnlisten=pv.bind(null,e.syncEngine),n}),Ng.apply(this,arguments)}function Ug(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Bg=new Map;function ch(i,e,n){if(!n)throw new nt(Be.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function M_(i){if(!Mt.isDocumentKey(i))throw new nt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function O_(i){if(Mt.isDocumentKey(i))throw new nt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Bt()}function Ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new nt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hl(i);throw new nt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class x_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new nt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function fu(i,e,n,o){if(!0===e&&!0===o)throw new nt(Be.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new nt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new nt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new nt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Dh;switch(o.type){case"firstParty":return new nd(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new nt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Bg.get(n);o&&(Xe("ComponentProvider","Removing Datastore"),Bg.delete(n),o.terminate())}(this),Promise.resolve()}}class xs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Mi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class pu extends xs{constructor(e,n,o){super(e,n,mc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new Mt(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function Av(i,e,...n){if(i=(0,J.m9)(i),ch("collection","path",e),i instanceof Xu){const o=lr.fromString(e,...n);return O_(o),new pu(i,null,o)}{if(!(i instanceof Mi||i instanceof pu))throw new nt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return O_(o),new pu(i.firestore,null,o)}}function $g(i,e,...n){if(i=(0,J.m9)(i),1===arguments.length&&(e=Ia.newId()),ch("doc","path",e),i instanceof Xu){const o=lr.fromString(e,...n);return M_(o),new Mi(i,null,new Mt(o))}{if(!(i instanceof Mi||i instanceof pu))throw new nt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return M_(o),new Mi(i.firestore,i instanceof pu?i.converter:null,new Mt(o))}}class k_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new tg(this,"async_queue_retry"),this.iu=()=>{const n=Ll();n&&Xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ll();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ll();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ti;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Q.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!S(n))throw n;Xe("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Un("INTERNAL UNHANDLED ERROR: ",function(f){let A=f.message||"";return f.stack&&(A=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),A}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Xd.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&Bt()}verifyOperationInProgress(){}uu(){var e=this;return(0,Q.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Ff(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class ii extends Xu{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new k_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wl(this),this._firestoreClient.terminate()}}function bv(i,e){const n="object"==typeof i?i:(0,de.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,de.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,J.P0)("firestore");l&&function lh(i,e,n,o={}){var u;const l=(i=Ir(i,Xu))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Cn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let A,R;if("string"==typeof o.mockUserToken)A=o.mockUserToken,R=xn.MOCK_USER;else{A=(0,J.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new nt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new xn(k)}i._authCredentials=new Eo(new Xc(A,R))}}(u,...l)}return u}function rs(i){return i._firestoreClient||Wl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Wl(i){var e,n,o;const u=i._freezeSettings(),l=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new cd(i._databaseId,R,i._persistenceKey,(z=u).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Ug(z.experimentalLongPollingOptions),z.useFetchStreams));var R,z;i._firestoreClient=new Tv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class $c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $c(bi.fromBase64String(e))}catch(n){throw new nt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $c(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new nt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zg{constructor(e){this._methodName=e}}class Hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new nt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new nt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const Mv=/^__.*__$/;class U_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ra(e,this.data,n,this.fieldTransforms)}}class Wg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Gg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mu(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(B_(this.Iu)&&Mv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class j_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||du(e)}pu(e,n,o,u=!1){return new Gg({Iu:e,methodName:n,gu:o,path:Qr.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zc(i){const e=i._freezeSettings(),n=du(i._databaseId);return new j_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function $_(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);rc("Data must be an object, but it was:",f,o);const A=Oo(o,f);let R,k;if(l.merge)R=new zi(f.fieldMask),k=f.fieldTransforms;else if(l.mergeFields){const z=[];for(const te of l.mergeFields){const ve=Fa(e,te,n);if(!f.contains(ve))throw new nt(Be.INVALID_ARGUMENT,`Field '${ve}' is specified in your field mask but missing from your input data.`);Hc(z,ve)||z.push(ve)}R=new zi(z),k=f.fieldTransforms.filter(te=>R.covers(te.field))}else R=null,k=f.fieldTransforms;return new U_(new Ri(A),R,k)}class tc extends zg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tc}}function La(i,e){if(Vf(i=(0,J.m9)(i)))return rc("Unsupported field value:",e,i),Oo(i,e);if(i instanceof zg)return function(o,u){if(!B_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const A of o){let R=La(A,u.Vu(f));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,J.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Uh(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=ni.fromDate(o);return{timestampValue:Jt(u.serializer,l)}}if(o instanceof ni){const l=new ni(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Jt(u.serializer,l)}}if(o instanceof Hg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof $c)return{bytesValue:Yn(u.serializer,o._byteString)};if(o instanceof Mi){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pa(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${Hl(o)}`)}(i,e)}function Oo(i,e){const n={};return Sh(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(i,(o,u)=>{const l=La(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Vf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ni||i instanceof Hg||i instanceof $c||i instanceof Mi||i instanceof zg)}function rc(i,e,n){if(!Vf(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Hl(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Fa(i,e,n){if((e=(0,J.m9)(e))instanceof Gl)return e._internalPath;if("string"==typeof e)return gu(i,e);throw mu("Field path arguments must be of type string or ",i,!1,void 0,n)}const ql=new RegExp("[~\\*/\\[\\]]");function gu(i,e,n){if(e.search(ql)>=0)throw mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Gl(...e.split("."))._internalPath}catch{throw mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function mu(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(l||f)&&(R+=" (found",l&&(R+=` in field ${o}`),f&&(R+=` in document ${u}`),R+=")"),new nt(Be.INVALID_ARGUMENT,A+i+R)}function Hc(i,e){return i.some(n=>n.isEqual(e))}class ic{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ql(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_u("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ql extends ic{data(){return super.data()}}function _u(i,e){return"string"==typeof e?gu(i,e):e instanceof Gl?e._internalPath:e._delegate._internalPath}function Qg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new nt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uf{}class H_ extends Uf{}function W_(i,e,...n){let o=[];e instanceof Uf&&o.push(e),o=o.concat(n),function(l){const f=l.filter(R=>R instanceof Wc).length,A=l.filter(R=>R instanceof Yl).length;if(f>1||f>0&&A>0)throw new nt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Yl extends H_{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Yl(e,n,o)}_apply(e){const n=this._parse(e);return $f(e._query,n),new xs(e.firestore,e.converter,Ja(e._query,n))}_parse(e){const n=zc(e.firestore);return function(l,f,A,R,k,z,te){let ve;if(k.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new nt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Zl(te,z);const Fe=[];for(const _t of te)Fe.push(jf(R,l,_t));ve={arrayValue:{values:Fe}}}else ve=jf(R,l,te)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Zl(te,z),ve=function nc(i,e,n,o=!1){return La(n,i.pu(o?4:3,e))}(A,"where",te,"in"===z||"not-in"===z);return gr.create(k,z,ve)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function G_(i,e,n){const o=e,u=_u("where",i);return Yl._create(u,o,n)}class Wc extends Uf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wc(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const A=l.getFlattenedFilters();for(const R of A)$f(f,R),f=Ja(f,R)}(e._query,n),new xs(e.firestore,e.converter,Ja(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jf(i,e,n){if("string"==typeof(n=(0,J.m9)(n))){if(""===n)throw new nt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(e)&&-1!==n.indexOf("/"))throw new nt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(lr.fromString(n));if(!Mt.isDocumentKey(o))throw new nt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Go(i,new Mt(o))}if(n instanceof Mi)return Go(i,n._key);throw new nt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hl(n)}.`)}function Zl(i,e){if(!Array.isArray(i)||0===i.length)throw new nt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $f(i,e){const n=function(u,l){for(const f of u)for(const A of f.getFlattenedFilters())if(l.indexOf(A.op)>=0)return A.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new nt(Be.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q_{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return sa(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Hg(hi(e.latitude),hi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ru(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Qa(e));default:return null}}convertTimestamp(e){const n=oa(e);return new ni(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=lr.fromString(e);kt(Rd(o));const u=new To(o.get(1),o.get(3)),l=new Mt(o.popFirst(5));return u.isEqual(n)||Un(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Gc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends ic{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(_u("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class qc extends sc{data(e={}){return super.data(e)}}class yu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Kc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new qc(this._firestore,this._userDataWriter,o.key,o,new Kc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new nt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new qc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Kc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>l||3!==A.type).map(A=>{const R=new qc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Kc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let k=-1,z=-1;return 0!==A.type&&(k=f.indexOf(A.doc.key),f=f.delete(A.doc.key)),1!==A.type&&(f=f.add(A.doc),z=f.indexOf(A.doc.key)),{type:jI(A.type),doc:R,oldIndex:k,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function Fv(i){i=Ir(i,Mi);const e=Ir(i.firestore,ii);return function Lg(i,e,n={}){const o=new ti;return i.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(l,f,A,R,k){const z=new oh({next:ve=>{f.enqueueAndForget(()=>fg(l,te));const Fe=ve.docs.has(A);!Fe&&ve.fromCache?k.reject(new nt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&ve.fromCache&&R&&"server"===R.source?k.reject(new nt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(ve)},error:ve=>k.reject(ve)}),te=new pg(mc(A.path),z,{includeMetadataChanges:!0,J_:!0});return Qo(l,te)}(yield zl(i),i.asyncQueue,e,n,o)})),o.promise}(rs(e),i._key).then(n=>ph(e,i,n))}class Va extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,n)}}function Uv(i){i=Ir(i,xs);const e=Ir(i.firestore,ii),n=rs(e),o=new Va(e);return Qg(i._query),function Fg(i,e,n={}){const o=new ti;return i.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(l,f,A,R,k){const z=new oh({next:ve=>{f.enqueueAndForget(()=>fg(l,te)),ve.fromCache&&"server"===R.source?k.reject(new nt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(ve)},error:ve=>k.reject(ve)}),te=new pg(A,z,{includeMetadataChanges:!0,J_:!0});return Qo(l,te)}(yield zl(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new yu(e,o,i,u))}function Q_(i,e,n){i=Ir(i,Mi);const o=Ir(i.firestore,ii),u=Gc(i.converter,e,n);return Qc(o,[$_(zc(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,fi.none())])}function Y_(i,e,n,...o){i=Ir(i,Mi);const u=Ir(i.firestore,ii),l=zc(u);let f;return f="string"==typeof(e=(0,J.m9)(e))||e instanceof Gl?function Bs(i,e,n,o,u,l){const f=i.pu(1,e,n),A=[Fa(e,o,n)],R=[u];if(l.length%2!=0)throw new nt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ve=0;ve<l.length;ve+=2)A.push(Fa(e,l[ve])),R.push(l[ve+1]);const k=[],z=Ri.empty();for(let ve=A.length-1;ve>=0;--ve)if(!Hc(k,A[ve])){const Fe=A[ve];let _t=R[ve];_t=(0,J.m9)(_t);const At=f.Ru(Fe);if(_t instanceof tc)k.push(Fe);else{const Ct=La(_t,At);null!=Ct&&(k.push(Fe),z.set(Fe,Ct))}}const te=new zi(k);return new Wg(z,te,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Kl(i,e,n,o){const u=i.pu(1,e,n);rc("Data must be an object, but it was:",u,o);const l=[],f=Ri.empty();sa(o,(R,k)=>{const z=gu(e,R,n);k=(0,J.m9)(k);const te=u.Ru(z);if(k instanceof tc)l.push(z);else{const ve=La(k,te);null!=ve&&(l.push(z),f.set(z,ve))}});const A=new zi(l);return new Wg(f,A,u.fieldTransforms)}(l,"updateDoc",i._key,e),Qc(u,[f.toMutation(i._key,fi.exists(!0))])}function jv(i,e){const n=Ir(i.firestore,ii),o=$g(i),u=Gc(i.converter,e);return Qc(n,[$_(zc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,fi.exists(!1))]).then(()=>o)}function Qc(i,e){return function(o,u){const l=new ti;return o.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function h_(i,e,n){return Af.apply(this,arguments)}(yield function xg(i){return uh(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(rs(i),e)}function ph(i,e,n){const o=n.docs.get(e._key),u=new Va(i);return new sc(i,u,e._key,o,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){jr=de.Jn,(0,de.Xd)(new ge.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),A=new ii(new Io(o.getProvider("auth-internal")),new ac(o.getProvider("app-check-internal")),function(k,z){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new nt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(k.options.projectId,z)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),A._setSettings(l),A},"PUBLIC").setMultipleInstances(!0)),(0,de.KN)(or,"4.3.2",e),(0,de.KN)(or,"4.3.2","esm2017")}();var Kf=O(5592),vu=O(7398),qf=function(){return qf=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},qf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var cm={includeMetadataChanges:!1};function oy(i,e){return void 0===e&&(e={}),function rE(i){return function Eu(i,e){return void 0===e&&(e=cm),new Kf.y(function(n){var o=function $v(i,...e){var n,o,u;i=(0,J.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ff(e[f])||(l=e[f],f++);const A={includeMetadataChanges:l.includeMetadataChanges};if(Ff(e[f])){const te=e[f];e[f]=null===(n=te.next)||void 0===n?void 0:n.bind(te),e[f+1]=null===(o=te.error)||void 0===o?void 0:o.bind(te),e[f+2]=null===(u=te.complete)||void 0===u?void 0:u.bind(te)}let R,k,z;if(i instanceof Mi)k=Ir(i.firestore,ii),z=mc(i._key.path),R={next:te=>{e[f]&&e[f](ph(k,i,te))},error:e[f+1],complete:e[f+2]};else{const te=Ir(i,xs);k=Ir(te.firestore,ii),z=te._query;const ve=new Va(k);R={next:Fe=>{e[f]&&e[f](new yu(k,ve,te,Fe))},error:e[f+1],complete:e[f+2]},Qg(i._query)}return function(ve,Fe,_t,At){const Ct=new oh(At),Tn=new pg(Fe,Ct,_t);return ve.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return Qo(yield zl(ve),Tn)})),()=>{Ct.Na(),ve.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return fg(yield zl(ve),Tn)}))}}(rs(k),z,A,R)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}(i,{includeMetadataChanges:!0}).pipe((0,vu.U)(function(e){return e.docs}))}(i).pipe((0,vu.U)(function(n){return n.map(function(o){return function Qf(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?qf(qf({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class Yf{constructor(e){return e}}const uy="firestore",Zf=new $.OlP("angularfire2.firestore-instances");function hm(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Yf(o)}}const fm={provide:class cy{constructor(){return(0,y.vb)(uy)}},deps:[[new $.FiY,Zf]]},Ua={provide:Yf,useFactory:function nT(i,e){const n=(0,y.JM)(uy,i,e);return n&&new Yf(n)},deps:[[new $.FiY,Zf],he.Ot]};let sE=(()=>{class i{constructor(){(0,j.KN)("angularfire",y.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=$.oAB({type:i});static \u0275inj=$.cJS({providers:[Ua,fm]})}return i})();function oE(i,...e){return{ngModule:sE,providers:[{provide:Zf,useFactory:hm(i),multi:!0,deps:[$.R0b,$.zs3,y.HU,he.z6,[new $.FiY,ee.dh],[new $.FiY,y.Rf],...e]}]}}const ly=(0,y.u3)(oy,!0),uE=(0,y.u3)(jv,!0),hy=(0,y.u3)(Av,!0),py=(0,y.u3)($g,!0),TE=(0,y.u3)(Fv,!0),DE=(0,y.u3)(Uv,!0),wE=(0,y.u3)(bv,!0),mm=(0,y.u3)(W_,!0),bT=(0,y.u3)(Q_,!0),LE=(0,y.u3)(Y_,!0),Xl=(0,y.u3)(G_,!0)},1324:(ye,re,O)=>{O.d(re,{HU:()=>Ze,JM:()=>ne,Rf:()=>ce,q4:()=>ue,u3:()=>_n,vb:()=>fe});var y=O(5879),$=O(3182),he=O(2381),ee=O(6321),j=O(5592),Q=O(9397),de=O(5137),ge=O(3093);const ue=new y.GfV("ANGULARFIRE2_VERSION");function ne(Et,Yt,Ge){if(Yt){if(1===Yt.length)return Yt[0];const sn=Yt.filter(Dr=>Dr.app===Ge);if(1===sn.length)return sn[0]}return Ge.container.getProvider(Et).getImmediate({optional:!0})}const fe=(Et,Yt)=>{const Ge=Yt?[Yt]:(0,$.C6)(),Wt=[];return Ge.forEach(an=>{an.container.getProvider(Et).instances.forEach(Dr=>{Wt.includes(Dr)||Wt.push(Dr)})}),Wt};class ce{constructor(){return fe(Se)}}const Se="app-check";function De(){}class Ne{zone;delegate;constructor(Yt,Ge=he.N){this.zone=Yt,this.delegate=Ge}now(){return this.delegate.now()}schedule(Yt,Ge,Wt){const an=this.zone;return this.delegate.schedule(function(Dr){an.runGuarded(()=>{Yt.apply(this,[Dr])})},Ge,Wt)}}class it{zone;task=null;constructor(Yt){this.zone=Yt}call(Yt,Ge){const Wt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",De,{},De,De)),Ge.pipe((0,Q.b)({next:Wt,complete:Wt,error:Wt})).subscribe(Yt).add(Wt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class Et{ngZone;outsideAngular;insideAngular;constructor(Ge){this.ngZone=Ge,this.outsideAngular=Ge.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=Ge.run(()=>new Ne(Zone.current,ee.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Wt){return new(Wt||Et)(y.LFG(y.R0b))};static \u0275prov=y.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();function vt(){const Et=globalThis.\u0275AngularFireScheduler;if(!Et)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Et}function se(Et){return vt().ngZone.run(()=>Et())}function et(Et){return function ot(Et){return function(Ge){return(Ge=Ge.lift(new it(Et.ngZone))).pipe((0,de.R)(Et.outsideAngular),(0,ge.Q)(Et.insideAngular))}}(vt())(Et)}const ct=(Et,Yt)=>function(){const Wt=arguments;return Yt&&setTimeout(()=>{"scheduled"===Yt.state&&Yt.invoke()},10),se(()=>Et.apply(void 0,Wt))},_n=(Et,Yt)=>function(){let Ge;const Wt=arguments;for(let sn=0;sn<arguments.length;sn++)"function"==typeof Wt[sn]&&(Yt&&(Ge||=se(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",De,{},De,De))),Wt[sn]=ct(Wt[sn],Ge));const an=function pt(Et){return vt().ngZone.runOutsideAngular(()=>Et())}(()=>Et.apply(this,Wt));if(!Yt){if(an instanceof j.y){const sn=vt();return an.pipe((0,de.R)(sn.outsideAngular),(0,ge.Q)(sn.insideAngular))}return se(()=>an)}return an instanceof j.y?an.pipe(et):an instanceof Promise?se(()=>new Promise((sn,Dr)=>an.then(Tr=>se(()=>sn(Tr)),Tr=>se(()=>Dr(Tr))))):"function"==typeof an&&Ge?function(){return setTimeout(()=>{Ge&&"scheduled"===Ge.state&&Ge.invoke()},10),an.apply(this,arguments)}:se(()=>an)}},6593:(ye,re,O)=>{O.d(re,{Dx:()=>Re,H7:()=>Ii,b2:()=>Wn,q6:()=>Xt,se:()=>ct});var y=O(5879),$=O(6814);class he extends $.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends he{static makeCurrent(){(0,$.HT)(new ee)}onAndCancel(Y,G,K){return Y.addEventListener(G,K),()=>{Y.removeEventListener(G,K)}}dispatchEvent(Y,G){Y.dispatchEvent(G)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,G){return(G=G||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,G){return"window"===G?window:"document"===G?Y:"body"===G?Y.body:null}getBaseHref(Y){const G=function Q(){return j=j||document.querySelector("base"),j?j.getAttribute("href"):null}();return null==G?null:function ge(W){de=de||document.createElement("a"),de.setAttribute("href",W);const Y=de.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(G)}resetBaseElement(){j=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,$.Mx)(document.cookie,Y)}}let de,j=null,J=(()=>{class W{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(K){return new(K||W)};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const ne=new y.OlP("EventManagerPlugins");let fe=(()=>{class W{constructor(G,K){this._zone=K,this._eventNameToPlugin=new Map,G.forEach(we=>{we.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,K,we){return this._findPluginFor(K).addEventListener(G,K,we)}getZone(){return this._zone}_findPluginFor(G){let K=this._eventNameToPlugin.get(G);if(K)return K;if(K=this._plugins.find(Ye=>Ye.supports(G)),!K)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(G,K),K}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG(ne),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();class ce{constructor(Y){this._doc=Y}}const Se="ng-app-id";let De=(()=>{class W{constructor(G,K,we,Ye={}){this.doc=G,this.appId=K,this.nonce=we,this.platformId=Ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,$.PM)(Ye),this.resetHostNodes()}addStyles(G){for(const K of G)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(G){for(const K of G)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(K=>K.remove()),G.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const K of this.getAllStyles())this.addStyleToHost(G,K)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const K of this.hostNodes)this.addStyleToHost(K,G)}onStyleRemoved(G){const K=this.styleRef;K.get(G)?.elements?.forEach(we=>we.remove()),K.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${Se}="${this.appId}"]`);if(G?.length){const K=new Map;return G.forEach(we=>{null!=we.textContent&&K.set(we.textContent,we)}),K}return null}changeUsageCount(G,K){const we=this.styleRef;if(we.has(G)){const Ye=we.get(G);return Ye.usage+=K,Ye.usage}return we.set(G,{usage:K,elements:[]}),K}getStyleElement(G,K){const we=this.styleNodesInDOM,Ye=we?.get(K);if(Ye?.parentNode===G)return we.delete(K),Ye.removeAttribute(Se),Ye;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=K,this.platformIsServer&&It.setAttribute(Se,this.appId),It}}addStyleToHost(G,K){const we=this.getStyleElement(G,K);G.appendChild(we);const Ye=this.styleRef,It=Ye.get(K)?.elements;It?It.push(we):Ye.set(K,{elements:[we],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG($.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,Oe=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ot(W,Y){return Y.map(G=>G.replace(it,W))}let ct=(()=>{class W{constructor(G,K,we,Ye,It,Lt,cn,Zt=null){this.eventManager=G,this.sharedStylesHost=K,this.appId=we,this.removeStylesOnCompDestroy=Ye,this.doc=It,this.platformId=Lt,this.ngZone=cn,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,$.PM)(Lt),this.defaultRenderer=new _n(G,It,cn,this.platformIsServer)}createRenderer(G,K){if(!G||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===y.ifc.ShadowDom&&(K={...K,encapsulation:y.ifc.Emulated});const we=this.getOrCreateRenderer(G,K);return we instanceof sn?we.applyToHost(G):we instanceof an&&we.applyStyles(),we}getOrCreateRenderer(G,K){const we=this.rendererByCompId;let Ye=we.get(K.id);if(!Ye){const It=this.doc,Lt=this.ngZone,cn=this.eventManager,Zt=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,Kn=this.platformIsServer;switch(K.encapsulation){case y.ifc.Emulated:Ye=new sn(cn,Zt,K,this.appId,tn,It,Lt,Kn);break;case y.ifc.ShadowDom:return new Wt(cn,Zt,G,K,It,Lt,this.nonce,Kn);default:Ye=new an(cn,Zt,K,tn,It,Lt,Kn)}we.set(K.id,Ye)}return Ye}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG(fe),y.LFG(De),y.LFG(y.AFp),y.LFG(Oe),y.LFG($.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();class _n{constructor(Y,G,K,we){this.eventManager=Y,this.doc=G,this.ngZone=K,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,G){return G?this.doc.createElementNS(Ne[G]||G,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,G){(Ge(Y)?Y.content:Y).appendChild(G)}insertBefore(Y,G,K){Y&&(Ge(Y)?Y.content:Y).insertBefore(G,K)}removeChild(Y,G){Y&&Y.removeChild(G)}selectRootElement(Y,G){let K="string"==typeof Y?this.doc.querySelector(Y):Y;if(!K)throw new y.vHH(-5104,!1);return G||(K.textContent=""),K}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,G,K,we){if(we){G=we+":"+G;const Ye=Ne[we];Ye?Y.setAttributeNS(Ye,G,K):Y.setAttribute(G,K)}else Y.setAttribute(G,K)}removeAttribute(Y,G,K){if(K){const we=Ne[K];we?Y.removeAttributeNS(we,G):Y.removeAttribute(`${K}:${G}`)}else Y.removeAttribute(G)}addClass(Y,G){Y.classList.add(G)}removeClass(Y,G){Y.classList.remove(G)}setStyle(Y,G,K,we){we&(y.JOm.DashCase|y.JOm.Important)?Y.style.setProperty(G,K,we&y.JOm.Important?"important":""):Y.style[G]=K}removeStyle(Y,G,K){K&y.JOm.DashCase?Y.style.removeProperty(G):Y.style[G]=""}setProperty(Y,G,K){Y[G]=K}setValue(Y,G){Y.nodeValue=G}listen(Y,G,K){if("string"==typeof Y&&!(Y=(0,$.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${G}`);return this.eventManager.addEventListener(Y,G,this.decoratePreventDefault(K))}decoratePreventDefault(Y){return G=>{if("__ngUnwrap__"===G)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(G)):Y(G))&&G.preventDefault()}}}function Ge(W){return"TEMPLATE"===W.tagName&&void 0!==W.content}class Wt extends _n{constructor(Y,G,K,we,Ye,It,Lt,cn){super(Y,Ye,It,cn),this.sharedStylesHost=G,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=ot(we.id,we.styles);for(const tn of Zt){const Kn=document.createElement("style");Lt&&Kn.setAttribute("nonce",Lt),Kn.textContent=tn,this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,G){return super.appendChild(this.nodeOrShadowRoot(Y),G)}insertBefore(Y,G,K){return super.insertBefore(this.nodeOrShadowRoot(Y),G,K)}removeChild(Y,G){return super.removeChild(this.nodeOrShadowRoot(Y),G)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class an extends _n{constructor(Y,G,K,we,Ye,It,Lt,cn){super(Y,Ye,It,Lt),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=we,this.styles=cn?ot(cn,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sn extends an{constructor(Y,G,K,we,Ye,It,Lt,cn){const Zt=we+"-"+K.id;super(Y,G,K,Ye,It,Lt,cn,Zt),this.contentAttr=function Ee(W){return"_ngcontent-%COMP%".replace(it,W)}(Zt),this.hostAttr=function et(W){return"_nghost-%COMP%".replace(it,W)}(Zt)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,G){const K=super.createElement(Y,G);return super.setAttribute(K,this.contentAttr,""),K}}let Dr=(()=>{class W extends ce{constructor(G){super(G)}supports(G){return!0}addEventListener(G,K,we){return G.addEventListener(K,we,!1),()=>this.removeEventListener(G,K,we)}removeEventListener(G,K,we){return G.removeEventListener(K,we)}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG($.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const Tr=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:W=>W.altKey,control:W=>W.ctrlKey,meta:W=>W.metaKey,shift:W=>W.shiftKey};let qe=(()=>{class W extends ce{constructor(G){super(G)}supports(G){return null!=W.parseEventName(G)}addEventListener(G,K,we){const Ye=W.parseEventName(K),It=W.eventCallback(Ye.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,$.q)().onAndCancel(G,Ye.domEventName,It))}static parseEventName(G){const K=G.toLowerCase().split("."),we=K.shift();if(0===K.length||"keydown"!==we&&"keyup"!==we)return null;const Ye=W._normalizeKey(K.pop());let It="",Lt=K.indexOf("code");if(Lt>-1&&(K.splice(Lt,1),It="code."),Tr.forEach(Zt=>{const tn=K.indexOf(Zt);tn>-1&&(K.splice(tn,1),It+=Zt+".")}),It+=Ye,0!=K.length||0===Ye.length)return null;const cn={};return cn.domEventName=we,cn.fullKey=It,cn}static matchEventFullKeyCode(G,K){let we=Ve[G.key]||G.key,Ye="";return K.indexOf("code.")>-1&&(we=G.code,Ye="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),Tr.forEach(It=>{It!==we&&(0,$e[It])(G)&&(Ye+=It+".")}),Ye+=we,Ye===K)}static eventCallback(G,K,we){return Ye=>{W.matchEventFullKeyCode(Ye,G)&&we.runGuarded(()=>K(Ye))}}static _normalizeKey(G){return"esc"===G?"escape":G}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG($.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const Xt=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:$.bD},{provide:y.g9A,useValue:function ke(){ee.makeCurrent()},multi:!0},{provide:$.K0,useFactory:function Kt(){return(0,y.RDi)(document),document},deps:[]}]),En=new y.OlP(""),Sn=[{provide:y.rWj,useClass:class ue{addToWindow(Y){y.dqk.getAngularTestability=(K,we=!0)=>{const Ye=Y.findTestabilityInTree(K,we);if(null==Ye)throw new y.vHH(5103,!1);return Ye},y.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(K=>{const we=y.dqk.getAllAngularTestabilities();let Ye=we.length,It=!1;const Lt=function(cn){It=It||cn,Ye--,0==Ye&&K(It)};we.forEach(cn=>{cn.whenStable(Lt)})})}findTestabilityInTree(Y,G,K){return null==G?null:Y.getTestability(G)??(K?(0,$.q)().isShadowRoot(G)?this.findTestabilityInTree(Y,G.host,!0):this.findTestabilityInTree(Y,G.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Pn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function un(){return new y.qLn},deps:[]},{provide:ne,useClass:Dr,multi:!0,deps:[$.K0,y.R0b,y.Lbi]},{provide:ne,useClass:qe,multi:!0,deps:[$.K0]},ct,De,fe,{provide:y.FYo,useExisting:ct},{provide:$.JF,useClass:J,deps:[]},[]];let Wn=(()=>{class W{constructor(G){}static withServerTransition(G){return{ngModule:W,providers:[{provide:y.AFp,useValue:G.appId}]}}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG(En,12))};static#t=this.\u0275mod=y.oAB({type:W});static#n=this.\u0275inj=y.cJS({providers:[...Pn,...Sn],imports:[$.ez,y.hGG]})}return W})(),Re=(()=>{class W{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG($.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(K){let we=null;return we=K?new K:function Pr(){return new Re((0,y.LFG)($.K0))}(),we},providedIn:"root"})}return W})();typeof window<"u"&&window;let Ii=(()=>{class W{static#e=this.\u0275fac=function(K){return new(K||W)};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(K){let we=null;return we=K?new(K||W):y.LFG(Qi),we},providedIn:"root"})}return W})(),Qi=(()=>{class W extends Ii{constructor(G){super(),this._doc=G}sanitize(G,K){if(null==K)return null;switch(G){case y.q3G.NONE:return K;case y.q3G.HTML:return(0,y.qzn)(K,"HTML")?(0,y.z3N)(K):(0,y.EiD)(this._doc,String(K)).toString();case y.q3G.STYLE:return(0,y.qzn)(K,"Style")?(0,y.z3N)(K):K;case y.q3G.SCRIPT:if((0,y.qzn)(K,"Script"))return(0,y.z3N)(K);throw new y.vHH(5200,!1);case y.q3G.URL:return(0,y.qzn)(K,"URL")?(0,y.z3N)(K):(0,y.mCW)(String(K));case y.q3G.RESOURCE_URL:if((0,y.qzn)(K,"ResourceURL"))return(0,y.z3N)(K);throw new y.vHH(5201,!1);default:throw new y.vHH(5202,!1)}}bypassSecurityTrustHtml(G){return(0,y.JVY)(G)}bypassSecurityTrustStyle(G){return(0,y.L6k)(G)}bypassSecurityTrustScript(G){return(0,y.eBb)(G)}bypassSecurityTrustUrl(G){return(0,y.LAX)(G)}bypassSecurityTrustResourceUrl(G){return(0,y.pB0)(G)}static#e=this.\u0275fac=function(K){return new(K||W)(y.LFG($.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(K){let we=null;return we=K?new K:function Gn(W){return new Qi(W.get($.K0))}(y.LFG(y.zs3)),we},providedIn:"root"})}return W})()},1303:(ye,re,O)=>{O.d(re,{gz:()=>Sr,F0:()=>Xe,rH:()=>Si,Bz:()=>Du,lC:()=>Jn});var y=O(5879),$=O(2664),he=O(2459),ee=O(2096),j=O(5619),Q=O(2572);const ge=(0,O(2306).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var ue=O(5211),J=O(4911),ne=O(8407),fe=O(8504),ce=O(6232),Se=O(3168),De=O(8645),Ne=O(7394),it=O(6814),Ze=O(7398),vt=O(4664),pt=O(8180),se=O(7921),Oe=O(2181),Ee=O(1631),et=O(9360),ot=O(8251);function ct(E){return(0,et.e)((b,_)=>{let S=!1;b.subscribe((0,ot.x)(_,N=>{S=!0,_.next(N)},()=>{S||_.next(E),_.complete()}))})}function _n(E=Et){return(0,et.e)((b,_)=>{let S=!1;b.subscribe((0,ot.x)(_,N=>{S=!0,_.next(N)},()=>S?_.complete():_.error(E())))})}function Et(){return new ge}var Yt=O(2737);function Ge(E,b){const _=arguments.length>=2;return S=>S.pipe(E?(0,Oe.h)((N,q)=>E(N,q,S)):Yt.y,(0,pt.q)(1),_?ct(b):_n(()=>new ge))}var Wt=O(6328),an=O(9397),sn=O(6306),Dr=O(6699);function Tr(E){return E<=0?()=>ce.E:(0,et.e)((b,_)=>{let S=[];b.subscribe((0,ot.x)(_,N=>{S.push(N),E<S.length&&S.shift()},()=>{for(const N of S)_.next(N);_.complete()},void 0,()=>{S=null}))})}var $e=O(975),qe=O(4716),He=O(6196),lt=O(9773),at=O(7537),Gt=O(6593);const ke="primary",un=Symbol("RouteTitle");class Kt{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_[0]:_}return null}getAll(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function gn(E){return new Kt(E)}function Xt(E,b,_){const S=_.path.split("/");if(S.length>E.length||"full"===_.pathMatch&&(b.hasChildren()||S.length<E.length))return null;const N={};for(let q=0;q<S.length;q++){const le=S[q],je=E[q];if(le.startsWith(":"))N[le.substring(1)]=je;else if(le!==je.path)return null}return{consumed:E.slice(0,S.length),posParams:N}}function Sn(E,b){const _=E?Object.keys(E):void 0,S=b?Object.keys(b):void 0;if(!_||!S||_.length!=S.length)return!1;let N;for(let q=0;q<_.length;q++)if(N=_[q],!Pn(E[N],b[N]))return!1;return!0}function Pn(E,b){if(Array.isArray(E)&&Array.isArray(b)){if(E.length!==b.length)return!1;const _=[...E].sort(),S=[...b].sort();return _.every((N,q)=>S[q]===N)}return E===b}function Wn(E){return E.length>0?E[E.length-1]:null}function er(E){return(0,$.b)(E)?E:(0,y.QGY)(E)?(0,he.D)(Promise.resolve(E)):(0,ee.of)(E)}const Rr={exact:function ht(E,b,_){if(!Zn(E.segments,b.segments)||!jt(E.segments,b.segments,_)||E.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!E.children[S]||!ht(E.children[S],b.children[S],_))return!1;return!0},subset:st},oi={exact:function Re(E,b){return Sn(E,b)},subset:function Nt(E,b){return Object.keys(b).length<=Object.keys(E).length&&Object.keys(b).every(_=>Pn(E[_],b[_]))},ignored:()=>!0};function Pr(E,b,_){return Rr[_.paths](E.root,b.root,_.matrixParams)&&oi[_.queryParams](E.queryParams,b.queryParams)&&!("exact"===_.fragment&&E.fragment!==b.fragment)}function st(E,b,_){return Qt(E,b,b.segments,_)}function Qt(E,b,_,S){if(E.segments.length>_.length){const N=E.segments.slice(0,_.length);return!(!Zn(N,_)||b.hasChildren()||!jt(N,_,S))}if(E.segments.length===_.length){if(!Zn(E.segments,_)||!jt(E.segments,_,S))return!1;for(const N in b.children)if(!E.children[N]||!st(E.children[N],b.children[N],S))return!1;return!0}{const N=_.slice(0,E.segments.length),q=_.slice(E.segments.length);return!!(Zn(E.segments,N)&&jt(E.segments,N,S)&&E.children[ke])&&Qt(E.children[ke],b,q,S)}}function jt(E,b,_){return b.every((S,N)=>oi[_](E[N].parameters,S.parameters))}class An{constructor(b=new yn([],{}),_={},S=null){this.root=b,this.queryParams=_,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return ln.serialize(this)}}class yn{constructor(b,_){this.segments=b,this.children=_,this.parent=null,Object.values(_).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class Mr{constructor(b,_){this.path=b,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return tr(this)}}function Zn(E,b){return E.length===b.length&&E.every((_,S)=>_.path===b[S].path)}let zt=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return new xi},providedIn:"root"})}return E})();class xi{parse(b){const _=new It(b);return new An(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(b){const _=`/${Vr(b.root,!0)}`,S=function Ni(E){const b=Object.keys(E).map(_=>{const S=E[_];return Array.isArray(S)?S.map(N=>`${Gn(_)}=${Gn(N)}`).join("&"):`${Gn(_)}=${Gn(S)}`}).filter(_=>!!_);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${_}${S}${"string"==typeof b.fragment?`#${function Qi(E){return encodeURI(E)}(b.fragment)}`:""}`}}const ln=new xi;function ai(E){return E.segments.map(b=>tr(b)).join("/")}function Vr(E,b){if(!E.hasChildren())return ai(E);if(b){const _=E.children[ke]?Vr(E.children[ke],!1):"",S=[];return Object.entries(E.children).forEach(([N,q])=>{N!==ke&&S.push(`${N}:${Vr(q,!1)}`)}),S.length>0?`${_}(${S.join("//")})`:_}{const _=function Oi(E,b){let _=[];return Object.entries(E.children).forEach(([S,N])=>{S===ke&&(_=_.concat(b(N,S)))}),Object.entries(E.children).forEach(([S,N])=>{S!==ke&&(_=_.concat(b(N,S)))}),_}(E,(S,N)=>N===ke?[Vr(E.children[ke],!1)]:[`${N}:${Vr(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[ke]?`${ai(E)}/${_[0]}`:`${ai(E)}/(${_.join("//")})`}}function Ii(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gn(E){return Ii(E).replace(/%3B/gi,";")}function Ti(E){return Ii(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pi(E){return decodeURIComponent(E)}function Hr(E){return pi(E.replace(/\+/g,"%20"))}function tr(E){return`${Ti(E.path)}${function ar(E){return Object.keys(E).map(b=>`;${Ti(b)}=${Ti(E[b])}`).join("")}(E.parameters)}`}const Ur=/^[^\/()?;#]+/;function me(E){const b=E.match(Ur);return b?b[0]:""}const W=/^[^\/()?;=#]+/,G=/^[^=?&#]+/,we=/^[^&#]+/;class It{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(_).length>0)&&(S[ke]=new yn(b,_)),S}parseSegment(){const b=me(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(b),new Mr(pi(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const _=function Y(E){const b=E.match(W);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const N=me(this.remaining);N&&(S=N,this.capture(S))}b[pi(_)]=pi(S)}parseQueryParam(b){const _=function K(E){const b=E.match(G);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const le=function Ye(E){const b=E.match(we);return b?b[0]:""}(this.remaining);le&&(S=le,this.capture(S))}const N=Hr(_),q=Hr(S);if(b.hasOwnProperty(N)){let le=b[N];Array.isArray(le)||(le=[le],b[N]=le),le.push(q)}else b[N]=q}parseParens(b){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=me(this.remaining),N=this.remaining[S.length];if("/"!==N&&")"!==N&&";"!==N)throw new y.vHH(4010,!1);let q;S.indexOf(":")>-1?(q=S.slice(0,S.indexOf(":")),this.capture(q),this.capture(":")):b&&(q=ke);const le=this.parseChildren();_[q]=1===Object.keys(le).length?le[ke]:new yn([],le),this.consumeOptional("//")}return _}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new y.vHH(4011,!1)}}function Lt(E){return E.segments.length>0?new yn([],{[ke]:E}):E}function cn(E){const b={};for(const S of Object.keys(E.children)){const q=cn(E.children[S]);if(S===ke&&0===q.segments.length&&q.hasChildren())for(const[le,je]of Object.entries(q.children))b[le]=je;else(q.segments.length>0||q.hasChildren())&&(b[S]=q)}return function Zt(E){if(1===E.numberOfChildren&&E.children[ke]){const b=E.children[ke];return new yn(E.segments.concat(b.segments),b.children)}return E}(new yn(E.segments,b))}function tn(E){return E instanceof An}function nr(E){let b;const N=Lt(function _(q){const le={};for(const Ue of q.children){const Vt=_(Ue);le[Ue.outlet]=Vt}const je=new yn(q.url,le);return q===E&&(b=je),je}(E.root));return b??N}function Yi(E,b,_,S){let N=E;for(;N.parent;)N=N.parent;if(0===b.length)return Ce(N,N,N,_,S);const q=function nn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Ut(!0,0,E);let b=0,_=!1;const S=E.reduce((N,q,le)=>{if("object"==typeof q&&null!=q){if(q.outlets){const je={};return Object.entries(q.outlets).forEach(([Ue,Vt])=>{je[Ue]="string"==typeof Vt?Vt.split("/"):Vt}),[...N,{outlets:je}]}if(q.segmentPath)return[...N,q.segmentPath]}return"string"!=typeof q?[...N,q]:0===le?(q.split("/").forEach((je,Ue)=>{0==Ue&&"."===je||(0==Ue&&""===je?_=!0:".."===je?b++:""!=je&&N.push(je))}),N):[...N,q]},[]);return new Ut(_,b,S)}(b);if(q.toRoot())return Ce(N,N,new yn([],{}),_,S);const le=function jn(E,b,_){if(E.isAbsolute)return new Dt(b,!0,0);if(!_)return new Dt(b,!1,NaN);if(null===_.parent)return new Dt(_,!0,0);const S=Is(E.commands[0])?0:1;return function xr(E,b,_){let S=E,N=b,q=_;for(;q>N;){if(q-=N,S=S.parent,!S)throw new y.vHH(4005,!1);N=S.segments.length}return new Dt(S,!1,N-q)}(_,_.segments.length-1+S,E.numberOfDoubleDots)}(q,N,E),je=le.processChildren?Nr(le.segmentGroup,le.index,q.commands):gi(le.segmentGroup,le.index,q.commands);return Ce(N,le.segmentGroup,je,_,S)}function Is(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function We(E){return"object"==typeof E&&null!=E&&E.outlets}function Ce(E,b,_,S,N){let le,q={};S&&Object.entries(S).forEach(([Ue,Vt])=>{q[Ue]=Array.isArray(Vt)?Vt.map(pn=>`${pn}`):`${Vt}`}),le=E===b?_:dt(E,b,_);const je=Lt(cn(le));return new An(je,q,N)}function dt(E,b,_){const S={};return Object.entries(E.children).forEach(([N,q])=>{S[N]=q===b?_:dt(q,b,_)}),new yn(E.segments,S)}class Ut{constructor(b,_,S){if(this.isAbsolute=b,this.numberOfDoubleDots=_,this.commands=S,b&&S.length>0&&Is(S[0]))throw new y.vHH(4003,!1);const N=S.find(We);if(N&&N!==Wn(S))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dt{constructor(b,_,S){this.segmentGroup=b,this.processChildren=_,this.index=S}}function gi(E,b,_){if(E||(E=new yn([],{})),0===E.segments.length&&E.hasChildren())return Nr(E,b,_);const S=function mi(E,b,_){let S=0,N=b;const q={match:!1,pathIndex:0,commandIndex:0};for(;N<E.segments.length;){if(S>=_.length)return q;const le=E.segments[N],je=_[S];if(We(je))break;const Ue=`${je}`,Vt=S<_.length-1?_[S+1]:null;if(N>0&&void 0===Ue)break;if(Ue&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!Zi(Ue,Vt,le))return q;S+=2}else{if(!Zi(Ue,{},le))return q;S++}N++}return{match:!0,pathIndex:N,commandIndex:S}}(E,b,_),N=_.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const q=new yn(E.segments.slice(0,S.pathIndex),{});return q.children[ke]=new yn(E.segments.slice(S.pathIndex),E.children),Nr(q,0,N)}return S.match&&0===N.length?new yn(E.segments,{}):S.match&&!E.hasChildren()?Ns(E,b,_):S.match?Nr(E,0,N):Ns(E,b,_)}function Nr(E,b,_){if(0===_.length)return new yn(E.segments,{});{const S=function yr(E){return We(E[0])?E[0].outlets:{[ke]:E}}(_),N={};if(Object.keys(S).some(q=>q!==ke)&&E.children[ke]&&1===E.numberOfChildren&&0===E.children[ke].segments.length){const q=Nr(E.children[ke],b,_);return new yn(E.segments,q.children)}return Object.entries(S).forEach(([q,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(N[q]=gi(E.children[q],b,le))}),Object.entries(E.children).forEach(([q,le])=>{void 0===S[q]&&(N[q]=le)}),new yn(E.segments,N)}}function Ns(E,b,_){const S=E.segments.slice(0,b);let N=0;for(;N<_.length;){const q=_[N];if(We(q)){const Ue=js(q.outlets);return new yn(S,Ue)}if(0===N&&Is(_[0])){S.push(new Mr(E.segments[b].path,ps(_[0]))),N++;continue}const le=We(q)?q.outlets[ke]:`${q}`,je=N<_.length-1?_[N+1]:null;le&&je&&Is(je)?(S.push(new Mr(le,ps(je))),N+=2):(S.push(new Mr(le,{})),N++)}return new yn(S,{})}function js(E){const b={};return Object.entries(E).forEach(([_,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(b[_]=Ns(new yn([],{}),0,S))}),b}function ps(E){const b={};return Object.entries(E).forEach(([_,S])=>b[_]=`${S}`),b}function Zi(E,b,_){return E==_.path&&Sn(b,_.parameters)}const ks="imperative";class rr{constructor(b,_){this.id=b,this.url=_}}class hr extends rr{constructor(b,_,S="imperative",N=null){super(b,_),this.type=0,this.navigationTrigger=S,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends rr{constructor(b,_,S){super(b,_),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gs extends rr{constructor(b,_,S,N){super(b,_),this.reason=S,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ms extends rr{constructor(b,_,S,N){super(b,_),this.reason=S,this.code=N,this.type=16}}class _i extends rr{constructor(b,_,S,N){super(b,_),this.error=S,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ls extends rr{constructor(b,_,S,N){super(b,_),this.urlAfterRedirects=S,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends rr{constructor(b,_,S,N){super(b,_),this.urlAfterRedirects=S,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts extends rr{constructor(b,_,S,N,q){super(b,_),this.urlAfterRedirects=S,this.state=N,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $s extends rr{constructor(b,_,S,N){super(b,_),this.urlAfterRedirects=S,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends rr{constructor(b,_,S,N){super(b,_),this.urlAfterRedirects=S,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ds{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ws{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(b,_,S){this.routerEvent=b,this.position=_,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ke{}class Ae{constructor(b){this.url=b}}class mt{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tt,this.attachRef=null}}let Tt=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(_,S){const N=this.getOrCreateContext(_);N.outlet=S,this.contexts.set(_,N)}onChildOutletDestroyed(_){const S=this.getContext(_);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let S=this.getContext(_);return S||(S=new mt,this.contexts.set(_,S)),S}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class vn{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const _=this.pathFromRoot(b);return _.length>1?_[_.length-2]:null}children(b){const _=fr(b,this._root);return _?_.children.map(S=>S.value):[]}firstChild(b){const _=fr(b,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(b){const _=ir(b,this._root);return _.length<2?[]:_[_.length-2].children.map(N=>N.value).filter(N=>N!==b)}pathFromRoot(b){return ir(b,this._root).map(_=>_.value)}}function fr(E,b){if(E===b.value)return b;for(const _ of b.children){const S=fr(E,_);if(S)return S}return null}function ir(E,b){if(E===b.value)return[b];for(const _ of b.children){const S=ir(E,_);if(S.length)return S.unshift(b),S}return[]}class vr{constructor(b,_){this.value=b,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ot(E){const b={};return E&&E.children.forEach(_=>b[_.value.outlet]=_),b}class $n extends vn{constructor(b,_){super(b),this.snapshot=_,Ys(this,b)}toString(){return this.snapshot.toString()}}function Wr(E,b){const _=function Hs(E,b){const le=new Ji([],{},{},"",{},ke,b,null,{});return new ss("",new vr(le,[]))}(0,b),S=new j.X([new Mr("",{})]),N=new j.X({}),q=new j.X({}),le=new j.X({}),je=new j.X(""),Ue=new Sr(S,N,le,je,q,ke,b,_.root);return Ue.snapshot=_.root,new $n(new vr(Ue,[]),_)}class Sr{constructor(b,_,S,N,q,le,je,Ue){this.urlSubject=b,this.paramsSubject=_,this.queryParamsSubject=S,this.fragmentSubject=N,this.dataSubject=q,this.outlet=le,this.component=je,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,Ze.U)(Vt=>Vt[un]))??(0,ee.of)(void 0),this.url=b,this.params=_,this.queryParams=S,this.fragment=N,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(b=>gn(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(b=>gn(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qs(E,b="emptyOnly"){const _=E.pathFromRoot;let S=0;if("always"!==b)for(S=_.length-1;S>=1;){const N=_[S],q=_[S-1];if(N.routeConfig&&""===N.routeConfig.path)S--;else{if(q.component)break;S--}}return function ko(E){return E.reduce((b,_)=>({params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(S))}class Ji{get title(){return this.data?.[un]}constructor(b,_,S,N,q,le,je,Ue,Vt){this.url=b,this.params=_,this.queryParams=S,this.fragment=N,this.data=q,this.outlet=le,this.component=je,this.routeConfig=Ue,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends vn{constructor(b,_){super(_),this.url=b,Ys(this,_)}toString(){return pr(this._root)}}function Ys(E,b){b.value._routerState=E,b.children.forEach(_=>Ys(E,_))}function pr(E){const b=E.children.length>0?` { ${E.children.map(pr).join(", ")} } `:"";return`${E.value}${b}`}function St(E){if(E.snapshot){const b=E.snapshot,_=E._futureSnapshot;E.snapshot=_,Sn(b.queryParams,_.queryParams)||E.queryParamsSubject.next(_.queryParams),b.fragment!==_.fragment&&E.fragmentSubject.next(_.fragment),Sn(b.params,_.params)||E.paramsSubject.next(_.params),function En(E,b){if(E.length!==b.length)return!1;for(let _=0;_<E.length;++_)if(!Sn(E[_],b[_]))return!1;return!0}(b.url,_.url)||E.urlSubject.next(_.url),Sn(b.data,_.data)||E.dataSubject.next(_.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function Ft(E,b){const _=Sn(E.params,b.params)&&function Fn(E,b){return Zn(E,b)&&E.every((_,S)=>Sn(_.parameters,b[S].parameters))}(E.url,b.url);return _&&!(!E.parent!=!b.parent)&&(!E.parent||Ft(E.parent,b.parent))}let Jn=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Tt),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Xi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:S,previousValue:N}=_.name;if(S)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,S){this.activated=_,this._activatedRoute=S,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,S){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=_;const N=this.location,le=_.snapshot.component,je=this.parentContexts.getOrCreateContext(this.name).children,Ue=new Xr(_,je,N.injector);this.activated=N.createComponent(le,{index:N.length,injector:Ue,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]})}return E})();class Xr{constructor(b,_,S){this.route=b,this.childContexts=_,this.parent=S}get(b,_){return b===Sr?this.route:b===Tt?this.childContexts:this.parent.get(b,_)}}const Xi=new y.OlP("");let ci=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:S}=_,N=(0,Q.a)([S.queryParams,S.params,S.data]).pipe((0,vt.w)(([q,le,je],Ue)=>(je={...q,...le,...je},0===Ue?(0,ee.of)(je):Promise.resolve(je)))).subscribe(q=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(_);const le=(0,y.qFp)(S.component);if(le)for(const{templateName:je}of le.inputs)_.activatedComponentRef.setInput(je,q[je]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,N)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac})}return E})();function Er(E,b,_){if(_&&E.shouldReuseRoute(b.value,_.value.snapshot)){const S=_.value;S._futureSnapshot=b.value;const N=function os(E,b,_){return b.children.map(S=>{for(const N of _.children)if(E.shouldReuseRoute(S.value,N.value.snapshot))return Er(E,S,N);return Er(E,S)})}(E,b,_);return new vr(S,N)}{if(E.shouldAttach(b.value)){const q=E.retrieve(b.value);if(null!==q){const le=q.route;return le.value._futureSnapshot=b.value,le.children=b.children.map(je=>Er(E,je)),le}}const S=function Li(E){return new Sr(new j.X(E.url),new j.X(E.params),new j.X(E.queryParams),new j.X(E.fragment),new j.X(E.data),E.outlet,E.component,E)}(b.value),N=b.children.map(q=>Er(E,q));return new vr(S,N)}}const dn="ngNavigationCancelingError";function Kr(E,b){const{redirectTo:_,navigationBehaviorOptions:S}=tn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,N=Di(!1,0,b);return N.url=_,N.navigationBehaviorOptions=S,N}function Di(E,b,_){const S=new Error("NavigationCancelingError: "+(E||""));return S[dn]=!0,S.cancellationCode=b,_&&(S.url=_),S}function wr(E){return E&&E[dn]}let no=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=y.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(S,N){1&S&&y._UZ(0,"router-outlet")},dependencies:[Jn],encapsulation:2})}return E})();function li(E){const b=E.children&&E.children.map(li),_=b?{...E,children:b}:{...E};return!_.component&&!_.loadComponent&&(b||_.loadChildren)&&_.outlet&&_.outlet!==ke&&(_.component=no),_}function di(E){return E.outlet||ke}function Gr(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let b=E.parent;b;b=b.parent){const _=b.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Ws{constructor(b,_,S,N,q){this.routeReuseStrategy=b,this.futureState=_,this.currState=S,this.forwardEvent=N,this.inputBindingEnabled=q}activate(b){const _=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,S,b),St(this.futureState.root),this.activateChildRoutes(_,S,b)}deactivateChildRoutes(b,_,S){const N=Ot(_);b.children.forEach(q=>{const le=q.value.outlet;this.deactivateRoutes(q,N[le],S),delete N[le]}),Object.values(N).forEach(q=>{this.deactivateRouteAndItsChildren(q,S)})}deactivateRoutes(b,_,S){const N=b.value,q=_?_.value:null;if(N===q)if(N.component){const le=S.getContext(N.outlet);le&&this.deactivateChildRoutes(b,_,le.children)}else this.deactivateChildRoutes(b,_,S);else q&&this.deactivateRouteAndItsChildren(_,S)}deactivateRouteAndItsChildren(b,_){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,_):this.deactivateRouteAndOutlet(b,_)}detachAndStoreRouteSubtree(b,_){const S=_.getContext(b.value.outlet),N=S&&b.value.component?S.children:_,q=Ot(b);for(const le of Object.keys(q))this.deactivateRouteAndItsChildren(q[le],N);if(S&&S.outlet){const le=S.outlet.detach(),je=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:le,route:b,contexts:je})}}deactivateRouteAndOutlet(b,_){const S=_.getContext(b.value.outlet),N=S&&b.value.component?S.children:_,q=Ot(b);for(const le of Object.keys(q))this.deactivateRouteAndItsChildren(q[le],N);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(b,_,S){const N=Ot(_);b.children.forEach(q=>{this.activateRoutes(q,N[q.value.outlet],S),this.forwardEvent(new ui(q.value.snapshot))}),b.children.length&&this.forwardEvent(new zs(b.value.snapshot))}activateRoutes(b,_,S){const N=b.value,q=_?_.value:null;if(St(N),N===q)if(N.component){const le=S.getOrCreateContext(N.outlet);this.activateChildRoutes(b,_,le.children)}else this.activateChildRoutes(b,_,S);else if(N.component){const le=S.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const je=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),le.children.onOutletReAttached(je.contexts),le.attachRef=je.componentRef,le.route=je.route.value,le.outlet&&le.outlet.attach(je.componentRef,je.route.value),St(je.route.value),this.activateChildRoutes(b,null,le.children)}else{const je=Gr(N.snapshot);le.attachRef=null,le.route=N,le.injector=je,le.outlet&&le.outlet.activateWith(N,le.injector),this.activateChildRoutes(b,null,le.children)}}else this.activateChildRoutes(b,null,S)}}class kr{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Lo{constructor(b,_){this.component=b,this.route=_}}function wi(E,b,_){const S=E._root;return yi(S,b?b._root:null,_,[S.value])}function us(E,b){const _=Symbol(),S=b.get(E,_);return S===_?"function"!=typeof E||(0,y.Z0I)(E)?b.get(E):E:S}function yi(E,b,_,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ot(b);return E.children.forEach(le=>{(function va(E,b,_,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=E.value,le=b?b.value:null,je=_?_.getContext(E.value.outlet):null;if(le&&q.routeConfig===le.routeConfig){const Ue=function zn(E,b,_){if("function"==typeof _)return _(E,b);switch(_){case"pathParamsChange":return!Zn(E.url,b.url);case"pathParamsOrQueryParamsChange":return!Zn(E.url,b.url)||!Sn(E.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ft(E,b)||!Sn(E.queryParams,b.queryParams);default:return!Ft(E,b)}}(le,q,q.routeConfig.runGuardsAndResolvers);Ue?N.canActivateChecks.push(new kr(S)):(q.data=le.data,q._resolvedData=le._resolvedData),yi(E,b,q.component?je?je.children:null:_,S,N),Ue&&je&&je.outlet&&je.outlet.isActivated&&N.canDeactivateChecks.push(new Lo(je.outlet.component,le))}else le&&Ss(b,je,N),N.canActivateChecks.push(new kr(S)),yi(E,null,q.component?je?je.children:null:_,S,N)})(le,q[le.value.outlet],_,S.concat([le.value]),N),delete q[le.value.outlet]}),Object.entries(q).forEach(([le,je])=>Ss(je,_.getContext(le),N)),N}function Ss(E,b,_){const S=Ot(E),N=E.value;Object.entries(S).forEach(([q,le])=>{Ss(le,N.component?b?b.children.getContext(q):null:b,_)}),_.canDeactivateChecks.push(new Lo(N.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,N))}function Ai(E){return"function"==typeof E}function Xo(E){return E instanceof ge||"EmptyError"===E?.name}const Vo=Symbol("INITIAL_VALUE");function Gs(){return(0,vt.w)(E=>(0,Q.a)(E.map(b=>b.pipe((0,pt.q)(1),(0,se.O)(Vo)))).pipe((0,Ze.U)(b=>{for(const _ of b)if(!0!==_){if(_===Vo)return Vo;if(!1===_||_ instanceof An)return _}return!0}),(0,Oe.h)(b=>b!==Vo),(0,pt.q)(1)))}function yo(E){return(0,ne.z)((0,an.b)(b=>{if(tn(b))throw Kr(0,b)}),(0,Ze.U)(b=>!0===b))}class Fi{constructor(b){this.segmentGroup=b||null}}class vs{constructor(b){this.urlTree=b}}function oo(E){return(0,fe._)(new Fi(E))}function ei(E){return(0,fe._)(new vs(E))}class ao{constructor(b,_){this.urlSerializer=b,this.urlTree=_}noMatchError(b){return new y.vHH(4002,!1)}lineralizeSegments(b,_){let S=[],N=_.root;for(;;){if(S=S.concat(N.segments),0===N.numberOfChildren)return(0,ee.of)(S);if(N.numberOfChildren>1||!N.children[ke])return(0,fe._)(new y.vHH(4e3,!1));N=N.children[ke]}}applyRedirectCommands(b,_,S){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),b,S)}applyRedirectCreateUrlTree(b,_,S,N){const q=this.createSegmentGroup(b,_.root,S,N);return new An(q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(b,_){const S={};return Object.entries(b).forEach(([N,q])=>{if("string"==typeof q&&q.startsWith(":")){const je=q.substring(1);S[N]=_[je]}else S[N]=q}),S}createSegmentGroup(b,_,S,N){const q=this.createSegments(b,_.segments,S,N);let le={};return Object.entries(_.children).forEach(([je,Ue])=>{le[je]=this.createSegmentGroup(b,Ue,S,N)}),new yn(q,le)}createSegments(b,_,S,N){return _.map(q=>q.path.startsWith(":")?this.findPosParam(b,q,N):this.findOrReturn(q,S))}findPosParam(b,_,S){const N=S[_.path.substring(1)];if(!N)throw new y.vHH(4001,!1);return N}findOrReturn(b,_){let S=0;for(const N of _){if(N.path===b.path)return _.splice(S),N;S++}return b}}const ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uo(E,b,_,S,N){const q=Ks(E,b,_);return q.matched?(S=function es(E,b){return E.providers&&!E._injector&&(E._injector=(0,y.MMx)(E.providers,b,`Route: ${E.path}`)),E._injector??b}(b,S),function $i(E,b,_,S){const N=b.canMatch;if(!N||0===N.length)return(0,ee.of)(!0);const q=N.map(le=>{const je=us(le,E);return er(function Fo(E){return E&&Ai(E.canMatch)}(je)?je.canMatch(b,_):E.runInContext(()=>je(b,_)))});return(0,ee.of)(q).pipe(Gs(),yo())}(S,b,_).pipe((0,Ze.U)(le=>!0===le?q:{...ts}))):(0,ee.of)(q)}function Ks(E,b,_){if(""===b.path)return"full"===b.pathMatch&&(E.hasChildren()||_.length>0)?{...ts}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const N=(b.matcher||Xt)(_,E,b);if(!N)return{...ts};const q={};Object.entries(N.posParams??{}).forEach(([je,Ue])=>{q[je]=Ue.path});const le=N.consumed.length>0?{...q,...N.consumed[N.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:N.consumed,remainingSegments:_.slice(N.consumed.length),parameters:le,positionalParamSegments:N.posParams??{}}}function Bo(E,b,_,S){return _.length>0&&function V(E,b,_){return _.some(S=>T(E,b,S)&&di(S)!==ke)}(E,_,S)?{segmentGroup:new yn(b,vo(S,new yn(_,E.children))),slicedSegments:[]}:0===_.length&&function m(E,b,_){return _.some(S=>T(E,b,S))}(E,_,S)?{segmentGroup:new yn(E.segments,jo(E,0,_,S,E.children)),slicedSegments:_}:{segmentGroup:new yn(E.segments,E.children),slicedSegments:_}}function jo(E,b,_,S,N){const q={};for(const le of S)if(T(E,_,le)&&!N[di(le)]){const je=new yn([],{});q[di(le)]=je}return{...N,...q}}function vo(E,b){const _={};_[ke]=b;for(const S of E)if(""===S.path&&di(S)!==ke){const N=new yn([],{});_[di(S)]=N}return _}function T(E,b,_){return(!(E.hasChildren()||b.length>0)||"full"!==_.pathMatch)&&""===_.path}class _e{constructor(b,_,S,N,q,le,je){this.injector=b,this.configLoader=_,this.rootComponentType=S,this.config=N,this.urlTree=q,this.paramsInheritanceStrategy=le,this.urlSerializer=je,this.allowRedirects=!0,this.applyRedirects=new ao(this.urlSerializer,this.urlTree)}noMatchError(b){return new y.vHH(4002,!1)}recognize(){const b=Bo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,ke).pipe((0,sn.K)(_=>{if(_ instanceof vs)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Fi?this.noMatchError(_):_}),(0,Ze.U)(_=>{const S=new Ji([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),N=new vr(S,_),q=new ss("",N),le=function Kn(E,b,_=null,S=null){return Yi(nr(E),b,_,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(le),this.inheritParamsAndData(q._root),{state:q,tree:le}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,ke).pipe((0,sn.K)(S=>{throw S instanceof Fi?this.noMatchError(S):S}))}inheritParamsAndData(b){const _=b.value,S=Qs(_,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data),b.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(b,_,S,N){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,_,S):this.processSegment(b,_,S,S.segments,N,!0)}processChildren(b,_,S){const N=[];for(const q of Object.keys(S.children))"primary"===q?N.unshift(q):N.push(q);return(0,he.D)(N).pipe((0,Wt.b)(q=>{const le=S.children[q],je=function io(E,b){const _=E.filter(S=>di(S)===b);return _.push(...E.filter(S=>di(S)!==b)),_}(_,q);return this.processSegmentGroup(b,je,le,q)}),(0,Dr.R)((q,le)=>(q.push(...le),q)),ct(null),function Ve(E,b){const _=arguments.length>=2;return S=>S.pipe(E?(0,Oe.h)((N,q)=>E(N,q,S)):Yt.y,Tr(1),_?ct(b):_n(()=>new ge))}(),(0,Ee.z)(q=>{if(null===q)return oo(S);const le=Qe(q);return function pe(E){E.sort((b,_)=>b.value.outlet===ke?-1:_.value.outlet===ke?1:b.value.outlet.localeCompare(_.value.outlet))}(le),(0,ee.of)(le)}))}processSegment(b,_,S,N,q,le){return(0,he.D)(_).pipe((0,Wt.b)(je=>this.processSegmentAgainstRoute(je._injector??b,_,je,S,N,q,le).pipe((0,sn.K)(Ue=>{if(Ue instanceof Fi)return(0,ee.of)(null);throw Ue}))),Ge(je=>!!je),(0,sn.K)(je=>{if(Xo(je))return function B(E,b,_){return 0===b.length&&!E.children[_]}(S,N,q)?(0,ee.of)([]):oo(S);throw je}))}processSegmentAgainstRoute(b,_,S,N,q,le,je){return function M(E,b,_,S){return!!(di(E)===S||S!==ke&&T(b,_,E))&&("**"===E.path||Ks(b,E,_).matched)}(S,N,q,le)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(b,N,S,q,le,je):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,N,_,S,q,le):oo(N):oo(N)}expandSegmentAgainstRouteUsingRedirect(b,_,S,N,q,le){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,N,le):this.expandRegularSegmentAgainstRouteUsingRedirect(b,_,S,N,q,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,_,S,N){const q=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?ei(q):this.applyRedirects.lineralizeSegments(S,q).pipe((0,Ee.z)(le=>{const je=new yn(le,{});return this.processSegment(b,_,je,le,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,_,S,N,q,le){const{matched:je,consumedSegments:Ue,remainingSegments:Vt,positionalParamSegments:pn}=Ks(_,N,q);if(!je)return oo(_);const br=this.applyRedirects.applyRedirectCommands(Ue,N.redirectTo,pn);return N.redirectTo.startsWith("/")?ei(br):this.applyRedirects.lineralizeSegments(N,br).pipe((0,Ee.z)(Bn=>this.processSegment(b,S,_,Bn.concat(Vt),le,!1)))}matchSegmentAgainstRoute(b,_,S,N,q,le){let je;if("**"===S.path){const Ue=N.length>0?Wn(N).parameters:{},Vt=new Ji(N,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rt(S),di(S),S.component??S._loadedComponent??null,S,On(S));je=(0,ee.of)({snapshot:Vt,consumedSegments:[],remainingSegments:[]}),_.children={}}else je=uo(_,S,N,b).pipe((0,Ze.U)(({matched:Ue,consumedSegments:Vt,remainingSegments:pn,parameters:br})=>Ue?{snapshot:new Ji(Vt,br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rt(S),di(S),S.component??S._loadedComponent??null,S,On(S)),consumedSegments:Vt,remainingSegments:pn}:null));return je.pipe((0,vt.w)(Ue=>null===Ue?oo(_):this.getChildConfig(b=S._injector??b,S,N).pipe((0,vt.w)(({routes:Vt})=>{const pn=S._loadedInjector??b,{snapshot:br,consumedSegments:Bn,remainingSegments:Rs}=Ue,{segmentGroup:vi,slicedSegments:wa}=Bo(_,Bn,Rs,Vt);if(0===wa.length&&vi.hasChildren())return this.processChildren(pn,Vt,vi).pipe((0,Ze.U)(Bi=>null===Bi?null:[new vr(br,Bi)]));if(0===Vt.length&&0===wa.length)return(0,ee.of)([new vr(br,[])]);const Wa=di(S)===q;return this.processSegment(pn,Vt,vi,wa,Wa?ke:q,!0).pipe((0,Ze.U)(Bi=>[new vr(br,Bi)]))}))))}getChildConfig(b,_,S){return _.children?(0,ee.of)({routes:_.children,injector:b}):_.loadChildren?void 0!==_._loadedRoutes?(0,ee.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function _o(E,b,_,S){const N=b.canLoad;if(void 0===N||0===N.length)return(0,ee.of)(!0);const q=N.map(le=>{const je=us(le,E);return er(function oc(E){return E&&Ai(E.canLoad)}(je)?je.canLoad(b,_):E.runInContext(()=>je(b,_)))});return(0,ee.of)(q).pipe(Gs(),yo())}(b,_,S).pipe((0,Ee.z)(N=>N?this.configLoader.loadChildren(b,_).pipe((0,an.b)(q=>{_._loadedRoutes=q.routes,_._loadedInjector=q.injector})):function Ci(E){return(0,fe._)(Di(!1,3))}())):(0,ee.of)({routes:[],injector:b})}}function xe(E){const b=E.value.routeConfig;return b&&""===b.path}function Qe(E){const b=[],_=new Set;for(const S of E){if(!xe(S)){b.push(S);continue}const N=b.find(q=>S.value.routeConfig===q.value.routeConfig);void 0!==N?(N.children.push(...S.children),_.add(N)):b.push(S)}for(const S of _){const N=Qe(S.children);b.push(new vr(S.value,N))}return b.filter(S=>!_.has(S))}function Rt(E){return E.data||{}}function On(E){return E.resolve||{}}function qr(E){return"string"==typeof E.title||null===E.title}function Lr(E){return(0,vt.w)(b=>{const _=E(b);return _?(0,he.D)(_).pipe((0,Ze.U)(()=>b)):(0,ee.of)(b)})}const D=new y.OlP("ROUTES");let U=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ee.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const S=er(_.loadComponent()).pipe((0,Ze.U)(oe),(0,an.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=q}),(0,qe.x)(()=>{this.componentLoaders.delete(_)})),N=new Se.c(S,()=>new De.x).pipe((0,He.x)());return this.componentLoaders.set(_,N),N}loadChildren(_,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ee.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const q=function P(E,b,_,S){return er(E.loadChildren()).pipe((0,Ze.U)(oe),(0,Ee.z)(N=>N instanceof y.YKP||Array.isArray(N)?(0,ee.of)(N):(0,he.D)(b.compileModuleAsync(N))),(0,Ze.U)(N=>{S&&S(E);let q,le,je=!1;return Array.isArray(N)?(le=N,!0):(q=N.create(_).injector,le=q.get(D,[],{optional:!0,self:!0}).flat()),{routes:le.map(li),injector:q}}))}(S,this.compiler,_,this.onLoadEndListener).pipe((0,qe.x)(()=>{this.childrenLoaders.delete(S)})),le=new Se.c(q,()=>new De.x).pipe((0,He.x)());return this.childrenLoaders.set(S,le),le}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function oe(E){return function L(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Me=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.transitionAbortSubject=new De.x,this.configLoader=(0,y.f3M)(U),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(zt),this.rootContexts=(0,y.f3M)(Tt),this.inputBindingEnabled=null!==(0,y.f3M)(Xi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Ds(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new Fs(N))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:S})}setupNavigations(_,S,N){return this.transitions=new j.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:_.urlHandlingStrategy.extract(S),urlAfterRedirects:_.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ks,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Oe.h)(q=>0!==q.id),(0,Ze.U)(q=>({...q,extractedUrl:_.urlHandlingStrategy.extract(q.rawUrl)})),(0,vt.w)(q=>{this.currentTransition=q;let le=!1,je=!1;return(0,ee.of)(q).pipe((0,an.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vt.w)(Ue=>{const Vt=Ue.currentBrowserUrl.toString(),pn=!_.navigated||Ue.extractedUrl.toString()!==Vt||Vt!==Ue.currentUrlTree.toString();if(!pn&&"reload"!==(Ue.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Bn="";return this.events.next(new ms(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),Bn,0)),Ue.resolve(null),ce.E}if(_.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,ee.of)(Ue).pipe((0,vt.w)(Bn=>{const Rs=this.transitions?.getValue();return this.events.next(new hr(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),Bn.source,Bn.restoredState)),Rs!==this.transitions?.getValue()?ce.E:Promise.resolve(Bn)}),function In(E,b,_,S,N,q){return(0,Ee.z)(le=>function X(E,b,_,S,N,q,le="emptyOnly"){return new _e(E,b,_,S,N,le,q).recognize()}(E,b,_,S,le.extractedUrl,N,q).pipe((0,Ze.U)(({state:je,tree:Ue})=>({...le,targetSnapshot:je,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,an.b)(Bn=>{q.targetSnapshot=Bn.targetSnapshot,q.urlAfterRedirects=Bn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Bn.urlAfterRedirects};const Rs=new Ls(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects),Bn.targetSnapshot);this.events.next(Rs)}));if(pn&&_.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:Bn,extractedUrl:Rs,source:vi,restoredState:wa,extras:Wa}=Ue,Bi=new hr(Bn,this.urlSerializer.serialize(Rs),vi,wa);this.events.next(Bi);const tl=Wr(0,this.rootComponentType).snapshot;return this.currentTransition=q={...Ue,targetSnapshot:tl,urlAfterRedirects:Rs,extras:{...Wa,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(q)}{const Bn="";return this.events.next(new ms(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),Bn,1)),Ue.resolve(null),ce.E}}),(0,an.b)(Ue=>{const Vt=new Jr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Vt)}),(0,Ze.U)(Ue=>(this.currentTransition=q={...Ue,guards:wi(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},q)),function ea(E,b){return(0,Ee.z)(_=>{const{targetSnapshot:S,currentSnapshot:N,guards:{canActivateChecks:q,canDeactivateChecks:le}}=_;return 0===le.length&&0===q.length?(0,ee.of)({..._,guardsResult:!0}):function po(E,b,_,S){return(0,he.D)(E).pipe((0,Ee.z)(N=>function Jc(E,b,_,S,N){const q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,ee.of)(!0);const le=q.map(je=>{const Ue=Gr(b)??N,Vt=us(je,Ue);return er(function Ea(E){return E&&Ai(E.canDeactivate)}(Vt)?Vt.canDeactivate(E,b,_,S):Ue.runInContext(()=>Vt(E,b,_,S))).pipe(Ge())});return(0,ee.of)(le).pipe(Gs())}(N.component,N.route,_,b,S)),Ge(N=>!0!==N,!0))}(le,S,N,E).pipe((0,Ee.z)(je=>je&&function za(E){return"boolean"==typeof E}(je)?function Uo(E,b,_,S){return(0,he.D)(b).pipe((0,Wt.b)(N=>(0,ue.z)(function go(E,b){return null!==E&&b&&b(new ws(E)),(0,ee.of)(!0)}(N.route.parent,S),function ta(E,b){return null!==E&&b&&b(new No(E)),(0,ee.of)(!0)}(N.route,S),function mo(E,b,_){const S=b[b.length-1],q=b.slice(0,b.length-1).reverse().map(le=>function Br(E){const b=E.routeConfig?E.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:E,guards:b}:null}(le)).filter(le=>null!==le).map(le=>(0,J.P)(()=>{const je=le.guards.map(Ue=>{const Vt=Gr(le.node)??_,pn=us(Ue,Vt);return er(function so(E){return E&&Ai(E.canActivateChild)}(pn)?pn.canActivateChild(S,E):Vt.runInContext(()=>pn(S,E))).pipe(Ge())});return(0,ee.of)(je).pipe(Gs())}));return(0,ee.of)(q).pipe(Gs())}(E,N.path,_),function na(E,b,_){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ee.of)(!0);const N=S.map(q=>(0,J.P)(()=>{const le=Gr(b)??_,je=us(q,le);return er(function Xs(E){return E&&Ai(E.canActivate)}(je)?je.canActivate(b,E):le.runInContext(()=>je(b,E))).pipe(Ge())}));return(0,ee.of)(N).pipe(Gs())}(E,N.route,_))),Ge(N=>!0!==N,!0))}(S,q,E,b):(0,ee.of)(je)),(0,Ze.U)(je=>({..._,guardsResult:je})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,an.b)(Ue=>{if(q.guardsResult=Ue.guardsResult,tn(Ue.guardsResult))throw Kr(0,Ue.guardsResult);const Vt=new Ts(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(Vt)}),(0,Oe.h)(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",3),!1)),Lr(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,ee.of)(Ue).pipe((0,an.b)(Vt=>{const pn=new $s(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(pn)}),(0,vt.w)(Vt=>{let pn=!1;return(0,ee.of)(Vt).pipe(function en(E,b){return(0,Ee.z)(_=>{const{targetSnapshot:S,guards:{canActivateChecks:N}}=_;if(!N.length)return(0,ee.of)(_);let q=0;return(0,he.D)(N).pipe((0,Wt.b)(le=>function mn(E,b,_,S){const N=E.routeConfig,q=E._resolve;return void 0!==N?.title&&!qr(N)&&(q[un]=N.title),function qn(E,b,_,S){const N=function ur(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===N.length)return(0,ee.of)({});const q={};return(0,he.D)(N).pipe((0,Ee.z)(le=>function Vn(E,b,_,S){const N=Gr(b)??S,q=us(E,N);return er(q.resolve?q.resolve(b,_):N.runInContext(()=>q(b,_)))}(E[le],b,_,S).pipe(Ge(),(0,an.b)(je=>{q[le]=je}))),Tr(1),(0,$e.h)(q),(0,sn.K)(le=>Xo(le)?ce.E:(0,fe._)(le)))}(q,E,b,S).pipe((0,Ze.U)(le=>(E._resolvedData=le,E.data=Qs(E,_).resolve,N&&qr(N)&&(E.data[un]=N.title),null)))}(le.route,S,E,b)),(0,an.b)(()=>q++),Tr(1),(0,Ee.z)(le=>q===N.length?(0,ee.of)(_):ce.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,an.b)({next:()=>pn=!0,complete:()=>{pn||this.cancelNavigationTransition(Vt,"",2)}}))}),(0,an.b)(Vt=>{const pn=new fo(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(pn)}))}),Lr(Ue=>{const Vt=pn=>{const br=[];pn.routeConfig?.loadComponent&&!pn.routeConfig._loadedComponent&&br.push(this.configLoader.loadComponent(pn.routeConfig).pipe((0,an.b)(Bn=>{pn.component=Bn}),(0,Ze.U)(()=>{})));for(const Bn of pn.children)br.push(...Vt(Bn));return br};return(0,Q.a)(Vt(Ue.targetSnapshot.root)).pipe(ct(),(0,pt.q)(1))}),Lr(()=>this.afterPreactivation()),(0,Ze.U)(Ue=>{const Vt=function Zs(E,b,_){const S=Er(E,b._root,_?_._root:void 0);return new $n(S,b)}(_.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=q={...Ue,targetRouterState:Vt},q}),(0,an.b)(()=>{this.events.next(new Ke)}),((E,b,_,S)=>(0,Ze.U)(N=>(new Ws(b,N.targetRouterState,N.currentRouterState,_,S).activate(E),N)))(this.rootContexts,_.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,pt.q)(1),(0,an.b)({next:Ue=>{le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ki(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),_.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{le=!0}}),(0,lt.R)(this.transitionAbortSubject.pipe((0,an.b)(Ue=>{throw Ue}))),(0,qe.x)(()=>{le||je||this.cancelNavigationTransition(q,"",1),this.currentNavigation?.id===q.id&&(this.currentNavigation=null)}),(0,sn.K)(Ue=>{if(je=!0,wr(Ue))this.events.next(new gs(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue.message,Ue.cancellationCode)),function As(E){return wr(E)&&tn(E.url)}(Ue)?this.events.next(new Ae(Ue.url)):q.resolve(!1);else{this.events.next(new _i(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue,q.targetSnapshot??void 0));try{q.resolve(_.errorHandler(Ue))}catch(Vt){q.reject(Vt)}}return ce.E}))}))}cancelNavigationTransition(_,S,N){const q=new gs(_.id,this.urlSerializer.serialize(_.extractedUrl),S,N);this.events.next(q),_.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function tt(E){return E!==ks}let Ht=(()=>{class E{buildTitle(_){let S,N=_.root;for(;void 0!==N;)S=this.getResolvedTitleForRoute(N)??S,N=N.children.find(q=>q.outlet===ke);return S}getResolvedTitleForRoute(_){return _.data[un]}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(Hn)},providedIn:"root"})}return E})(),Hn=(()=>{class E extends Ht{constructor(_){super(),this.title=_}updateTitle(_){const S=this.buildTitle(_);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||E)(y.LFG(Gt.Dx))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),cr=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(ut)},providedIn:"root"})}return E})();class sr{shouldDetach(b){return!1}store(b,_){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,_){return b.routeConfig===_.routeConfig}}let ut=(()=>{class E extends sr{static#e=this.\u0275fac=function(){let _;return function(N){return(_||(_=y.n5z(E)))(N||E)}}();static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const bt=new y.OlP("",{providedIn:"root",factory:()=>({})});let xt=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(on)},providedIn:"root"})}return E})(),on=(()=>{class E{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,S){return _}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var or=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(or||{});function xn(E,b){E.events.pipe((0,Oe.h)(_=>_ instanceof ki||_ instanceof gs||_ instanceof _i||_ instanceof ms),(0,Ze.U)(_=>_ instanceof ki||_ instanceof ms?or.COMPLETE:_ instanceof gs&&(0===_.code||1===_.code)?or.REDIRECTING:or.FAILED),(0,Oe.h)(_=>_!==or.REDIRECTING),(0,pt.q)(1)).subscribe(()=>{b()})}function jr(E){throw E}function Ar(E,b,_){return b.parse("/")}const Qn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xe=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this._events=new De.x,this.options=(0,y.f3M)(bt,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||jr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ar,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(xt),this.routeReuseStrategy=(0,y.f3M)(cr),this.titleStrategy=(0,y.f3M)(Ht),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(D,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(Me),this.urlSerializer=(0,y.f3M)(zt),this.location=(0,y.f3M)(it.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Xi,{optional:!0}),this.eventsSubscription=new Ne.w0,this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:N}=this.navigationTransitions;if(null===N)return void(Cn(S)&&this._events.next(S));if(S instanceof hr)tt(N.source)&&(this.browserUrlTree=N.extractedUrl);else if(S instanceof ms)this.rawUrlTree=N.rawUrl;else if(S instanceof Ls){if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(q,N)}this.browserUrlTree=N.urlAfterRedirects}}else if(S instanceof Ke)this.currentUrlTree=N.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N),this.browserUrlTree=N.urlAfterRedirects);else if(S instanceof gs)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(N);else if(S instanceof Ae){const q=this.urlHandlingStrategy.merge(S.url,N.currentRawUrl),le={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tt(N.source)};this.scheduleNavigation(q,ks,null,le,{resolve:N.resolve,reject:N.reject,promise:N.promise})}S instanceof _i&&this.restoreHistory(N,!0),S instanceof ki&&(this.navigated=!0),Cn(S)&&this._events.next(S)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ks,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const S="popstate"===_.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,S,_.state)},0)}))}navigateToSyncWithBrowser(_,S,N){const q={replaceUrl:!0},le=N?.navigationId?N:null;if(N){const Ue={...N};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(q.state=Ue)}const je=this.parseUrl(_);this.scheduleNavigation(je,S,le,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(li),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,S={}){const{relativeTo:N,queryParams:q,fragment:le,queryParamsHandling:je,preserveFragment:Ue}=S,Vt=Ue?this.currentUrlTree.fragment:le;let br,pn=null;switch(je){case"merge":pn={...this.currentUrlTree.queryParams,...q};break;case"preserve":pn=this.currentUrlTree.queryParams;break;default:pn=q||null}null!==pn&&(pn=this.removeEmptyProps(pn));try{br=nr(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),br=this.currentUrlTree.root}return Yi(br,_,pn,Vt??null)}navigateByUrl(_,S={skipLocationChange:!1}){const N=tn(_)?_:this.parseUrl(_),q=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(q,ks,null,S)}navigate(_,S={skipLocationChange:!1}){return function Un(E){for(let b=0;b<E.length;b++)if(null==E[b])throw new y.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,S),S)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let S;try{S=this.urlSerializer.parse(_)}catch(N){S=this.malformedUriErrorHandler(N,this.urlSerializer,_)}return S}isActive(_,S){let N;if(N=!0===S?{...Qn}:!1===S?{...Vi}:S,tn(_))return Pr(this.currentUrlTree,_,N);const q=this.parseUrl(_);return Pr(this.currentUrlTree,q,N)}removeEmptyProps(_){return Object.keys(_).reduce((S,N)=>{const q=_[N];return null!=q&&(S[N]=q),S},{})}scheduleNavigation(_,S,N,q,le){if(this.disposed)return Promise.resolve(!1);let je,Ue,Vt;le?(je=le.resolve,Ue=le.reject,Vt=le.promise):Vt=new Promise((br,Bn)=>{je=br,Ue=Bn});const pn=this.pendingTasks.add();return xn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:q,resolve:je,reject:Ue,promise:Vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vt.catch(br=>Promise.reject(br))}setBrowserUrl(_,S){const N=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(N)||S.extras.replaceUrl){const le={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(N,"",le)}else{const q={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(N,"",q)}}restoreHistory(_,S=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,S){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:S}:{navigationId:_}}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Cn(E){return!(E instanceof Ke||E instanceof Ae)}let Si=(()=>{class E{constructor(_,S,N,q,le,je){this.router=_,this.route=S,this.tabIndexAttribute=N,this.renderer=q,this.el=le,this.locationStrategy=je,this.href=null,this.commands=null,this.onChanges=new De.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ue=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ue||"area"===Ue,this.isAnchorElement?this.subscription=_.events.subscribe(Vt=>{Vt instanceof ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,S,N,q,le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||S||N||q||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,S){const N=this.renderer,q=this.el.nativeElement;null!==S?N.setAttribute(q,_,S):N.removeAttribute(q,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||E)(y.Y36(Xe),y.Y36(Sr),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(it.S$))};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,N){1&S&&y.NdJ("click",function(le){return N.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&S&&y.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",y.VuI],replaceUrl:["replaceUrl","replaceUrl",y.VuI],routerLink:"routerLink"},standalone:!0,features:[y.Xq5,y.TTD]})}return E})();class Th{}let nt=(()=>{class E{constructor(_,S,N,q,le){this.router=_,this.injector=N,this.preloadingStrategy=q,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.h)(_=>_ instanceof ki),(0,Wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,S){const N=[];for(const q of S){q.providers&&!q._injector&&(q._injector=(0,y.MMx)(q.providers,_,`Route: ${q.path}`));const le=q._injector??_,je=q._loadedInjector??le;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&N.push(this.preloadConfig(le,q)),(q.children||q._loadedRoutes)&&N.push(this.processRoutes(je,q.children??q._loadedRoutes))}return(0,he.D)(N).pipe((0,at.J)())}preloadConfig(_,S){return this.preloadingStrategy.preload(S,()=>{let N;N=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(_,S):(0,ee.of)(null);const q=N.pipe((0,Ee.z)(le=>null===le?(0,ee.of)(void 0):(S._loadedRoutes=le.routes,S._loadedInjector=le.injector,this.processRoutes(le.injector??_,le.routes))));if(S.loadComponent&&!S._loadedComponent){const le=this.loader.loadComponent(S);return(0,he.D)([q,le]).pipe((0,at.J)())}return q})}static#e=this.\u0275fac=function(S){return new(S||E)(y.LFG(Xe),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Th),y.LFG(U))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const ti=new y.OlP("");let Xc=(()=>{class E{constructor(_,S,N,q,le={}){this.urlSerializer=_,this.transitions=S,this.viewportScroller=N,this.zone=q,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration=le.scrollPositionRestoration||"disabled",le.anchorScrolling=le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof ki?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof ms&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ae&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ae(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac})}return E})();function Io(E,b){return{\u0275kind:E,\u0275providers:b}}function wh(){const E=(0,y.f3M)(y.zs3);return b=>{const _=E.get(y.z2F);if(b!==_.components[0])return;const S=E.get(Xe),N=E.get(fn);1===E.get(Ia)&&S.initialNavigation(),E.get(ni,null,y.XFs.Optional)?.setUpPreloading(),E.get(ti,null,y.XFs.Optional)?.init(),S.resetRootComponentType(_.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const fn=new y.OlP("",{factory:()=>new De.x}),Ia=new y.OlP("",{providedIn:"root",factory:()=>1}),ni=new y.OlP("");function rn(E){return Io(0,[{provide:ni,useExisting:nt},{provide:Th,useExisting:E}])}const ra=new y.OlP("ROUTER_FORROOT_GUARD"),Je=[it.Ye,{provide:zt,useClass:xi},Xe,Tt,{provide:Sr,useFactory:function Eo(E){return E.routerState.root},deps:[Xe]},U,[]];function kn(){return new y.PXZ("Router",Xe)}let Du=(()=>{class E{constructor(_){}static forRoot(_,S){return{ngModule:E,providers:[Je,[],{provide:D,multi:!0,useValue:_},{provide:ra,useFactory:Da,deps:[[Xe,new y.FiY,new y.tp0]]},{provide:bt,useValue:S||{}},S?.useHash?{provide:it.S$,useClass:it.Do}:{provide:it.S$,useClass:it.b0},{provide:ti,useFactory:()=>{const E=(0,y.f3M)(it.EM),b=(0,y.f3M)(y.R0b),_=(0,y.f3M)(bt),S=(0,y.f3M)(Me),N=(0,y.f3M)(zt);return _.scrollOffset&&E.setOffset(_.scrollOffset),new Xc(N,S,E,b,_)}},S?.preloadingStrategy?rn(S.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:kn},S?.initialNavigation?qs(S):[],S?.bindToComponentInputs?Io(8,[ci,{provide:Xi,useExisting:ci}]).\u0275providers:[],[{provide:cs,useFactory:wh},{provide:y.tb,multi:!0,useExisting:cs}]]}}static forChild(_){return{ngModule:E,providers:[{provide:D,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(S){return new(S||E)(y.LFG(ra,8))};static#t=this.\u0275mod=y.oAB({type:E});static#n=this.\u0275inj=y.cJS({})}return E})();function Da(E){return"guarded"}function qs(E){return["disabled"===E.initialNavigation?Io(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const b=(0,y.f3M)(Xe);return()=>{b.setUpLocationChangeListener()}}},{provide:Ia,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Io(2,[{provide:Ia,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:b=>{const _=b.get(it.V_,Promise.resolve());return()=>_.then(()=>new Promise(S=>{const N=b.get(Xe),q=b.get(fn);xn(N,()=>{S(!0)}),b.get(Me).afterPreactivation=()=>(S(!0),q.closed?(0,ee.of)(void 0):q),N.initialNavigation()}))}}]).\u0275providers:[]]}const cs=new y.OlP("")},534:(ye,re,O)=>{O.d(re,{Jn:()=>Vr,qX:()=>Zn,Xd:()=>Fn,Mq:()=>Gn,C6:()=>Qi,ZF:()=>Ii,KN:()=>Hr});var y=O(5861),$=O(4537),he=O(7879),ee=O(9058);const j=(We,Ce)=>Ce.some(dt=>We instanceof dt);let Q,de;const J=new WeakMap,ne=new WeakMap,fe=new WeakMap,ce=new WeakMap,Se=new WeakMap;let it={get(We,Ce,dt){if(We instanceof IDBTransaction){if("done"===Ce)return ne.get(We);if("objectStoreNames"===Ce)return We.objectStoreNames||fe.get(We);if("store"===Ce)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return se(We[Ce])},set:(We,Ce,dt)=>(We[Ce]=dt,!0),has:(We,Ce)=>We instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in We};function pt(We){return"function"==typeof We?function vt(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Ce){return We.apply(Oe(this),Ce),se(J.get(this))}:function(...Ce){return se(We.apply(Oe(this),Ce))}:function(Ce,...dt){const Ut=We.call(Oe(this),Ce,...dt);return fe.set(Ut,Ce.sort?Ce.sort():[Ce]),se(Ut)}}(We):(We instanceof IDBTransaction&&function Ne(We){if(ne.has(We))return;const Ce=new Promise((dt,Ut)=>{const nn=()=>{We.removeEventListener("complete",Dt),We.removeEventListener("error",jn),We.removeEventListener("abort",jn)},Dt=()=>{dt(),nn()},jn=()=>{Ut(We.error||new DOMException("AbortError","AbortError")),nn()};We.addEventListener("complete",Dt),We.addEventListener("error",jn),We.addEventListener("abort",jn)});ne.set(We,Ce)}(We),j(We,function ge(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,it):We)}function se(We){if(We instanceof IDBRequest)return function De(We){const Ce=new Promise((dt,Ut)=>{const nn=()=>{We.removeEventListener("success",Dt),We.removeEventListener("error",jn)},Dt=()=>{dt(se(We.result)),nn()},jn=()=>{Ut(We.error),nn()};We.addEventListener("success",Dt),We.addEventListener("error",jn)});return Ce.then(dt=>{dt instanceof IDBCursor&&J.set(dt,We)}).catch(()=>{}),Se.set(Ce,We),Ce}(We);if(ce.has(We))return ce.get(We);const Ce=pt(We);return Ce!==We&&(ce.set(We,Ce),Se.set(Ce,We)),Ce}const Oe=We=>Se.get(We),ot=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],_n=new Map;function Et(We,Ce){if(!(We instanceof IDBDatabase)||Ce in We||"string"!=typeof Ce)return;if(_n.get(Ce))return _n.get(Ce);const dt=Ce.replace(/FromIndex$/,""),Ut=Ce!==dt,nn=ct.includes(dt);if(!(dt in(Ut?IDBIndex:IDBObjectStore).prototype)||!nn&&!ot.includes(dt))return;const Dt=function(){var jn=(0,y.Z)(function*(xr,...yr){const gi=this.transaction(xr,nn?"readwrite":"readonly");let Nr=gi.store;return Ut&&(Nr=Nr.index(yr.shift())),(yield Promise.all([Nr[dt](...yr),nn&&gi.done]))[0]});return function(yr){return jn.apply(this,arguments)}}();return _n.set(Ce,Dt),Dt}!function Ze(We){it=We(it)}(We=>({...We,get:(Ce,dt,Ut)=>Et(Ce,dt)||We.get(Ce,dt,Ut),has:(Ce,dt)=>!!Et(Ce,dt)||We.has(Ce,dt)}));class Yt{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function Ge(We){const Ce=We.getComponent();return"VERSION"===Ce?.type}(dt)){const Ut=dt.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(dt=>dt).join(" ")}}const Wt="@firebase/app",sn=new he.Yd("@firebase/app"),st="[DEFAULT]",Qt={[Wt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,An=new Map;function yn(We,Ce){try{We.container.addComponent(Ce)}catch(dt){sn.debug(`Component ${Ce.name} failed to register with FirebaseApp ${We.name}`,dt)}}function Fn(We){const Ce=We.name;if(An.has(Ce))return sn.debug(`There were multiple attempts to register component ${Ce}.`),!1;An.set(Ce,We);for(const dt of jt.values())yn(dt,We);return!0}function Zn(We,Ce){const dt=We.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),We.container.getProvider(Ce)}const ln=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ai{constructor(Ce,dt,Ut){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const Vr="10.5.2";function Ii(We,Ce={}){let dt=We;"object"!=typeof Ce&&(Ce={name:Ce});const Ut=Object.assign({name:st,automaticDataCollectionEnabled:!1},Ce),nn=Ut.name;if("string"!=typeof nn||!nn)throw ln.create("bad-app-name",{appName:String(nn)});if(dt||(dt=(0,ee.aH)()),!dt)throw ln.create("no-options");const Dt=jt.get(nn);if(Dt){if((0,ee.vZ)(dt,Dt.options)&&(0,ee.vZ)(Ut,Dt.config))return Dt;throw ln.create("duplicate-app",{appName:nn})}const jn=new $.H0(nn);for(const yr of An.values())jn.addComponent(yr);const xr=new ai(dt,Ut,jn);return jt.set(nn,xr),xr}function Gn(We=st){const Ce=jt.get(We);if(!Ce&&We===st&&(0,ee.aH)())return Ii();if(!Ce)throw ln.create("no-app",{appName:We});return Ce}function Qi(){return Array.from(jt.values())}function Hr(We,Ce,dt){var Ut;let nn=null!==(Ut=Qt[We])&&void 0!==Ut?Ut:We;dt&&(nn+=`-${dt}`);const Dt=nn.match(/\s|\//),jn=Ce.match(/\s|\//);if(Dt||jn){const xr=[`Unable to register library "${nn}" with version "${Ce}":`];return Dt&&xr.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),Dt&&jn&&xr.push("and"),jn&&xr.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void sn.warn(xr.join(" "))}Fn(new $.wA(`${nn}-version`,()=>({library:nn,version:Ce}),"VERSION"))}const Ni="firebase-heartbeat-database",Ur=1,me="firebase-heartbeat-store";let W=null;function Y(){return W||(W=function Ee(We,Ce,{blocked:dt,upgrade:Ut,blocking:nn,terminated:Dt}={}){const jn=indexedDB.open(We,Ce),xr=se(jn);return Ut&&jn.addEventListener("upgradeneeded",yr=>{Ut(se(jn.result),yr.oldVersion,yr.newVersion,se(jn.transaction),yr)}),dt&&jn.addEventListener("blocked",yr=>dt(yr.oldVersion,yr.newVersion,yr)),xr.then(yr=>{Dt&&yr.addEventListener("close",()=>Dt()),nn&&yr.addEventListener("versionchange",gi=>nn(gi.oldVersion,gi.newVersion,gi))}).catch(()=>{}),xr}(Ni,Ur,{upgrade:(We,Ce)=>{0===Ce&&We.createObjectStore(me)}}).catch(We=>{throw ln.create("idb-open",{originalErrorMessage:We.message})})),W}function K(){return(K=(0,y.Z)(function*(We){try{return yield(yield Y()).transaction(me).objectStore(me).get(It(We))}catch(Ce){if(Ce instanceof ee.ZR)sn.warn(Ce.message);else{const dt=ln.create("idb-get",{originalErrorMessage:Ce?.message});sn.warn(dt.message)}}})).apply(this,arguments)}function we(We,Ce){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,y.Z)(function*(We,Ce){try{const Ut=(yield Y()).transaction(me,"readwrite");yield Ut.objectStore(me).put(Ce,It(We)),yield Ut.done}catch(dt){if(dt instanceof ee.ZR)sn.warn(dt.message);else{const Ut=ln.create("idb-set",{originalErrorMessage:dt?.message});sn.warn(Ut.message)}}})).apply(this,arguments)}function It(We){return`${We.name}!${We.options.appId}`}class Zt{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new nr(dt),this._heartbeatsCachePromise=this._storage.read().then(Ut=>(this._heartbeatsCache=Ut,Ut))}triggerHeartbeat(){var Ce=this;return(0,y.Z)(function*(){const Ut=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=tn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==nn&&!Ce._heartbeatsCache.heartbeats.some(Dt=>Dt.date===nn))return Ce._heartbeatsCache.heartbeats.push({date:nn,agent:Ut}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Dt=>{const jn=new Date(Dt.date).valueOf();return Date.now()-jn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,y.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const dt=tn(),{heartbeatsToSend:Ut,unsentEntries:nn}=function Kn(We,Ce=1024){const dt=[];let Ut=We.slice();for(const nn of We){const Dt=dt.find(jn=>jn.agent===nn.agent);if(Dt){if(Dt.dates.push(nn.date),Yi(dt)>Ce){Dt.dates.pop();break}}else if(dt.push({agent:nn.agent,dates:[nn.date]}),Yi(dt)>Ce){dt.pop();break}Ut=Ut.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Ut}}(Ce._heartbeatsCache.heartbeats),Dt=(0,ee.L)(JSON.stringify({version:2,heartbeats:Ut}));return Ce._heartbeatsCache.lastSentHeartbeatDate=dt,nn.length>0?(Ce._heartbeatsCache.heartbeats=nn,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Dt})()}}function tn(){return(new Date).toISOString().substring(0,10)}class nr{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,y.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function G(We){return K.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var dt=this;return(0,y.Z)(function*(){var Ut;if(yield dt._canUseIndexedDBPromise){const Dt=yield dt.read();return we(dt.app,{lastSentHeartbeatDate:null!==(Ut=Ce.lastSentHeartbeatDate)&&void 0!==Ut?Ut:Dt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var dt=this;return(0,y.Z)(function*(){var Ut;if(yield dt._canUseIndexedDBPromise){const Dt=yield dt.read();return we(dt.app,{lastSentHeartbeatDate:null!==(Ut=Ce.lastSentHeartbeatDate)&&void 0!==Ut?Ut:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...Ce.heartbeats]})}})()}}function Yi(We){return(0,ee.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Is(We){Fn(new $.wA("platform-logger",Ce=>new Yt(Ce),"PRIVATE")),Fn(new $.wA("heartbeat",Ce=>new Zt(Ce),"PRIVATE")),Hr(Wt,"0.9.22",We),Hr(Wt,"0.9.22","esm2017"),Hr("fire-js","")}("")},4537:(ye,re,O)=>{O.d(re,{H0:()=>ge,wA:()=>he});var y=O(5861),$=O(9058);class he{constructor(J,ne,fe){this.name=J,this.instanceFactory=ne,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ee="[DEFAULT]";class j{constructor(J,ne){this.name=J,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ne=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ne)){const fe=new $.BH;if(this.instancesDeferred.set(ne,fe),this.isInitialized(ne)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:ne});ce&&fe.resolve(ce)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(J){var ne;const fe=this.normalizeInstanceIdentifier(J?.identifier),ce=null!==(ne=J?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Se){if(ce)return null;throw Se}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function de(ue){return"EAGER"===ue.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[ne,fe]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(ne);try{const Se=this.getOrInitializeService({instanceIdentifier:ce});fe.resolve(Se)}catch{}}}}clearInstance(J=ee){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,y.Z)(function*(){const ne=Array.from(J.instances.values());yield Promise.all([...ne.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ne.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ee){return this.instances.has(J)}getOptions(J=ee){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ne={}}=J,fe=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:fe,options:ne});for(const[Se,De]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Se)&&De.resolve(ce);return ce}onInit(J,ne){var fe;const ce=this.normalizeInstanceIdentifier(ne),Se=null!==(fe=this.onInitCallbacks.get(ce))&&void 0!==fe?fe:new Set;Se.add(J),this.onInitCallbacks.set(ce,Se);const De=this.instances.get(ce);return De&&J(De,ce),()=>{Se.delete(J)}}invokeOnInitCallbacks(J,ne){const fe=this.onInitCallbacks.get(ne);if(fe)for(const ce of fe)try{ce(J,ne)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ne={}}){let fe=this.instances.get(J);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=J,ue===ee?void 0:ue),options:ne}),this.instances.set(J,fe),this.instancesOptions.set(J,ne),this.invokeOnInitCallbacks(fe,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,fe)}catch{}var ue;return fe||null}normalizeInstanceIdentifier(J=ee){return this.component?this.component.multipleInstances?J:ee:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ne=this.getProvider(J.name);if(ne.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ne.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ne=new j(J,this);return this.providers.set(J,ne),ne}getProviders(){return Array.from(this.providers.values())}}},7879:(ye,re,O)=>{O.d(re,{Yd:()=>de,in:()=>$});const y=[];var $=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}($||{});const he={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,j={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Q=(J,ne,...fe)=>{if(ne<J.logLevel)return;const ce=(new Date).toISOString(),Se=j[ne];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Se](`[${ce}]  ${J.name}:`,...fe)};class de{constructor(ne){this.name=ne,this._logLevel=ee,this._logHandler=Q,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in $))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?he[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...ne),this._logHandler(this,$.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...ne),this._logHandler(this,$.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,$.INFO,...ne),this._logHandler(this,$.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,$.WARN,...ne),this._logHandler(this,$.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...ne),this._logHandler(this,$.ERROR,...ne)}}},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(re,O){if(this.action=re,this.timestamp=O,this.type=PERFORM_ACTION,typeof re.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(re){this.timestamp=re,this.type=RESET}}class Rollback{constructor(re){this.timestamp=re,this.type=ROLLBACK}}class Commit{constructor(re){this.timestamp=re,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(re){this.id=re,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(re,O,y=!0){this.start=re,this.end=O,this.active=y,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(re){this.index=re,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(re){this.actionId=re,this.type=JUMP_TO_ACTION}}class ImportState{constructor(re){this.nextLiftedState=re,this.type=IMPORT_STATE}}class LockChanges{constructor(re){this.status=re,this.type=LOCK_CHANGES}}class PauseRecording{constructor(re){this.status=re,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ye){const re={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},O="function"==typeof ye?ye():ye,$=O.features||!!O.logOnly&&{pause:!0,export:!0,test:!0}||re.features;!0===$.import&&($.import="custom");const he=Object.assign({},re,{features:$},O);if(he.maxAge&&he.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${he.maxAge}`);return he}function difference(ye,re){return ye.filter(O=>re.indexOf(O)<0)}function unliftState(ye){const{computedStates:re,currentStateIndex:O}=ye;if(O>=re.length){const{state:$}=re[re.length-1];return $}const{state:y}=re[O];return y}function unliftAction(ye){return ye.actionsById[ye.nextActionId-1]}function liftAction(ye){return new PerformAction(ye,+Date.now())}function sanitizeActions(ye,re){return Object.keys(re).reduce((O,y)=>{const $=Number(y);return O[$]=sanitizeAction(ye,re[$],$),O},{})}function sanitizeAction(ye,re,O){return{...re,action:ye(re.action,O)}}function sanitizeStates(ye,re){return re.map((O,y)=>({state:sanitizeState(ye,O.state,y),error:O.error}))}function sanitizeState(ye,re,O){return ye(re,O)}function shouldFilterActions(ye){return ye.predicate||ye.actionsSafelist||ye.actionsBlocklist}function filterLiftedState(ye,re,O,y){const $=[],he={},ee=[];return ye.stagedActionIds.forEach((j,Q)=>{const de=ye.actionsById[j];de&&(Q&&isActionFiltered(ye.computedStates[Q],de,re,O,y)||(he[j]=de,$.push(j),ee.push(ye.computedStates[Q])))}),{...ye,stagedActionIds:$,actionsById:he,computedStates:ee}}function isActionFiltered(ye,re,O,y,$){const he=O&&!O(ye,re.action),ee=y&&!re.action.type.match(y.map(Q=>escapeRegExp(Q)).join("|")),j=$&&re.action.type.match($.map(Q=>escapeRegExp(Q)).join("|"));return he||ee||j}function escapeRegExp(ye){return ye.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(ye){return{ngZone:ye?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:ye}}let DevtoolsDispatcher=(()=>{class ye extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=function(){let O;return function($){return(O||(O=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ye)))($||ye)}}();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ye,re,O){this.config=re,this.dispatcher=O,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=ye,this.createActionStreams()}notify(ye,re){if(this.devtoolsExtension)if(ye.type===PERFORM_ACTION){if(re.isLocked||re.isPaused)return;const O=unliftState(re);if(shouldFilterActions(this.config)&&isActionFiltered(O,ye,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const y=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,O,re.currentStateIndex):O,$=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ye,re.nextActionId):ye;this.sendToReduxDevtools(()=>this.extensionConnection.send($,y))}else{const O={...re,stagedActionIds:re.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,re.actionsById):re.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,re.computedStates):re.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,O,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ye=>{const re=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=re,re.init(),re.subscribe(O=>ye.next(O)),re.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ye=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),re=ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.START)),O=ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.STOP)),y=ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(j=>j.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>j),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j))),he=ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),ee=y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O));this.start$=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>he)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ye){const re={name:ye.name,features:ye.features,serialize:ye.serialize,autoPause:ye.autoPause??!1,trace:ye.trace??!1,traceLimit:ye.traceLimit??75};return!1!==ye.maxAge&&(re.maxAge=ye.maxAge),re}sendToReduxDevtools(ye){try{ye()}catch(re){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",re)}}static#_=this.\u0275fac=function ye(re){return new(re||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ye,re,O,y,$){if(y)return{state:O,error:"Interrupted by an error up the chain"};let ee,he=O;try{he=ye(O,re)}catch(j){ee=j.toString(),$.handleError(j)}return{state:he,error:ee}}function recomputeStates(ye,re,O,y,$,he,ee,j,Q){if(re>=ye.length&&ye.length===he.length)return ye;const de=ye.slice(0,re),ge=he.length-(Q?1:0);for(let ue=re;ue<ge;ue++){const J=he[ue],ne=$[J].action,fe=de[ue-1],ce=fe?fe.state:y,Se=fe?fe.error:void 0,Ne=ee.indexOf(J)>-1?fe:computeNextEntry(O,ne,ce,Se,j);de.push(Ne)}return Q&&de.push(ye[ye.length-1]),de}function liftInitialState(ye,re){return{monitorState:re(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ye,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ye,re,O,y,$={}){return he=>(ee,j)=>{let{monitorState:Q,actionsById:de,nextActionId:ge,stagedActionIds:ue,skippedActionIds:J,committedState:ne,currentStateIndex:fe,computedStates:ce,isLocked:Se,isPaused:De}=ee||re;function Ne(vt){let pt=vt,se=ue.slice(1,pt+1);for(let Oe=0;Oe<se.length;Oe++){if(ce[Oe+1].error){pt=Oe,se=ue.slice(1,pt+1);break}delete de[se[Oe]]}J=J.filter(Oe=>-1===se.indexOf(Oe)),ue=[0,...ue.slice(pt+1)],ne=ce[pt].state,ce=ce.slice(pt),fe=fe>pt?fe-pt:0}function it(){de={0:liftAction(INIT_ACTION)},ge=1,ue=[0],J=[],ne=ce[fe].state,fe=0,ce=[]}ee||(de=Object.create(de));let Ze=0;switch(j.type){case LOCK_CHANGES:Se=j.status,Ze=1/0;break;case PAUSE_RECORDING:De=j.status,De?(ue=[...ue,ge],de[ge]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ge++,Ze=ue.length-1,ce=ce.concat(ce[ce.length-1]),fe===ue.length-2&&fe++,Ze=1/0):it();break;case RESET:de={0:liftAction(INIT_ACTION)},ge=1,ue=[0],J=[],ne=ye,fe=0,ce=[];break;case COMMIT:it();break;case ROLLBACK:de={0:liftAction(INIT_ACTION)},ge=1,ue=[0],J=[],fe=0,ce=[];break;case TOGGLE_ACTION:{const{id:vt}=j;J=-1===J.indexOf(vt)?[vt,...J]:J.filter(se=>se!==vt),Ze=ue.indexOf(vt);break}case SET_ACTIONS_ACTIVE:{const{start:vt,end:pt,active:se}=j,Oe=[];for(let Ee=vt;Ee<pt;Ee++)Oe.push(Ee);J=se?difference(J,Oe):[...J,...Oe],Ze=ue.indexOf(vt);break}case JUMP_TO_STATE:fe=j.index,Ze=1/0;break;case JUMP_TO_ACTION:{const vt=ue.indexOf(j.actionId);-1!==vt&&(fe=vt),Ze=1/0;break}case SWEEP:ue=difference(ue,J),J=[],fe=Math.min(fe,ue.length-1);break;case PERFORM_ACTION:{if(Se)return ee||re;if(De||ee&&isActionFiltered(ee.computedStates[fe],j,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const pt=ce[ce.length-1];ce=[...ce.slice(0,-1),computeNextEntry(he,j.action,pt.state,pt.error,O)],Ze=1/0;break}$.maxAge&&ue.length===$.maxAge&&Ne(1),fe===ue.length-1&&fe++;const vt=ge++;de[vt]=j,ue=[...ue,vt],Ze=ue.length-1;break}case IMPORT_STATE:({monitorState:Q,actionsById:de,nextActionId:ge,stagedActionIds:ue,skippedActionIds:J,committedState:ne,currentStateIndex:fe,computedStates:ce,isLocked:Se,isPaused:De}=j.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ze=0,$.maxAge&&ue.length>$.maxAge&&(ce=recomputeStates(ce,Ze,he,ne,de,ue,J,O,De),Ne(ue.length-$.maxAge),Ze=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ce.filter(pt=>pt.error).length>0)Ze=0,$.maxAge&&ue.length>$.maxAge&&(ce=recomputeStates(ce,Ze,he,ne,de,ue,J,O,De),Ne(ue.length-$.maxAge),Ze=1/0);else{if(!De&&!Se){fe===ue.length-1&&fe++;const pt=ge++;de[pt]=new PerformAction(j,+Date.now()),ue=[...ue,pt],Ze=ue.length-1,ce=recomputeStates(ce,Ze,he,ne,de,ue,J,O,De)}ce=ce.map(pt=>({...pt,state:he(pt.state,RECOMPUTE_ACTION)})),fe=ue.length-1,$.maxAge&&ue.length>$.maxAge&&Ne(ue.length-$.maxAge),Ze=1/0}break;default:Ze=1/0}return ce=recomputeStates(ce,Ze,he,ne,de,ue,J,O,De),Q=y(Q,j),{monitorState:Q,actionsById:de,nextActionId:ge,stagedActionIds:ue,skippedActionIds:J,committedState:ne,currentStateIndex:fe,computedStates:ce,isLocked:Se,isPaused:De}}}let StoreDevtools=(()=>{class ye{constructor(O,y,$,he,ee,j,Q,de){const ge=liftInitialState(Q,de.monitor),ue=liftReducerWith(Q,ge,j,de.monitor,de),J=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(y.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),he.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),O,he.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ne=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ue)),fe=injectZoneConfig(de.connectOutsideZone),ce=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=J.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ne),emitInZone(fe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ne},[it,Ze])=>{let vt=Ze(Ne,it);return it.type!==PERFORM_ACTION&&shouldFilterActions(de)&&(vt=filterLiftedState(vt,de.predicate,de.actionsSafelist,de.actionsBlocklist)),he.notify(it,vt),{state:vt,action:it}},{state:ge,action:null})).subscribe(({state:Ne,action:it})=>{ce.next(Ne),it.type===PERFORM_ACTION&&ee.next(it.action)}),this.extensionStartSubscription=he.start$.pipe(emitInZone(fe)).subscribe(()=>{this.refresh()});const Se=ce.asObservable(),De=Se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(De,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(De,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=O,this.liftedState=Se,this.state=De}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(O){this.dispatcher.next(O)}next(O){this.dispatcher.next(O)}error(O){}complete(){}performAction(O){this.dispatch(new PerformAction(O,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(O){this.dispatch(new ToggleAction(O))}jumpToAction(O){this.dispatch(new JumpToAction(O))}jumpToState(O){this.dispatch(new JumpToState(O))}importState(O){this.dispatch(new ImportState(O))}lockChanges(O){this.dispatch(new LockChanges(O))}pauseRecording(O){this.dispatch(new PauseRecording(O))}static#e=this.\u0275fac=function(y){return new(y||ye)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();function emitInZone({ngZone:ye,connectOutsideZone:re}){return O=>re?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(y=>O.subscribe({next:$=>ye.run(()=>y.next($)),error:$=>ye.run(()=>y.error($)),complete:()=>ye.run(()=>y.complete())})):O}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ye,re){return!!ye||re.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ye="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[ye]<"u"?window[ye]:null}function provideStoreDevtools(ye={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:ye},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(ye){return ye.state}let StoreDevtoolsModule=(()=>{class ye{static instrument(O={}){return{ngModule:ye,providers:[provideStoreDevtools(O)]}}static#e=this.\u0275fac=function(y){return new(y||ye)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ye});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return ye})()},4221:(ye,re,O)=>{O.d(re,{UO:()=>ct,qg:()=>ot,Y6:()=>Ge,mK:()=>ht,n$:()=>Re,Y$:()=>jt,FR:()=>yn,yh:()=>Oi,Aw:()=>zs,wb:()=>Nt,R7:()=>se,ZF:()=>Zt,Lq:()=>ui,P1:()=>It,uZ:()=>Oe,on:()=>No,Ky:()=>Ne});var y=O(5879),$=O(5619),he=O(5592),ee=O(8645),j=O(2381),Q=O(3093),de=O(2460),ge=O(6699),ue=O(7398),ne=O(3997),fe=O(1993);const ce={};function De(ae,Ke){if(ce[ae]=(ce[ae]||0)+1,"function"==typeof Ke)return Ze(ae,(...Le)=>({...Ke(...Le),type:ae}));switch(Ke?Ke._as:"empty"){case"empty":return Ze(ae,()=>({type:ae}));case"props":return Ze(ae,Le=>({...Le,type:ae}));default:throw new Error("Unexpected config.")}}function Ne(){return{_as:"props",_p:void 0}}function Ze(ae,Ke){return Object.defineProperty(Ke,"type",{value:ae,writable:!1})}function se(ae){const{source:Ke,events:Ae}=ae;return Object.keys(Ae).reduce((Le,mt)=>({...Le,[Ee(mt)]:De(et(Ke,mt),Ae[mt])}),{})}function Oe(){return{_as:"props",_p:void 0}}function Ee(ae){return ae.trim().split(" ").map((Ke,Ae)=>0===Ae?function pt(ae){return ae.charAt(0).toLowerCase()+ae.substring(1)}(Ke):function vt(ae){return ae.charAt(0).toUpperCase()+ae.substring(1)}(Ke)).join("")}function et(ae,Ke){return`[${ae}] ${Ke}`}const ot="@ngrx/store/init";let ct=(()=>{class ae extends $.X{constructor(){super({type:ot})}next(Ae){if("function"==typeof Ae)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ae>"u")throw new TypeError("Actions must be objects");if(typeof Ae.type>"u")throw new TypeError("Actions must have a type property");super.next(Ae)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Le){return new(Le||ae)};static#t=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac})}return ae})();const _n=[ct],Et=new y.OlP("@ngrx/store Internal Root Guard"),Yt=new y.OlP("@ngrx/store Internal Initial State"),Ge=new y.OlP("@ngrx/store Initial State"),Wt=new y.OlP("@ngrx/store Reducer Factory"),an=new y.OlP("@ngrx/store Internal Reducer Factory Provider"),sn=new y.OlP("@ngrx/store Initial Reducers"),Dr=new y.OlP("@ngrx/store Internal Initial Reducers"),Tr=new y.OlP("@ngrx/store Store Features"),Ve=new y.OlP("@ngrx/store Internal Store Reducers"),$e=new y.OlP("@ngrx/store Internal Feature Reducers"),qe=new y.OlP("@ngrx/store Internal Feature Configs"),He=new y.OlP("@ngrx/store Internal Store Features"),lt=new y.OlP("@ngrx/store Internal Feature Reducers Token"),at=new y.OlP("@ngrx/store Feature Reducers"),Gt=new y.OlP("@ngrx/store User Provided Meta Reducers"),ke=new y.OlP("@ngrx/store Meta Reducers"),un=new y.OlP("@ngrx/store Internal Resolved Meta Reducers"),Kt=new y.OlP("@ngrx/store User Runtime Checks Config"),gn=new y.OlP("@ngrx/store Internal User Runtime Checks Config"),Xt=new y.OlP("@ngrx/store Internal Runtime Checks"),En=new y.OlP("@ngrx/store Check if Action types are unique");function Wn(ae,Ke={}){const Ae=Object.keys(ae),Le={};for(let Tt=0;Tt<Ae.length;Tt++){const vn=Ae[Tt];"function"==typeof ae[vn]&&(Le[vn]=ae[vn])}const mt=Object.keys(Le);return function(vn,fr){vn=void 0===vn?Ke:vn;let ir=!1;const vr={};for(let Ot=0;Ot<mt.length;Ot++){const $n=mt[Ot],Hs=vn[$n],Sr=(0,Le[$n])(Hs,fr);vr[$n]=Sr,ir=ir||Sr!==Hs}return ir?vr:vn}}function Rr(...ae){return function(Ke){if(0===ae.length)return Ke;const Ae=ae[ae.length-1];return ae.slice(0,-1).reduceRight((mt,Tt)=>Tt(mt),Ae(Ke))}}function oi(ae,Ke){return Array.isArray(Ke)&&Ke.length>0&&(ae=Rr.apply(null,[...Ke,ae])),(Ae,Le)=>{const mt=ae(Ae);return(Tt,vn)=>mt(Tt=void 0===Tt?Le:Tt,vn)}}new y.OlP("@ngrx/store Root Store Provider"),new y.OlP("@ngrx/store Feature State Provider");class Re extends he.y{}class ht extends ct{}const Nt="@ngrx/store/update-reducers";let st=(()=>{class ae extends $.X{get currentReducers(){return this.reducers}constructor(Ae,Le,mt,Tt){super(Tt(mt,Le)),this.dispatcher=Ae,this.initialState=Le,this.reducers=mt,this.reducerFactory=Tt}addFeature(Ae){this.addFeatures([Ae])}addFeatures(Ae){const Le=Ae.reduce((mt,{reducers:Tt,reducerFactory:vn,metaReducers:fr,initialState:ir,key:vr})=>{const Ot="function"==typeof Tt?function Pr(ae){const Ke=Array.isArray(ae)&&ae.length>0?Rr(...ae):Ae=>Ae;return(Ae,Le)=>(Ae=Ke(Ae),(mt,Tt)=>Ae(mt=void 0===mt?Le:mt,Tt))}(fr)(Tt,ir):oi(vn,fr)(Tt,ir);return mt[vr]=Ot,mt},{});this.addReducers(Le)}removeFeature(Ae){this.removeFeatures([Ae])}removeFeatures(Ae){this.removeReducers(Ae.map(Le=>Le.key))}addReducer(Ae,Le){this.addReducers({[Ae]:Le})}addReducers(Ae){this.reducers={...this.reducers,...Ae},this.updateReducers(Object.keys(Ae))}removeReducer(Ae){this.removeReducers([Ae])}removeReducers(Ae){Ae.forEach(Le=>{this.reducers=function er(ae,Ke){return Object.keys(ae).filter(Ae=>Ae!==Ke).reduce((Ae,Le)=>Object.assign(Ae,{[Le]:ae[Le]}),{})}(this.reducers,Le)}),this.updateReducers(Ae)}updateReducers(Ae){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Nt,features:Ae})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Le){return new(Le||ae)(y.LFG(ht),y.LFG(Ge),y.LFG(sn),y.LFG(Wt))};static#t=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac})}return ae})();const Qt=[st,{provide:Re,useExisting:st},{provide:ht,useExisting:ct}];let jt=(()=>{class ae extends ee.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let Ae;return function(mt){return(Ae||(Ae=y.n5z(ae)))(mt||ae)}}();static#t=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac})}return ae})();const An=[jt];class yn extends he.y{}let Mr=(()=>{class ae extends $.X{static#e=this.INIT=ot;constructor(Ae,Le,mt,Tt){super(Tt);const vr=Ae.pipe((0,Q.Q)(j.N)).pipe((0,de.M)(Le)).pipe((0,ge.R)(Fn,{state:Tt}));this.stateSubscription=vr.subscribe(({state:Ot,action:$n})=>{this.next(Ot),mt.next($n)}),this.state=(0,fe.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Le){return new(Le||ae)(y.LFG(ct),y.LFG(Re),y.LFG(jt),y.LFG(Ge))};static#n=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac})}return ae})();function Fn(ae={state:void 0},[Ke,Ae]){const{state:Le}=ae;return{state:Ae(Le,Ke),action:Ke}}const Zn=[Mr,{provide:yn,useExisting:Mr}];let Oi=(()=>{class ae extends he.y{constructor(Ae,Le,mt){super(),this.actionsObserver=Le,this.reducerManager=mt,this.source=Ae,this.state=Ae.state}select(Ae,...Le){return xi.call(null,Ae,...Le)(this)}selectSignal(Ae,Le){return(0,y.Flj)(()=>Ae(this.state()),{equal:Le?.equal||((mt,Tt)=>mt===Tt)})}lift(Ae){const Le=new ae(this,this.actionsObserver,this.reducerManager);return Le.operator=Ae,Le}dispatch(Ae){this.actionsObserver.next(Ae)}next(Ae){this.actionsObserver.next(Ae)}error(Ae){this.actionsObserver.error(Ae)}complete(){this.actionsObserver.complete()}addReducer(Ae,Le){this.reducerManager.addReducer(Ae,Le)}removeReducer(Ae){this.reducerManager.removeReducer(Ae)}static#e=this.\u0275fac=function(Le){return new(Le||ae)(y.LFG(yn),y.LFG(ct),y.LFG(st))};static#t=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac})}return ae})();const zt=[Oi];function xi(ae,Ke,...Ae){return function(mt){let Tt;if("string"==typeof ae){const vn=[Ke,...Ae].filter(Boolean);Tt=mt.pipe(function J(...ae){const Ke=ae.length;if(0===Ke)throw new Error("list of properties cannot be empty.");return(0,ue.U)(Ae=>{let Le=Ae;for(let mt=0;mt<Ke;mt++){const Tt=Le?.[ae[mt]];if(!(typeof Tt<"u"))return;Le=Tt}return Le})}(ae,...vn))}else{if("function"!=typeof ae)throw new TypeError(`Unexpected type '${typeof ae}' in select operator, expected 'string' or 'function'`);Tt=mt.pipe((0,ue.U)(vn=>ae(vn,Ke)))}return Tt.pipe((0,ne.x)())}}const ln="https://ngrx.io/guide/store/configuration/runtime-checks";function ai(ae){return void 0===ae}function Vr(ae){return null===ae}function Ii(ae){return Array.isArray(ae)}function pi(ae){return"object"==typeof ae&&null!==ae}function ar(ae){return"function"==typeof ae}let me=!1;function G(ae,Ke){return ae===Ke}function Ye(ae,Ke=G,Ae=G){let Tt,Le=null,mt=null;return{memoized:function vr(){if(void 0!==Tt)return Tt.result;if(!Le)return mt=ae.apply(null,arguments),Le=arguments,mt;if(!function K(ae,Ke,Ae){for(let Le=0;Le<ae.length;Le++)if(!Ae(ae[Le],Ke[Le]))return!0;return!1}(arguments,Le,Ke))return mt;const Ot=ae.apply(null,arguments);return Le=arguments,Ae(mt,Ot)?mt:(mt=Ot,Ot)},reset:function vn(){Le=null,mt=null},setResult:function fr(Ot=void 0){Tt={result:Ot}},clearResult:function ir(){Tt=void 0}}}function It(...ae){return function cn(ae,Ke={stateFn:Lt}){return function(...Ae){let Le=Ae;if(Array.isArray(Le[0])){const[Ot,...$n]=Le;Le=[...Ot,...$n]}else 1===Le.length&&function tn(ae){return!!ae&&"object"==typeof ae&&Object.values(ae).every(Ke=>"function"==typeof Ke)}(Le[0])&&(Le=function Kn(ae){const Ke=Object.values(ae),Ae=Object.keys(ae);return[...Ke,(...mt)=>Ae.reduce((Tt,vn,fr)=>({...Tt,[vn]:mt[fr]}),{})]}(Le[0]));const mt=Le.slice(0,Le.length-1),Tt=Le[Le.length-1],vn=mt.filter(Ot=>Ot.release&&"function"==typeof Ot.release),fr=ae(function(...Ot){return Tt.apply(null,Ot)}),ir=Ye(function(Ot,$n){return Ke.stateFn.apply(null,[Ot,mt,$n,fr])});return Object.assign(ir.memoized,{release:function vr(){ir.reset(),fr.reset(),vn.forEach(Ot=>Ot.release())},projector:fr.memoized,setResult:ir.setResult,clearResult:ir.clearResult})}}(Ye)(...ae)}function Lt(ae,Ke,Ae,Le){if(void 0===Ae){const Tt=Ke.map(vn=>vn(ae));return Le.memoized.apply(null,Tt)}const mt=Ke.map(Tt=>Tt(ae,Ae));return Le.memoized.apply(null,[...mt,Ae])}function Zt(ae){return It(Ke=>{const Ae=Ke[ae];return!function Y(){return me}()&&(0,y.X6Q)()&&!(ae in Ke)&&console.warn(`@ngrx/store: The feature name "${ae}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ae}', ...) or StoreModule.forFeature('${ae}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ae},Ke=>Ke)}function We(ae){return ae instanceof y.OlP?(0,y.f3M)(ae):ae}function Ce(ae,Ke){return Ke.map((Ae,Le)=>{if(ae[Le]instanceof y.OlP){const mt=(0,y.f3M)(ae[Le]);return{key:Ae.key,reducerFactory:mt.reducerFactory?mt.reducerFactory:Wn,metaReducers:mt.metaReducers?mt.metaReducers:[],initialState:mt.initialState}}return Ae})}function dt(ae){return ae.map(Ke=>Ke instanceof y.OlP?(0,y.f3M)(Ke):Ke)}function Ut(ae){return"function"==typeof ae?ae():ae}function nn(ae,Ke){return ae.concat(Ke)}function Dt(){if((0,y.f3M)(Oi,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function xr(ae){Object.freeze(ae);const Ke=ar(ae);return Object.getOwnPropertyNames(ae).forEach(Ae=>{if(!Ae.startsWith("\u0275")&&function Ur(ae,Ke){return Object.prototype.hasOwnProperty.call(ae,Ke)}(ae,Ae)&&(!Ke||"caller"!==Ae&&"callee"!==Ae&&"arguments"!==Ae)){const Le=ae[Ae];(pi(Le)||ar(Le))&&!Object.isFrozen(Le)&&xr(Le)}}),ae}function gi(ae,Ke=[]){return(ai(ae)||Vr(ae))&&0===Ke.length?{path:["root"],value:ae}:Object.keys(ae).reduce((Le,mt)=>{if(Le)return Le;const Tt=ae[mt];return function Ni(ae){return ar(ae)&&ae.hasOwnProperty("\u0275cmp")}(Tt)?Le:!(ai(Tt)||Vr(Tt)||function Ti(ae){return"number"==typeof ae}(Tt)||function Qi(ae){return"boolean"==typeof ae}(Tt)||function Gn(ae){return"string"==typeof ae}(Tt)||Ii(Tt))&&(function tr(ae){if(!function Hr(ae){return pi(ae)&&!Ii(ae)}(ae))return!1;const Ke=Object.getPrototypeOf(ae);return Ke===Object.prototype||null===Ke}(Tt)?gi(Tt,[...Ke,mt]):{path:[...Ke,mt],value:Tt})},!1)}function Nr(ae,Ke){if(!1===ae)return;const Ae=ae.path.join("."),Le=new Error(`Detected unserializable ${Ke} at "${Ae}". ${ln}#strict${Ke}serializability`);throw Le.value=ae.value,Le.unserializablePath=Ae,Le}function Ns(ae){return(0,y.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ae}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function js({strictActionSerializability:ae,strictStateSerializability:Ke}){return Ae=>ae||Ke?function yr(ae,Ke){return function(Ae,Le){Ke.action(Le)&&Nr(gi(Le),"action");const mt=ae(Ae,Le);return Ke.state()&&Nr(gi(mt),"state"),mt}}(Ae,{action:Le=>ae&&!Zi(Le),state:()=>Ke}):Ae}function ps({strictActionImmutability:ae,strictStateImmutability:Ke}){return Ae=>ae||Ke?function jn(ae,Ke){return function(Ae,Le){const mt=Ke.action(Le)?xr(Le):Le,Tt=ae(Ae,mt);return Ke.state()?xr(Tt):Tt}}(Ae,{action:Le=>ae&&!Zi(Le),state:()=>Ke}):Ae}function Zi(ae){return ae.type.startsWith("@ngrx")}function ks({strictActionWithinNgZone:ae}){return Ke=>ae?function mi(ae,Ke){return function(Ae,Le){if(Ke.action(Le)&&!y.R0b.isInAngularZone())throw new Error(`Action '${Le.type}' running outside NgZone. ${ln}#strictactionwithinngzone`);return ae(Ae,Le)}}(Ke,{action:Ae=>ae&&!Zi(Ae)}):Ke}function rr(ae){return[{provide:gn,useValue:ae},{provide:Kt,useFactory:ki,deps:[gn]},{provide:Xt,deps:[Kt],useFactory:Ns},{provide:ke,multi:!0,deps:[Xt],useFactory:ps},{provide:ke,multi:!0,deps:[Xt],useFactory:js},{provide:ke,multi:!0,deps:[Xt],useFactory:ks}]}function hr(){return[{provide:En,multi:!0,deps:[Xt],useFactory:gs}]}function ki(ae){return ae}function gs(ae){if(!ae.strictActionTypeUniqueness)return;const Ke=Object.entries(ce).filter(([,Ae])=>Ae>1).map(([Ae])=>Ae);if(Ke.length)throw new Error(`Action types are registered more than once, ${Ke.map(Ae=>`"${Ae}"`).join(", ")}. ${ln}#strictactiontypeuniqueness`)}function _i(ae={},Ke={}){return[{provide:Et,useFactory:Dt},{provide:Yt,useValue:Ke.initialState},{provide:Ge,useFactory:Ut,deps:[Yt]},{provide:Dr,useValue:ae},{provide:Ve,useExisting:ae instanceof y.OlP?ae:Dr},{provide:sn,deps:[Dr,[new y.tBr(Ve)]],useFactory:We},{provide:Gt,useValue:Ke.metaReducers?Ke.metaReducers:[]},{provide:un,deps:[ke,Gt],useFactory:nn},{provide:an,useValue:Ke.reducerFactory?Ke.reducerFactory:Wn},{provide:Wt,deps:[an,un],useFactory:oi},_n,Qt,An,Zn,zt,rr(Ke.runtimeChecks),hr()]}function Fs(ae,Ke,Ae={}){return[{provide:qe,multi:!0,useValue:ae instanceof Object?{}:Ae},{provide:Tr,multi:!0,useValue:{key:ae instanceof Object?ae.name:ae,reducerFactory:Ae instanceof y.OlP||!Ae.reducerFactory?Wn:Ae.reducerFactory,metaReducers:Ae instanceof y.OlP||!Ae.metaReducers?[]:Ae.metaReducers,initialState:Ae instanceof y.OlP||!Ae.initialState?void 0:Ae.initialState}},{provide:He,deps:[qe,Tr],useFactory:Ce},{provide:$e,multi:!0,useValue:ae instanceof Object?ae.reducer:Ke},{provide:lt,multi:!0,useExisting:Ke instanceof y.OlP?Ke:$e},{provide:at,multi:!0,deps:[$e,[new y.tBr(lt)]],useFactory:dt},hr()]}let Ds=(()=>{class ae{constructor(Ae,Le,mt,Tt,vn,fr){}static#e=this.\u0275fac=function(Le){return new(Le||ae)(y.LFG(ct),y.LFG(Re),y.LFG(jt),y.LFG(Oi),y.LFG(Et,8),y.LFG(En,8))};static#t=this.\u0275mod=y.oAB({type:ae});static#n=this.\u0275inj=y.cJS({})}return ae})(),ws=(()=>{class ae{constructor(Ae,Le,mt,Tt,vn){this.features=Ae,this.featureReducers=Le,this.reducerManager=mt;const fr=Ae.map((ir,vr)=>{const $n=Le.shift()[vr];return{...ir,reducers:$n,initialState:Ut(ir.initialState)}});mt.addFeatures(fr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Le){return new(Le||ae)(y.LFG(He),y.LFG(at),y.LFG(st),y.LFG(Ds),y.LFG(En,8))};static#t=this.\u0275mod=y.oAB({type:ae});static#n=this.\u0275inj=y.cJS({})}return ae})(),zs=(()=>{class ae{static forRoot(Ae,Le){return{ngModule:Ds,providers:[..._i(Ae,Le)]}}static forFeature(Ae,Le,mt={}){return{ngModule:ws,providers:[...Fs(Ae,Le,mt)]}}static#e=this.\u0275fac=function(Le){return new(Le||ae)};static#t=this.\u0275mod=y.oAB({type:ae});static#n=this.\u0275inj=y.cJS({})}return ae})();function No(...ae){return{reducer:ae.pop(),types:ae.map(Le=>Le.type)}}function ui(ae,...Ke){const Ae=new Map;for(const Le of Ke)for(const mt of Le.types){const Tt=Ae.get(mt);Ae.set(mt,Tt?(fr,ir)=>Le.reducer(Tt(fr,ir),ir):Le.reducer)}return function(Le=ae,mt){const Tt=Ae.get(mt.type);return Tt?Tt(Le,mt):Le}}},3182:(ye,re,O)=>{O.d(re,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=O(534);(0,y.KN)("firebase","10.5.2","app")},5861:(ye,re,O)=>{function y(he,ee,j,Q,de,ge,ue){try{var J=he[ge](ue),ne=J.value}catch(fe){return void j(fe)}J.done?ee(ne):Promise.resolve(ne).then(Q,de)}function $(he){return function(){var ee=this,j=arguments;return new Promise(function(Q,de){var ge=he.apply(ee,j);function ue(ne){y(ge,Q,de,ue,J,"next",ne)}function J(ne){y(ge,Q,de,ue,J,"throw",ne)}ue(void 0)})}}O.d(re,{Z:()=>$})},7582:(ye,re,O)=>{function ee(Ve,$e){var qe={};for(var He in Ve)Object.prototype.hasOwnProperty.call(Ve,He)&&$e.indexOf(He)<0&&(qe[He]=Ve[He]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(He=Object.getOwnPropertySymbols(Ve);lt<He.length;lt++)$e.indexOf(He[lt])<0&&Object.prototype.propertyIsEnumerable.call(Ve,He[lt])&&(qe[He[lt]]=Ve[He[lt]])}return qe}function fe(Ve,$e,qe,He){return new(qe||(qe=Promise))(function(at,Gt){function ke(gn){try{Kt(He.next(gn))}catch(Xt){Gt(Xt)}}function un(gn){try{Kt(He.throw(gn))}catch(Xt){Gt(Xt)}}function Kt(gn){gn.done?at(gn.value):function lt(at){return at instanceof qe?at:new qe(function(Gt){Gt(at)})}(gn.value).then(ke,un)}Kt((He=He.apply(Ve,$e||[])).next())})}function se(Ve){return this instanceof se?(this.v=Ve,this):new se(Ve)}function Oe(Ve,$e,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,He=qe.apply(Ve,$e||[]),at=[];return lt={},Gt("next"),Gt("throw"),Gt("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function Gt(En){He[En]&&(lt[En]=function(Sn){return new Promise(function(Pn,Wn){at.push([En,Sn,Pn,Wn])>1||ke(En,Sn)})})}function ke(En,Sn){try{!function un(En){En.value instanceof se?Promise.resolve(En.value.v).then(Kt,gn):Xt(at[0][2],En)}(He[En](Sn))}catch(Pn){Xt(at[0][3],Pn)}}function Kt(En){ke("next",En)}function gn(En){ke("throw",En)}function Xt(En,Sn){En(Sn),at.shift(),at.length&&ke(at[0][0],at[0][1])}}function et(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,$e=Ve[Symbol.asyncIterator];return $e?$e.call(Ve):(Ve=function Ne(Ve){var $e="function"==typeof Symbol&&Symbol.iterator,qe=$e&&Ve[$e],He=0;if(qe)return qe.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&He>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[He++],done:!Ve}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),qe={},He("next"),He("throw"),He("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function He(at){qe[at]=Ve[at]&&function(Gt){return new Promise(function(ke,un){!function lt(at,Gt,ke,un){Promise.resolve(un).then(function(Kt){at({value:Kt,done:ke})},Gt)}(ke,un,(Gt=Ve[at](Gt)).done,Gt.value)})}}}O.d(re,{FC:()=>Oe,KL:()=>et,_T:()=>ee,mG:()=>fe,qq:()=>se}),"function"==typeof SuppressedError&&SuppressedError}},ye=>{ye(ye.s=7968)}]);